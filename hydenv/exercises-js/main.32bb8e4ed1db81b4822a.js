(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/1FC":function(t,e,n){"use strict";e.a=Array.isArray},"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new o(t,this.compare,this.keySelector))}}class o extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},"0EUg":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("bHdf");function i(){return Object(r.a)(1)}},"25cm":function(t,e,n){"use strict";var r=n("tPH9"),i=n("/1FC");e.a=function(t,e,n){var s=e(t);return Object(i.a)(t)?s:Object(r.a)(s,n(t))}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("XNiG"),i=n("9ppp");class s extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3/ER":function(t,e,n){"use strict";(function(t){var r=n("Ju5/"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=s&&s.exports===i?r.a.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,r=a?a(n):new t.constructor(n);return t.copy(r),r}}).call(this,n("3UD+")(t))},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return b})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return S})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return O})),n.d(e,"__classPrivateFieldSet",(function(){return I}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function b(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){s.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(c,u):l(s[0][2],n)}catch(r){l(s[0][3],r)}var n}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function S(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function I(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3Pt+":function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return vt})),n.d(e,"d",(function(){return yt})),n.d(e,"e",(function(){return Dt})),n.d(e,"f",(function(){return Nt})),n.d(e,"g",(function(){return Bt})),n.d(e,"h",(function(){return h})),n.d(e,"i",(function(){return w})),n.d(e,"j",(function(){return S})),n.d(e,"k",(function(){return Et})),n.d(e,"l",(function(){return Lt})),n.d(e,"m",(function(){return At})),n.d(e,"n",(function(){return $})),n.d(e,"o",(function(){return N})),n.d(e,"p",(function(){return F})),n.d(e,"q",(function(){return W})),n.d(e,"r",(function(){return J})),n.d(e,"s",(function(){return Y}));var r=n("fXoL"),i=n("ofXK"),s=n("HDdC"),o=n("DH7j"),a=n("lJxs"),c=n("XoHu"),u=n("Cfvw");function l(t,e){return new s.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(u.a)(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&l||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const h=new r.q("NgValueAccessor"),f={provide:h,useExisting:Object(r.U)(()=>d),multi:!0};let d=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.yb([f])]}),t})();const p={provide:h,useExisting:Object(r.U)(()=>b),multi:!0},g=new r.q("CompositionEventMode");let b=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(i.F)()?Object(i.F)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(g,8))},t.\u0275dir=r.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Zb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.yb([p])]}),t})(),m=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),v=(()=>{class t extends m{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return y(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.wb]}),t})();const y=r.Tb(v);function _(){throw new Error("unimplemented")}class w extends m{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return _()}get asyncValidator(){return _()}}let S=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(w,2))},t.\u0275dir=r.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.wb]}),t})();function E(t){return null==t||0===t.length}function C(t){return null!=t&&"number"==typeof t.length}const O=new r.q("NgValidators"),I=new r.q("NgAsyncValidators"),T=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class A{static min(t){return e=>{if(E(e.value)||E(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(E(e.value)||E(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return E(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return E(t.value)||T.test(t.value)?null:{email:!0}}static minLength(t){return e=>E(e.value)||!C(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>C(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return A.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(E(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(x);return 0==e.length?null:function(t){return L(j(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(x);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(o.a)(e))return l(e,null);if(Object(c.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&Object(o.a)(t[0])?t[0]:t,null).pipe(Object(a.a)(t=>e(...t)))}return l(t,null)}(j(t,e).map(k)).pipe(Object(a.a)(L))}}}function x(t){return null!=t}function k(t){const e=Object(r.rb)(t)?Object(u.a)(t):t;if(!Object(r.qb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function L(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function j(t,e){return e.map(e=>e(t))}function D(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const R={provide:h,useExisting:Object(r.U)(()=>N),multi:!0};let N=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.yb([R])]}),t})();const P={provide:h,useExisting:Object(r.U)(()=>F),multi:!0};let V=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(w),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l),r.Lb(V),r.Lb(r.r))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.yb([P])]}),t})();const M={provide:h,useExisting:Object(r.U)(()=>B),multi:!0};let B=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.yb([M])]}),t})();const z='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',U='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',H='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class G{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+z)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${U}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${H}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+z)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+U)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}.\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in a future version of Angular.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const q={provide:h,useExisting:Object(r.U)(()=>W),multi:!0};function Q(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let W=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Q(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.yb([q])]}),t})(),$=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Q(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.E),r.Lb(W,9))},t.\u0275dir=r.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const K={provide:h,useExisting:Object(r.U)(()=>J),multi:!0};function Z(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let J=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.yb([K])]}),t})(),Y=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Z(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Z(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.E),r.Lb(J,9))},t.\u0275dir=r.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function X(t,e){return[...e.path,t]}function tt(t,e){t||it(e,"Cannot find control with"),e.valueAccessor||it(e,"No value accessor for form control with"),t.validator=A.compose([t.validator,e.validator]),t.asyncValidator=A.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&et(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&et(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function et(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nt(t,e){null==t&&it(e,"Cannot find control with"),t.validator=A.compose([t.validator,e.validator]),t.asyncValidator=A.composeAsync([t.asyncValidator,e.asyncValidator])}function rt(t){return it(t,"There is no FormControl instance attached to form control element with")}function it(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function st(t){return null!=t?A.compose(D(t)):null}function ot(t){return null!=t?A.composeAsync(D(t)):null}const at=[d,B,N,W,J,F];function ct(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ut(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const lt="VALID",ht="INVALID",ft="PENDING",dt="DISABLED";function pt(t){const e=bt(t)?t.validators:t;return Array.isArray(e)?st(e):e||null}function gt(t,e){const n=bt(e)?e.asyncValidators:t;return Array.isArray(n)?ot(n):n||null}function bt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class mt{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===lt}get invalid(){return this.status===ht}get pending(){return this.status==ft}get disabled(){return this.status===dt}get enabled(){return this.status!==dt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=pt(t)}setAsyncValidators(t){this.asyncValidator=gt(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ft,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=dt,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=lt,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==lt&&this.status!==ft||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dt:lt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ft;const e=k(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof yt?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof _t&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?dt:this.errors?ht:this._anyControlsHaveStatus(ft)?ft:this._anyControlsHaveStatus(ht)?ht:lt}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class vt extends mt{constructor(t=null,e,n){super(pt(e),gt(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class yt extends mt{constructor(t,e,n){super(pt(e),gt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof vt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class _t extends mt{constructor(t,e,n){super(pt(e),gt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof vt?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const wt={provide:v,useExisting:Object(r.U)(()=>Et)},St=(()=>Promise.resolve(null))();let Et=(()=>{class t extends v{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new yt({},st(t),ot(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){St.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),tt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){St.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ut(this._directives,t)})}addFormGroup(t){St.then(()=>{const e=this._findContainer(t.path),n=new yt({});nt(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){St.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){St.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,ct(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(O,10),r.Lb(I,10))},t.\u0275dir=r.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Zb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.yb([wt]),r.wb]}),t})(),Ct=(()=>{class t extends v{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return X(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return st(this._validators)}get asyncValidator(){return ot(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Ot(e||t)},t.\u0275dir=r.Gb({type:t,features:[r.wb]}),t})();const Ot=r.Tb(Ct);class It{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${z}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${U}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${H}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${U}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${H}`)}}const Tt={provide:v,useExisting:Object(r.U)(()=>At)};let At=(()=>{class t extends Ct{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof Et||It.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(v,5),r.Lb(O,10),r.Lb(I,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.yb([Tt]),r.wb]}),t})();const xt={provide:w,useExisting:Object(r.U)(()=>Lt)},kt=(()=>Promise.resolve(null))();let Lt=(()=>{class t extends w{constructor(t,e,n,i){super(),this.control=new vt,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||it(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var s;e.constructor===b?n=e:(s=e,at.some(t=>s.constructor===t)?(r&&it(t,"More than one built-in value accessor matches form control with"),r=e):(i&&it(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(it(t,"No valid value accessor for form control with"),null)}(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?X(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return st(this._rawValidators)}get asyncValidator(){return ot(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof At)&&this._parent instanceof Ct?It.formGroupNameException():this._parent instanceof At||this._parent instanceof Et||It.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||It.missingNameException()}_updateValue(t){kt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;kt.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(v,9),r.Lb(O,10),r.Lb(I,10),r.Lb(h,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.yb([xt]),r.wb,r.xb]}),t})();const jt={provide:v,useExisting:Object(r.U)(()=>Dt)};let Dt=(()=>{class t extends v{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return tt(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){ut(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);nt(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);nt(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,ct(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>rt(e)),e.valueAccessor.registerOnTouched(()=>rt(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&tt(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=st(this._validators);this.form.validator=A.compose([this.form.validator,t]);const e=ot(this._asyncValidators);this.form.asyncValidator=A.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||G.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(O,10),r.Lb(I,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Zb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.yb([jt]),r.wb,r.xb]}),t})();const Rt={provide:v,useExisting:Object(r.U)(()=>Nt)};let Nt=(()=>{class t extends Ct{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Ft(this._parent)&&G.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(v,13),r.Lb(O,10),r.Lb(I,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.yb([Rt]),r.wb]}),t})();const Pt={provide:v,useExisting:Object(r.U)(()=>Vt)};let Vt=(()=>{class t extends v{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return X(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return st(this._validators)}get asyncValidator(){return ot(this._asyncValidators)}_checkParentType(){Ft(this._parent)&&G.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(v,13),r.Lb(O,10),r.Lb(I,10))},t.\u0275dir=r.Gb({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.yb([Pt]),r.wb]}),t})();function Ft(t){return!(t instanceof Nt||t instanceof Dt||t instanceof Vt)}let Mt=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})(),Bt=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[V],imports:[Mt]}),t})()},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"3cmB":function(t,e,n){"use strict";var r=n("Y7yP"),i=n("Ju5/"),s=Object(r.a)(i.a,"Map");e.a=s},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function c(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(c((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,e,n),o=this.destination;o.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"5WsY":function(t,e,n){"use strict";var r=n("vJtL"),i=n("Js68");e.a=function(t){return null!=t&&Object(i.a)(t.length)&&!Object(r.a)(t)}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("30Go"),i=n("wj3C"),s=n("q/0M"),o=n("zVF4"),a=n("x7I3"),c=n("S+S0"),u=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(i),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),f=new s.Logger("@firebase/firestore");function d(){return f.logLevel}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=s.LogLevel.DEBUG){var i=e.map(m);f.debug.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=s.LogLevel.ERROR){var i=e.map(m);f.error.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function b(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(f.logLevel<=s.LogLevel.WARN){var i=e.map(m);f.warn.apply(f,r.__spreadArrays(["Firestore (7.24.0): "+t],i))}}function m(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function v(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function y(t,e){t||v()}function _(t,e){return t}function w(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function S(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var C=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v(),void 0===n?n=t.length-e:n>t.length-e&&v(),this.segments=t,this.offset=e,this.t=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.i(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.o(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.u=function(t){return this.o(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},t.prototype.l=function(){return this.segments[this.offset]},t.prototype._=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.m=function(){return 0===this.length},t.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},t.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.prototype.R=function(){return this.A().join("/")},e.prototype.toString=function(){return this.R()},e.g=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.P=function(){return new e([])},e}(C),I=/^[_a-zA-Z][_a-zA-Z0-9]*$/,T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.o=function(t,n,r){return new e(t,n,r)},e.V=function(t){return I.test(t)},e.prototype.R=function(){return this.A().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.V(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.R()},e.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},e.v=function(){return new e(["__name__"])},e.S=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new h(l.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new h(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new h(l.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.P=function(){return new e([])},e}(C),A=function(){function t(t){this.path=t}return t.D=function(e){return new t(O.g(e))},t.C=function(e){return new t(O.g(e).u(5))},t.prototype.N=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===O.i(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.i=function(t,e){return O.i(t.path,e.path)},t.F=function(t){return t.length%2==0},t.$=function(e){return new t(new O(e.slice()))},t}();function x(t,e){if(0!==e.length)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+W(e.length,"argument")+".")}function k(t,e,n){if(e.length!==n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires "+W(n,"argument")+", but was called with "+W(e.length,"argument")+".")}function L(t,e,n){if(e.length<n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires at least "+W(n,"argument")+", but was called with "+W(e.length,"argument")+".")}function j(t,e,n,r){if(e.length<n||e.length>r)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+W(e.length,"argument")+".")}function D(t,e,n,r){M(t,e,Q(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&D(t,e,n,r)}function N(t,e,n,r){M(t,e,n+" option",r)}function P(t,e,n,r){void 0!==r&&N(t,e,n,r)}function V(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var s=[],o=0,a=i;o<a.length;o++){var c=a[o];if(c===r)return;s.push(z(c))}var u=z(r);throw new h(l.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+s.join(", "))}(t,0,n,r,i)}function F(t,e,n,r){if(!e.some((function(t){return t===r})))throw new h(l.INVALID_ARGUMENT,"Invalid value "+z(r)+" provided to function "+t+"() for its "+Q(n)+" argument. Acceptable values: "+e.join(", "));return r}function M(t,e,n,r){if(!("object"===e?B(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=z(r);throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function B(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function z(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v()}function U(t,e,n){if(void 0===n)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Q(e)+" argument, but it was undefined.")}function H(t,e,n){S(e,(function(e,r){if(n.indexOf(e)<0)throw new h(l.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function G(t,e,n,r){var i=z(r);return new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+Q(n)+" argument to be a "+e+", but it was: "+i)}function q(t,e,n){if(n<=0)throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+Q(e)+" argument to be a positive number, but it was: "+n+".")}function Q(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function W(t,e){return t+" "+e+(1===t?"":"s")}function $(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var K=function(){function t(){}return t.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=$(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Z(t,e){return t<e?-1:t>e?1:0}function J(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Y(t){return t+"\0"}var X=function(){function t(t){this.M=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.M)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.M)},t.prototype.O=function(){return 2*this.M.length},t.prototype.L=function(t){return Z(this.M,t.M)},t.prototype.isEqual=function(t){return this.M===t.M},t}();X.B=new X("");var tt=function(){function t(t){this.q=t}return t.fromBase64String=function(e){try{return new t(X.fromBase64String(e))}catch(e){throw new h(l.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(X.fromUint8Array(e))},t.prototype.toBase64=function(){return this.q.toBase64()},t.prototype.toUint8Array=function(){return this.q.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.q.isEqual(t.q)},t}();function et(){if("undefined"==typeof Uint8Array)throw new h(l.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function nt(){if("undefined"==typeof atob)throw new h(l.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.fromBase64String=function(t){k("Blob.fromBase64String",arguments,1),D("Blob.fromBase64String","string",1,t),nt();try{return new e(X.fromBase64String(t))}catch(t){throw new h(l.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(k("Blob.fromUint8Array",arguments,1),et(),!(t instanceof Uint8Array))throw G("Blob.fromUint8Array","Uint8Array",1,t);return new e(X.fromUint8Array(t))},e.prototype.toBase64=function(){return k("Blob.toBase64",arguments,0),nt(),t.prototype.toBase64.call(this)},e.prototype.toUint8Array=function(){return k("Blob.toUint8Array",arguments,0),et(),t.prototype.toUint8Array.call(this)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(tt),it=function(t,e,n,r,i,s){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=s},st=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.L=function(t){return Z(this.projectId,t.projectId)||Z(this.database,t.database)},t}(),ot=function(){function t(t,e){this.K=t,this.G=e,this.H={}}return t.prototype.get=function(t){var e=this.K(t),n=this.H[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.G(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.K(t),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.H[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.K(t),n=this.H[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],t))return 1===n.length?delete this.H[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){S(this.H,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype.m=function(){return E(this.H)},t}(),at=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new h(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new h(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.Y=function(t){return this.seconds===t.seconds?Z(this.nanoseconds,t.nanoseconds):Z(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),ct=function(){function t(t){this.timestamp=t}return t.J=function(e){return new t(e)},t.min=function(){return new t(new at(0,0))},t.prototype.L=function(t){return this.timestamp.Y(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.Z=function(){return this.timestamp},t}();function ut(t){return null==t}function lt(t){return 0===t&&1/t==-1/0}function ht(t){return"number"==typeof t&&Number.isInteger(t)&&!lt(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ft=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.tt=null};function dt(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new ft(t,e,n,r,i,s,o)}function pt(t){var e=_(t);if(null===e.tt){var n=e.path.R();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.R()+t.op.toString()+ie(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.R()+e.dir;var e})).join(","),ut(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=or(e.startAt)),e.endAt&&(n+="|ub:",n+=or(e.endAt)),e.tt=n}return e.tt}function gt(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!hr(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!te(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cr(t.startAt,e.startAt)&&cr(t.endAt,e.endAt)}function bt(t){return A.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}var mt,vt,yt=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=ct.min()),void 0===s&&(s=ct.min()),void 0===o&&(o=X.B),this.target=t,this.targetId=e,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.st=function(e){return new t(this.target,this.targetId,this.et,e,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.it=function(e,n){return new t(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.rt=function(e){return new t(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,e,this.resumeToken)},t}(),_t=function(t){this.count=t};function wt(t){switch(t){case l.OK:return v();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0;default:return v()}}function St(t){if(void 0===t)return g("GRPC error has no .code"),l.UNKNOWN;switch(t){case mt.OK:return l.OK;case mt.CANCELLED:return l.CANCELLED;case mt.UNKNOWN:return l.UNKNOWN;case mt.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case mt.INTERNAL:return l.INTERNAL;case mt.UNAVAILABLE:return l.UNAVAILABLE;case mt.UNAUTHENTICATED:return l.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case mt.NOT_FOUND:return l.NOT_FOUND;case mt.ALREADY_EXISTS:return l.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return l.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case mt.ABORTED:return l.ABORTED;case mt.OUT_OF_RANGE:return l.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return l.UNIMPLEMENTED;case mt.DATA_LOSS:return l.DATA_LOSS;default:return v()}}(vt=mt||(mt={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";var Et=function(){function t(t,e){this.i=t,this.root=e||Ot.EMPTY}return t.prototype.ot=function(e,n){return new t(this.i,this.root.ot(e,n,this.i).copy(null,null,Ot.at,null,null))},t.prototype.remove=function(e){return new t(this.i,this.root.remove(e,this.i).copy(null,null,Ot.at,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.m=function(){return this.root.m()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.ct=function(){return this.root.ct()},t.prototype.ut=function(){return this.root.ut()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.lt=function(t){return this.root.lt(t)},t.prototype._t=function(){return new Ct(this.root,null,this.i,!1)},t.prototype.ft=function(t){return new Ct(this.root,t,this.i,!1)},t.prototype.dt=function(){return new Ct(this.root,null,this.i,!0)},t.prototype.wt=function(t){return new Ct(this.root,t,this.i,!0)},t}(),Ct=function(){function t(t,e,n,r){this.Tt=r,this.Et=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.Tt?t.left:t.right;else{if(0===i){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.m();)this.Et.push(t),t=t.right;else for(t=t.right;!t.m();)this.Et.push(t),t=t.left;return e},t.prototype.At=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),Ot=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.m=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.lt=function(t){return this.right.lt(t)||t(this.key,this.value)||this.left.lt(t)},t.prototype.min=function(){return this.left.m()?this:this.left.min()},t.prototype.ct=function(){return this.min().key},t.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},t.prototype.ot=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.ot(t,e,n))).gt()},t.prototype.Pt=function(){if(this.left.m())return t.EMPTY;var e=this;return e.left.yt()||e.left.left.yt()||(e=e.Vt()),(e=e.copy(null,null,null,e.left.Pt(),null)).gt()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(e,i.key)){if(i.right.m())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.gt()},t.prototype.yt=function(){return this.color},t.prototype.gt=function(){var t=this;return t.right.yt()&&!t.left.yt()&&(t=t.St()),t.left.yt()&&t.left.left.yt()&&(t=t.bt()),t.left.yt()&&t.right.yt()&&(t=t.Dt()),t},t.prototype.Vt=function(){var t=this.Dt();return t.right.left.yt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.bt())).St()).Dt()),t},t.prototype.vt=function(){var t=this.Dt();return t.left.left.yt()&&(t=(t=t.bt()).Dt()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.bt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Dt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Nt();return Math.pow(2,t)<=this.size+1},t.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw v();if(this.right.yt())throw v();var t=this.left.Nt();if(t!==this.right.Nt())throw v();return t+(this.yt()?0:1)},t}();Ot.EMPTY=null,Ot.RED=!0,Ot.at=!1,Ot.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.ot=function(t,e,n){return new Ot(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.m=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.lt=function(t){return!1},t.prototype.ct=function(){return null},t.prototype.ut=function(){return null},t.prototype.yt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Nt=function(){return 0},t}());var It=function(){function t(t){this.i=t,this.data=new Et(this.i)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ct()},t.prototype.last=function(){return this.data.ut()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.Ft=function(t,e){for(var n=this.data.ft(t[0]);n.At();){var r=n.It();if(this.i(r.key,t[1])>=0)return;e(r.key)}},t.prototype.xt=function(t,e){var n;for(n=void 0!==e?this.data.ft(e):this.data._t();n.At();)if(!t(n.It().key))return},t.prototype.$t=function(t){var e=this.data.ft(t);return e.At()?e.It().key:null},t.prototype._t=function(){return new Tt(this.data._t())},t.prototype.ft=function(t){return new Tt(this.data.ft(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ot(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.m=function(){return this.data.m()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),r=e.data._t();n.At();){var i=n.It().key,s=r.It().key;if(0!==this.i(i,s))return!1}return!0},t.prototype.A=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.i);return n.data=e,n},t}(),Tt=function(){function t(t){this.Mt=t}return t.prototype.It=function(){return this.Mt.It().key},t.prototype.At=function(){return this.Mt.At()},t}(),At=new Et(A.i);function xt(){return At}function kt(){return xt()}var Lt=new Et(A.i);function jt(){return Lt}var Dt=new Et(A.i),Rt=new It(A.i);function Nt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Rt,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Pt=new It(Z);function Vt(){return Pt}var Ft=function(){function t(t){this.i=t?function(e,n){return t(e,n)||A.i(e.key,n.key)}:function(t,e){return A.i(t.key,e.key)},this.Ot=jt(),this.Lt=new Et(this.i)}return t.Bt=function(e){return new t(e.i)},t.prototype.has=function(t){return null!=this.Ot.get(t)},t.prototype.get=function(t){return this.Ot.get(t)},t.prototype.first=function(){return this.Lt.ct()},t.prototype.last=function(){return this.Lt.ut()},t.prototype.m=function(){return this.Lt.m()},t.prototype.indexOf=function(t){var e=this.Ot.get(t);return e?this.Lt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Lt.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ot.ot(t.key,t),e.Lt.ot(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ot.remove(t),this.Lt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Lt._t(),r=e.Lt._t();n.At();){var i=n.It().key,s=r.It().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.i=this.i,r.Ot=e,r.Lt=n,r},t}(),Mt=function(){function t(){this.qt=new Et(A.i)}return t.prototype.track=function(t){var e=t.doc.key,n=this.qt.get(e);n?0!==t.type&&3===n.type?this.qt=this.qt.ot(e,t):3===t.type&&1!==n.type?this.qt=this.qt.ot(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.qt=this.qt.ot(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.qt=this.qt.remove(e):1===t.type&&2===n.type?this.qt=this.qt.ot(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.qt=this.qt.ot(e,{type:2,doc:t.doc}):v():this.qt=this.qt.ot(e,t)},t.prototype.Ut=function(){var t=[];return this.qt.ht((function(e,n){t.push(n)})),t},t}(),Bt=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=s,this.jt=o,this.Kt=a}return t.Gt=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,Ft.Bt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.jt===t.jt&&this.Wt.isEqual(t.Wt)&&qn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Qt.isEqual(t.Qt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),zt=function(){function t(t,e,n,r,i){this.nt=t,this.zt=e,this.Ht=n,this.Yt=r,this.Jt=i}return t.Xt=function(e,n){var r=new Map;return r.set(e,Ut.Zt(e,n)),new t(ct.min(),r,Vt(),xt(),Nt())},t}(),Ut=function(){function t(t,e,n,r,i){this.resumeToken=t,this.te=e,this.ee=n,this.ne=r,this.se=i}return t.Zt=function(e,n){return new t(X.B,n,Nt(),Nt(),Nt())},t}(),Ht=function(t,e,n,r){this.ie=t,this.removedTargetIds=e,this.key=n,this.re=r},Gt=function(t,e){this.targetId=t,this.oe=e},qt=function(t,e,n,r){void 0===n&&(n=X.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Qt=function(){function t(){this.ae=0,this.ce=Kt(),this.ue=X.B,this.he=!1,this.le=!0}return Object.defineProperty(t.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),t.prototype.de=function(t){t.O()>0&&(this.le=!0,this.ue=t)},t.prototype.we=function(){var t=Nt(),e=Nt(),n=Nt();return this.ce.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:v()}})),new Ut(this.ue,this.he,t,e,n)},t.prototype.me=function(){this.le=!1,this.ce=Kt()},t.prototype.Te=function(t,e){this.le=!0,this.ce=this.ce.ot(t,e)},t.prototype.Ee=function(t){this.le=!0,this.ce=this.ce.remove(t)},t.prototype.Ie=function(){this.ae+=1},t.prototype.Ae=function(){this.ae-=1},t.prototype.Re=function(){this.le=!0,this.he=!0},t}(),Wt=function(){function t(t){this.ge=t,this.Pe=new Map,this.ye=xt(),this.Ve=$t(),this.pe=new It(Z)}return t.prototype.be=function(t){for(var e=0,n=t.ie;e<n.length;e++){var r=n[e];t.re instanceof xn?this.ve(r,t.re):t.re instanceof kn&&this.Se(r,t.key,t.re)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.Se(s[i],t.key,t.re)},t.prototype.De=function(t){var e=this;this.Ce(t,(function(n){var r=e.Ne(n);switch(t.state){case 0:e.Fe(n)&&r.de(t.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(t.resumeToken);break;case 2:r.Ae(),r._e||e.removeTarget(n);break;case 3:e.Fe(n)&&(r.Re(),r.de(t.resumeToken));break;case 4:e.Fe(n)&&(e.xe(n),r.de(t.resumeToken));break;default:v()}}))},t.prototype.Ce=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Pe.forEach((function(t,r){n.Fe(r)&&e(r)}))},t.prototype.$e=function(t){var e=t.targetId,n=t.oe.count,r=this.ke(e);if(r){var i=r.target;if(bt(i))if(0===n){var s=new A(i.path);this.Se(e,s,new kn(s,ct.min()))}else y(1===n);else this.Me(e)!==n&&(this.xe(e),this.pe=this.pe.add(e))}},t.prototype.Oe=function(t){var e=this,n=new Map;this.Pe.forEach((function(r,i){var s=e.ke(i);if(s){if(r.te&&bt(s.target)){var o=new A(s.target.path);null!==e.ye.get(o)||e.Le(i,o)||e.Se(i,o,new kn(o,t))}r.fe&&(n.set(i,r.we()),r.me())}}));var r=Nt();this.Ve.forEach((function(t,n){var i=!0;n.xt((function(t){var n=e.ke(t);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new zt(t,n,this.pe,this.ye,r);return this.ye=xt(),this.Ve=$t(),this.pe=new It(Z),i},t.prototype.ve=function(t,e){if(this.Fe(t)){var n=this.Le(t,e.key)?2:0;this.Ne(t).Te(e.key,n),this.ye=this.ye.ot(e.key,e),this.Ve=this.Ve.ot(e.key,this.Be(e.key).add(t))}},t.prototype.Se=function(t,e,n){if(this.Fe(t)){var r=this.Ne(t);this.Le(t,e)?r.Te(e,1):r.Ee(e),this.Ve=this.Ve.ot(e,this.Be(e).delete(t)),n&&(this.ye=this.ye.ot(e,n))}},t.prototype.removeTarget=function(t){this.Pe.delete(t)},t.prototype.Me=function(t){var e=this.Ne(t).we();return this.ge.qe(t).size+e.ee.size-e.se.size},t.prototype.Ie=function(t){this.Ne(t).Ie()},t.prototype.Ne=function(t){var e=this.Pe.get(t);return e||(e=new Qt,this.Pe.set(t,e)),e},t.prototype.Be=function(t){var e=this.Ve.get(t);return e||(e=new It(Z),this.Ve=this.Ve.ot(t,e)),e},t.prototype.Fe=function(t){var e=null!==this.ke(t);return e||p("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ke=function(t){var e=this.Pe.get(t);return e&&e._e?null:this.ge.Ue(t)},t.prototype.xe=function(t){var e=this;this.Pe.set(t,new Qt),this.ge.qe(t).forEach((function(n){e.Se(t,n,null)}))},t.prototype.Le=function(t,e){return this.ge.qe(t).has(e)},t}();function $t(){return new Et(A.i)}function Kt(){return new Et(A.i)}function Zt(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Jt(t){var e=se(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}var Yt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zt(t)?4:10:v()}function te(t,e){var n=Xt(t);if(n!==Xt(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jt(t).isEqual(Jt(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=se(t.timestampValue),r=se(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ae(t.bytesValue).isEqual(ae(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return oe(t.geoPointValue.latitude)===oe(e.geoPointValue.latitude)&&oe(t.geoPointValue.longitude)===oe(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return oe(t.integerValue)===oe(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=oe(t.doubleValue),r=oe(e.doubleValue);return n===r?lt(n)===lt(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return J(t.arrayValue.values||[],e.arrayValue.values||[],te);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(w(n)!==w(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!te(n[i],r[i])))return!1;return!0}(t,e);default:return v()}}function ee(t,e){return void 0!==(t.values||[]).find((function(t){return te(t,e)}))}function ne(t,e){var n=Xt(t),r=Xt(e);if(n!==r)return Z(n,r);switch(n){case 0:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=oe(t.integerValue||t.doubleValue),r=oe(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return re(t.timestampValue,e.timestampValue);case 4:return re(Jt(t),Jt(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ae(t),r=ae(e);return n.L(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=Z(n[i],r[i]);if(0!==s)return s}return Z(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Z(oe(t.latitude),oe(e.latitude));return 0!==n?n:Z(oe(t.longitude),oe(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=ne(n[i],r[i]);if(s)return s}return Z(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=Z(r[o],s[o]);if(0!==a)return a;var c=ne(n[r[o]],i[s[o]]);if(0!==c)return c}return Z(r.length,s.length)}(t.mapValue,e.mapValue);default:throw v()}}function re(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Z(t,e);var n=se(t),r=se(e),i=Z(n.seconds,r.seconds);return 0!==i?i:Z(n.nanos,r.nanos)}function ie(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=se(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ae(e.bytesValue).toBase64():"referenceValue"in e?A.C(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):v();var n}(t)}function se(t){if(y(!!t),"string"==typeof t){var e=0,n=Yt.exec(t);if(y(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:oe(t.seconds),nanos:oe(t.nanos)}}function oe(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ae(t){return"string"==typeof t?X.fromBase64String(t):X.fromUint8Array(t)}function ce(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function ue(t){return!!t&&"integerValue"in t}function le(t){return!!t&&"arrayValue"in t}function he(t){return!!t&&"nullValue"in t}function fe(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function de(t){return!!t&&"mapValue"in t}var pe={asc:"ASCENDING",desc:"DESCENDING"},ge={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},be=function(t,e){this.U=t,this.Qe=e};function me(t){return{integerValue:""+t}}function ve(t,e){if(t.Qe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lt(e)?"-0":e}}function ye(t,e){return ht(e)?me(e):ve(t,e)}function _e(t,e){return t.Qe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function we(t,e){return t.Qe?e.toBase64():e.toUint8Array()}function Se(t,e){return _e(t,e.Z())}function Ee(t){return y(!!t),ct.J(function(t){var e=se(t);return new at(e.seconds,e.nanos)}(t))}function Ce(t,e){return function(t){return new O(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).R()}function Oe(t){var e=O.g(t);return y(Qe(e)),e}function Ie(t,e){return Ce(t.U,e.path)}function Te(t,e){var n=Oe(e);return y(n.get(1)===t.U.projectId),y(!n.get(3)&&!t.U.database||n.get(3)===t.U.database),new A(Le(n))}function Ae(t,e){return Ce(t.U,e)}function xe(t){var e=Oe(t);return 4===e.length?O.P():Le(e)}function ke(t){return new O(["projects",t.U.projectId,"databases",t.U.database]).R()}function Le(t){return y(t.length>4&&"documents"===t.get(4)),t.u(5)}function je(t,e,n){return{name:Ie(t,e),fields:n.proto.mapValue.fields}}function De(t,e){var n;if(e instanceof mn)n={update:je(t,e.key,e.value)};else if(e instanceof En)n={delete:Ie(t,e.key)};else if(e instanceof vn)n={update:je(t,e.key,e.data),updateMask:qe(e.We)};else if(e instanceof _n)n={transform:{document:Ie(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Je)return{fieldPath:e.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ye)return{fieldPath:e.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof tn)return{fieldPath:e.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof nn)return{fieldPath:e.field.R(),increment:n.je};throw v()}(0,t)}))}};else{if(!(e instanceof Cn))return v();n={verify:Ie(t,e.key)}}return e.Ge.Ke||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Se(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:v()}(t,e.Ge)),n}function Re(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?un.updateTime(Ee(t.updateTime)):void 0!==t.exists?un.exists(t.exists):un.ze()}(e.currentDocument):un.ze();if(e.update){var r=Te(t,e.update.name),i=new On({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new on((t.fieldPaths||[]).map((function(t){return T.S(t)})))}(e.updateMask);return new vn(r,i,s,n)}return new mn(r,i,n)}if(e.delete){var o=Te(t,e.delete);return new En(o,n)}if(e.transform){var a=Te(t,e.transform.document),c=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(y("REQUEST_TIME"===e.setToServerValue),n=new Je):"appendMissingElements"in e?n=new Ye(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new tn(e.removeAllFromArray.values||[]):"increment"in e?n=new nn(t,e.increment):v();var r=T.S(e.fieldPath);return new an(r,n)}(t,e)}));return y(!0===n.exists),new _n(a,c)}if(e.verify){var u=Te(t,e.verify);return new Cn(u,n)}return v()}function Ne(t,e){return{documents:[Ae(t,e.path)]}}function Pe(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ae(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ae(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(fe(t.value))return{unaryFilter:{field:ze(t.field),op:"IS_NAN"}};if(he(t.value))return{unaryFilter:{field:ze(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fe(t.value))return{unaryFilter:{field:ze(t.field),op:"IS_NOT_NAN"}};if(he(t.value))return{unaryFilter:{field:ze(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ze(t.field),op:Be(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ze(t.field),direction:Me(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Qe||ut(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Ve(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ve(e.endAt)),n}function Ve(t){return{before:t.before,values:t.position}}function Fe(t){return new sr(t.values||[],!!t.before)}function Me(t){return pe[t]}function Be(t){return ge[t]}function ze(t){return{fieldPath:t.R()}}function Ue(t){return T.S(t.fieldPath)}function He(t){return Zn.create(Ue(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return v()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ge(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ue(t.unaryFilter.field);return Zn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ue(t.unaryFilter.field);return Zn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ue(t.unaryFilter.field);return Zn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ue(t.unaryFilter.field);return Zn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return v()}}function qe(t){var e=[];return t.fields.forEach((function(t){return e.push(t.R())})),{fieldPaths:e}}function Qe(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var We=function(){this.He=void 0};function $e(t,e,n){return t instanceof Je?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ye?Xe(t,e):t instanceof tn?en(t,e):function(t,e){var n=Ze(t,e),r=rn(n)+rn(t.je);return ue(n)&&ue(t.je)?me(r):ve(t.serializer,r)}(t,e)}function Ke(t,e,n){return t instanceof Ye?Xe(t,e):t instanceof tn?en(t,e):n}function Ze(t,e){return t instanceof nn?ue(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(We),Ye=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(We);function Xe(t,e){for(var n=sn(e),r=function(t){n.some((function(e){return te(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var tn=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(We);function en(t,e){for(var n=sn(e),r=function(t){n=n.filter((function(e){return!te(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var nn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.je=n,r}return r.__extends(e,t),e}(We);function rn(t){return oe(t.integerValue||t.doubleValue)}function sn(t){return le(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var on=function(){function t(t){this.fields=t,t.sort(T.i)}return t.prototype.Ye=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},t.prototype.isEqual=function(t){return J(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),an=function(t,e){this.field=t,this.transform=e},cn=function(t,e){this.version=t,this.transformResults=e},un=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.ze=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ln(t,e){return void 0!==t.updateTime?e instanceof xn&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof xn}var hn=function(){};function fn(t,e,n){return t instanceof mn?function(t,e,n){return new xn(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof vn?function(t,e,n){if(!ln(t.Ge,e))return new Ln(t.key,n.version);var r=yn(t,e);return new xn(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof _n?function(t,e,n){if(y(null!=n.transformResults),!ln(t.Ge,e))return new Ln(t.key,n.version);var r=wn(0,e),i=function(t,e,n){var r=[];y(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof xn&&(a=e.field(s.field)),r.push(Ke(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=Sn(t,r.data(),i);return new xn(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new kn(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function dn(t,e,n,r){return t instanceof mn?function(t,e){if(!ln(t.Ge,e))return e;var n=bn(e);return new xn(t.key,n,t.value,{Je:!0})}(t,e):t instanceof vn?function(t,e){if(!ln(t.Ge,e))return e;var n=bn(e),r=yn(t,e);return new xn(t.key,n,r,{Je:!0})}(t,e):t instanceof _n?function(t,e,n,r){if(!ln(t.Ge,e))return e;var i=wn(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],c=a.transform,u=null;n instanceof xn&&(u=n.field(a.field)),null===u&&r instanceof xn&&(u=r.field(a.field)),i.push($e(c,u,e))}return i}(t.fieldTransforms,n,e,r),o=Sn(t,i.data(),s);return new xn(t.key,i.version,o,{Je:!0})}(t,e,r,n):function(t,e){return ln(t.Ge,e)?new kn(t.key,ct.min()):e}(t,e)}function pn(t,e){return t instanceof _n?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof xn?e.field(s.field):void 0,a=Ze(s.transform,o||null);null!=a&&(n=null==n?(new In).set(s.field,a):n.set(s.field,a))}return n?n.Xe():null}(t,e):null}function gn(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ge.isEqual(e.Ge)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.We.isEqual(e.We):2!==t.type||J(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ye&&e instanceof Ye||t instanceof tn&&e instanceof tn?J(t.elements,e.elements,te):t instanceof nn&&e instanceof nn?te(t.je,e.je):t instanceof Je&&e instanceof Je}(t.transform,e.transform)}(t,e)})))}function bn(t){return t instanceof xn?t.version:ct.min()}var mn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ge=r,i.type=0,i}return r.__extends(e,t),e}(hn),vn=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.We=r,s.Ge=i,s.type=1,s}return r.__extends(e,t),e}(hn);function yn(t,e){return function(t,e){var n=new In(e);return t.We.fields.forEach((function(e){if(!e.m()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Xe()}(t,e instanceof xn?e.data():On.empty())}var _n=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ge=un.exists(!0),r}return r.__extends(e,t),e}(hn);function wn(t,e){return e}function Sn(t,e,n){for(var r=new In(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.Xe()}var En=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=3,r}return r.__extends(e,t),e}(hn),Cn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ge=n,r.type=4,r}return r.__extends(e,t),e}(hn),On=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!de(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t._()])||null},t.prototype.isEqual=function(t){return te(this.proto,t.proto)},t}(),In=function(){function t(t){void 0===t&&(t=On.empty()),this.Ze=t,this.tn=new Map}return t.prototype.set=function(t,e){return this.en(t,e),this},t.prototype.delete=function(t){return this.en(t,null),this},t.prototype.en=function(t,e){for(var n=this.tn,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Xt(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t._(),e)},t.prototype.Xe=function(){var t=this.nn(T.P(),this.tn);return null!=t?new On(t):this.Ze},t.prototype.nn=function(t,e){var n=this,r=!1,i=this.Ze.field(t),s=de(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.nn(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function Tn(t){var e=[];return S(t.fields||{},(function(t,n){var r=new T([t]);if(de(n)){var i=Tn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new on(e)}var An=function(t,e){this.key=t,this.version=e},xn=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).sn=r,s.Je=!!i.Je,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return r.__extends(e,t),e.prototype.field=function(t){return this.sn.field(t)},e.prototype.data=function(){return this.sn},e.prototype.rn=function(){return this.sn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Je===t.Je&&this.hasCommittedMutations===t.hasCommittedMutations&&this.sn.isEqual(t.sn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(An),kn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(An),Ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(An),jn=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.on=n,this.filters=r,this.limit=i,this.an=s,this.startAt=o,this.endAt=a,this.cn=null,this.un=null};function Dn(t,e,n,r,i,s,o,a){return new jn(t,e,n,r,i,s,o,a)}function Rn(t){return new jn(t)}function Nn(t){return!ut(t.limit)&&"F"===t.an}function Pn(t){return!ut(t.limit)&&"L"===t.an}function Vn(t){return t.on.length>0?t.on[0].field:null}function Fn(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.hn())return r.field}return null}function Mn(t){return null!==t.collectionGroup}function Bn(t){var e=_(t);if(null===e.cn){e.cn=[];var n=Fn(e),r=Vn(e);if(null!==n&&null===r)n.p()||e.cn.push(new ur(n)),e.cn.push(new ur(T.v(),"asc"));else{for(var i=!1,s=0,o=e.on;s<o.length;s++){var a=o[s];e.cn.push(a),a.field.p()&&(i=!0)}if(!i){var c=e.on.length>0?e.on[e.on.length-1].dir:"asc";e.cn.push(new ur(T.v(),c))}}}return e.cn}function zn(t){var e=_(t);if(!e.un)if("F"===e.an)e.un=dt(e.path,e.collectionGroup,Bn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Bn(e);r<i.length;r++){var s=i[r];n.push(new ur(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new sr(e.endAt.position,!e.endAt.before):null,a=e.startAt?new sr(e.startAt.position,!e.startAt.before):null;e.un=dt(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.un}function Un(t,e,n){return new jn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hn(t,e){return new jn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,e,t.endAt)}function Gn(t,e){return new jn(t.path,t.collectionGroup,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,e)}function qn(t,e){return gt(zn(t),zn(e))&&t.an===e.an}function Qn(t){return pt(zn(t))+"|lt:"+t.an}function Wn(t){return"Query(target="+function(t){var e=t.path.R();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.R()+" "+e.op+" "+ie(e.value);var e})).join(", ")+"]"),ut(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.R()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+or(t.startAt)),t.endAt&&(e+=", endAt: "+or(t.endAt)),"Target("+e+")"}(zn(t))+"; limitType="+t.an+")"}function $n(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.N(t.collectionGroup)&&t.path.T(n):A.F(t.path)?t.path.isEqual(n):t.path.I(n)}(t,e)&&function(t,e){for(var n=0,r=t.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ar(t.startAt,Bn(t),e)||t.endAt&&ar(t.endAt,Bn(t),e))}(t,e)}function Kn(t){return function(e,n){for(var r=!1,i=0,s=Bn(t);i<s.length;i++){var o=s[i],a=lr(o,e,n);if(0!==a)return a;r=r||o.field.p()}return 0}}var Zn=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.p())return"in"===n||"not-in"===n?this.ln(t,n,r):new Jn(t,n,r);if(he(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e(t,n,r)}if(fe(r)){if("=="!==n&&"!="!==n)throw new h(l.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e(t,n,r)}return"array-contains"===n?new er(t,r):"in"===n?new nr(t,r):"not-in"===n?new rr(t,r):"array-contains-any"===n?new ir(t,r):new e(t,n,r)},e.ln=function(t,e,n){return"in"===e?new Yn(t,n):new Xn(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this._n(ne(e,this.value)):null!==e&&Xt(this.value)===Xt(e)&&this._n(ne(e,this.value))},e.prototype._n=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return v()}},e.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Jn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=A.C(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=A.i(t.key,this.key);return this._n(e)},e}(Zn),Yn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Zn),Xn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=tr(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Zn);function tr(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return A.C(t.referenceValue)}))}var er=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return le(e)&&ee(e.arrayValue,this.value)},e}(Zn),nr=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ee(this.value.arrayValue,e)},e}(Zn),rr=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){if(ee(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ee(this.value.arrayValue,e)},e}(Zn),ir=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!le(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ee(e.value.arrayValue,t)}))},e}(Zn),sr=function(t,e){this.position=t,this.before=e};function or(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return ie(t)})).join(",")}function ar(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.p()?A.i(A.C(o.referenceValue),n.key):ne(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function cr(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!te(t.position[n],e.position[n]))return!1;return!0}var ur=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function lr(t,e,n){var r=t.field.p()?A.i(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ne(r,i):v()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}function hr(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},dr=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=t,this.dn=e,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return t.prototype.reset=function(){this.En=0},t.prototype.Rn=function(){this.En=this.Tn},t.prototype.gn=function(t){var e=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return e.An=Date.now(),t()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},t.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},t.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},t.prototype.Pn=function(){return(Math.random()-.5)*this.En},t}(),pr=function(){function t(t){var e=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,t((function(t){e.Sn=!0,e.result=t,e.bn&&e.bn(t)}),(function(t){e.Sn=!0,e.error=t,e.vn&&e.vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Dn&&v(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(e,this.result):new t((function(t,i){r.bn=function(n){r.Nn(e,n).next(t,i)},r.vn=function(e){r.Cn(n,e).next(t,i)}}))},t.prototype.Fn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.xn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Nn=function(e,n){return e?this.xn((function(){return e(n)})):t.resolve(n)},t.prototype.Cn=function(e,n){return e?this.xn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.kn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),gr=function(){function t(e,n,r){this.name=e,this.version=n,this.Mn=r,12.2===t.On(o.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return p("SimpleDb","Removing database:",t),wr(window.indexedDB.deleteDatabase(t)).Fn()},t.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(t.Bn())return!0;var e=o.getUA(),n=t.On(e),r=0<n&&n<10,i=t.qn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Bn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Un)},t.Qn=function(t,e){return t.store(e)},t.On=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.qn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Wn=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(p("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new mr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new h(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new mr(t,n))},i.onupgradeneeded=function(t){p("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Mn.createOrUpgrade(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){p("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(t){return n.jn(t)}),this.db)]}}))}))},t.prototype.Kn=function(t){this.jn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var s,o,a,c,u;return r.__generator(this,(function(l){switch(l.label){case 0:s="readonly"===e,o=0,a=function(){var e,a,u,l,h;return r.__generator(this,(function(r){switch(r.label){case 0:++o,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,c.Wn(t)];case 2:return c.db=r.sent(),e=yr.open(c.db,t,s?"readonly":"readwrite",n),a=i(e).catch((function(t){return e.abort(t),pr.reject(t)})).Fn(),u={},a.catch((function(){})),[4,e.Gn];case 3:return[2,(u.value=(r.sent(),a),u)];case 4:return p("SimpleDb","Transaction failed with error:",(l=r.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&o<3),c.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},c=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=l.sent()))return[2,u.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),br=function(){function t(t){this.zn=t,this.Hn=!1,this.Yn=null}return Object.defineProperty(t.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Hn=!0},t.prototype.Xn=function(t){this.Yn=t},t.prototype.delete=function(){return wr(this.zn.delete())},t}(),mr=function(t){function e(e,n){var r=this;return(r=t.call(this,l.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return r.__extends(e,t),e}(h);function vr(t){return"IndexedDbTransactionError"===t.name}var yr=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Zn=new fr,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){e.error?n.Zn.reject(new mr(t,e.error)):n.Zn.resolve()},this.transaction.onerror=function(e){var r=Er(e.target.error);n.Zn.reject(new mr(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new mr(n,e)}},Object.defineProperty(t.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Zn.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new _r(e)},t}(),_r=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),wr(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),wr(this.store.add(t))},t.prototype.get=function(t){var e=this;return wr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),wr(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),wr(this.store.count())},t.prototype.ts=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.es(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.ns=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(t,e,n){return n.delete()}))},t.prototype.rs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.es(r,e)},t.prototype.os=function(t){var e=this.cursor({});return new pr((function(n,r){e.onerror=function(t){var e=Er(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.es=function(t,e){var n=[];return new pr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new br(i),o=e(i.primaryKey,i.value,s);if(o instanceof pr){var a=o.catch((function(t){return s.done(),pr.reject(t)}));n.push(a)}s.Sn?r():null===s.Jn?i.continue():i.continue(s.Jn)}else r()}})).next((function(){return pr.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.ss?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function wr(t){return new pr((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Er(t.target.error);n(e)}}))}var Sr=!1;function Er(t){var e=gr.On(o.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new h("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Sr||(Sr=!0,setTimeout((function(){throw r}),0)),r}}return t}function Cr(){return"undefined"!=typeof window?window:null}function Or(){return"undefined"!=typeof document?document:null}var Ir=function(){function t(t,e,n,r,i){this.cs=t,this.dn=e,this.us=n,this.op=r,this.hs=i,this.ls=new fr,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(t){}))}return t._s=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.fs=setTimeout((function(){return e.ds()}),t)},t.prototype.pn=function(){return this.ds()},t.prototype.cancel=function(t){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new h(l.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.ds=function(){var t=this;this.cs.ws((function(){return null!==t.fs?(t.clearTimeout(),t.op().then((function(e){return t.ls.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},t}(),Tr=function(){function t(){var t=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new dr(this,"async_queue_retry"),this.Vs=function(){var e=Or();e&&p("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.ys.Vn()};var e=Or();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(t.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),t.prototype.ws=function(t){this.enqueue(t)},t.prototype.bs=function(t){this.vs(),this.Ss(t)},t.prototype.Ds=function(){if(!this.Is){this.Is=!0;var t=Or();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vs)}},t.prototype.enqueue=function(t){return this.vs(),this.Is?new Promise((function(t){})):this.Ss(t)},t.prototype.Cs=function(t){var e=this;this.ws((function(){return e.Es.push(t),e.Ns()}))},t.prototype.Ns=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!vr(t=n.sent()))throw t;return p("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Es.length>0&&this.ys.gn((function(){return e.Ns()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ss=function(t){var e=this,n=this.Ts.then((function(){return e.gs=!0,t().catch((function(t){throw e.Rs=t,e.gs=!1,g("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gs=!1,t}))}));return this.Ts=n,n},t.prototype.yn=function(t,e,n){var r=this;this.vs(),this.Ps.indexOf(t)>-1&&(e=0);var i=Ir._s(this,t,e,n,(function(t){return r.Fs(t)}));return this.As.push(i),i},t.prototype.vs=function(){this.Rs&&v()},t.prototype.xs=function(){},t.prototype.$s=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Ts];case 1:e.sent(),e.label=2;case 2:if(t!==this.Ts)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.ks=function(t){for(var e=0,n=this.As;e<n.length;e++)if(n[e].dn===t)return!0;return!1},t.prototype.Ms=function(t){var e=this;return this.$s().then((function(){e.As.sort((function(t,e){return t.us-e.us}));for(var n=0,r=e.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==t&&i.dn===t)break}return e.$s()}))},t.prototype.Os=function(t){this.Ps.push(t)},t.prototype.Fs=function(t){var e=this.As.indexOf(t);this.As.splice(e,1)},t}();function Ar(t,e){if(g("AsyncQueue",e+": "+t),vr(t))return new h(l.UNAVAILABLE,e+": "+t);throw t}var xr=function(){this.Ls=void 0,this.listeners=[]},kr=function(){this.Bs=new ot((function(t){return Qn(t)}),qn),this.onlineState="Unknown",this.qs=new Set};function Lr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,c,u;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=_(t),s=!1,(o=n.Bs.get(i=e.query))||(s=!0,o=new xr),!s)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),a=o,[4,n.Us(i)];case 2:return a.Ls=r.sent(),[3,4];case 3:return c=r.sent(),u=Ar(c,"Initialization of query '"+Wn(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.Bs.set(i,o),o.listeners.push(e),e.Qs(n.onlineState),o.Ls&&e.Ws(o.Ls)&&Nr(n),[2]}}))}))}function jr(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a;return r.__generator(this,(function(r){return n=_(t),s=!1,(o=n.Bs.get(i=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),s=0===o.listeners.length),s?[2,(n.Bs.delete(i),n.js(i))]:[2]}))}))}function Dr(t,e){for(var n=_(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.Bs.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Ws(o)&&(r=!0);a.Ls=o}}r&&Nr(n)}function Rr(t,e,n){var r=_(t),i=r.Bs.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.Bs.delete(e)}function Nr(t){t.qs.forEach((function(t){t.next()}))}var Pr=function(){function t(t,e,n){this.query=t,this.Ks=e,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ws=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Bt(t.query,t.docs,t.Qt,e,t.Wt,t.fromCache,t.jt,!0)}var s=!1;return this.Gs?this.Hs(t)&&(this.Ks.next(t),s=!0):this.Ys(t,this.onlineState)&&(this.Js(t),s=!0),this.zs=t,s},t.prototype.onError=function(t){this.Ks.error(t)},t.prototype.Qs=function(t){this.onlineState=t;var e=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,t)&&(this.Js(this.zs),e=!0),e},t.prototype.Ys=function(t,e){return!t.fromCache||!(this.options.Xs&&"Offline"!==e||t.docs.m()&&"Offline"!==e)},t.prototype.Hs=function(t){return t.docChanges.length>0||!!(t.jt||this.zs&&this.zs.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Js=function(t){t=Bt.Gt(t.query,t.docs,t.Wt,t.fromCache),this.Gs=!0,this.Ks.next(t)},t}(),Vr=function(){function t(t){this.uid=t}return t.prototype.Zs=function(){return null!=this.uid},t.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Vr.UNAUTHENTICATED=new Vr(null),Vr.ei=new Vr("google-credentials-uid"),Vr.ni=new Vr("first-party-uid");var Fr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.si=function(t){return n.ii(t)},this.ri=function(t){return e.oi(t)})}return t.prototype.ii=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ri&&this.ri(t),t},t}();function Mr(t,e){return"firestore_clients_"+t+"_"+e}function Br(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Zs()&&(r+="_"+e.uid),r}function zr(t,e){return"firestore_targets_"+t+"_"+e}Fr.ai=-1;var Ur=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ci=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new h(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(g("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Hr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ci=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new h(r.error.code,r.error.message)),i?new t(e,r.state,s):(g("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ui=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ci=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Vt(),o=0;i&&o<r.activeTargetIds.length;++o)i=ht(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(g("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),qr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ci=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(g("SharedClientState","Failed to parse online state: "+e),null)},t}(),Qr=function(){function t(){this.activeTargetIds=Vt()}return t.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.li=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ui=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Wr=function(){function t(t,e,n,r,i){this.window=t,this.fn=e,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new Et(Z),this.Ei=!1,this.Ii=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Mr(this.persistenceKey,this._i),this.Ri=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Qr),this.gi=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Vi=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return t.Ln=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,s,o,a,c,u,l,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.fi.pi()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this._i&&(s=this.getItem(Mr(this.persistenceKey,i)))&&(o=Gr.ci(i,s))&&(this.Ti=this.Ti.ot(o.clientId,o));for(this.bi(),(a=this.storage.getItem(this.Vi))&&(c=this.vi(a))&&this.Si(c),u=0,l=this.Ii;u<l.length;u++)this.mi(l[u]);return this.Ii=[],this.window.addEventListener("unload",(function(){return h.Di()})),this.Ei=!0,[2]}}))}))},t.prototype.oi=function(t){this.setItem(this.Ri,JSON.stringify(t))},t.prototype.Ci=function(){return this.Ni(this.Ti)},t.prototype.Fi=function(t){var e=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xi=function(t){this.$i(t,"pending")},t.prototype.ki=function(t,e,n){this.$i(t,e,n),this.Mi(t)},t.prototype.Oi=function(t){var e="not-current";if(this.Fi(t)){var n=this.storage.getItem(zr(this.persistenceKey,t));if(n){var r=Hr.ci(t,n);r&&(e=r.state)}}return this.Li.hi(t),this.bi(),e},t.prototype.Bi=function(t){this.Li.li(t),this.bi()},t.prototype.qi=function(t){return this.Li.activeTargetIds.has(t)},t.prototype.Ui=function(t){this.removeItem(zr(this.persistenceKey,t))},t.prototype.Qi=function(t,e,n){this.Wi(t,e,n)},t.prototype.ji=function(t,e,n){var r=this;e.forEach((function(t){r.Mi(t)})),this.currentUser=t,n.forEach((function(t){r.xi(t)}))},t.prototype.Ki=function(t){this.Gi(t)},t.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){p("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.mi=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(p("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,s,o,a;return r.__generator(this,(function(r){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return t=this.zi(n.key),[2,this.Hi(t,null)];if(e=this.Yi(n.key,n.newValue))return[2,this.Hi(e.clientId,e)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(i=this.Ji(n.key,n.newValue)))return[2,this.Xi(i)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(s=this.Zi(n.key,n.newValue)))return[2,this.tr(s)]}else if(n.key===this.Vi){if(null!==n.newValue&&(o=this.vi(n.newValue)))return[2,this.Si(o)]}else n.key===this.Ri&&(a=function(t){var e=Fr.ai;if(null!=t)try{var n=JSON.parse(t);y("number"==typeof n),e=n}catch(t){g("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Fr.ai&&this.si(a)}else this.Ii.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),t.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},t.prototype.$i=function(t,e,n){var r=new Ur(this.currentUser,t,e,n),i=Br(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ui())},t.prototype.Mi=function(t){var e=Br(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Gi=function(t){this.storage.setItem(this.Vi,JSON.stringify({clientId:this._i,onlineState:t}))},t.prototype.Wi=function(t,e,n){var r=zr(this.persistenceKey,t),i=new Hr(t,e,n);this.setItem(r,i.ui())},t.prototype.zi=function(t){var e=this.gi.exec(t);return e?e[1]:null},t.prototype.Yi=function(t,e){var n=this.zi(t);return Gr.ci(n,e)},t.prototype.Ji=function(t,e){var n=this.Pi.exec(t),r=Number(n[1]);return Ur.ci(new Vr(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Zi=function(t,e){var n=this.yi.exec(t),r=Number(n[1]);return Hr.ci(r,e)},t.prototype.vi=function(t){return qr.ci(t)},t.prototype.Xi=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fi.er(t.batchId,t.state,t.error)]:(p("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tr=function(t){return this.fi.nr(t.targetId,t.state,t.error)},t.prototype.Hi=function(t,e){var n=this,r=e?this.Ti.ot(t,e):this.Ti.remove(t),i=this.Ni(this.Ti),s=this.Ni(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.fi.sr(o,a).then((function(){n.Ti=r}))},t.prototype.Si=function(t){this.Ti.get(t.clientId)&&this.di(t.onlineState)},t.prototype.Ni=function(t){var e=Vt();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),$r=function(){function t(){this.ir=new Qr,this.rr={},this.di=null,this.si=null}return t.prototype.xi=function(t){},t.prototype.ki=function(t,e,n){},t.prototype.Oi=function(t){return this.ir.hi(t),this.rr[t]||"not-current"},t.prototype.Qi=function(t,e,n){this.rr[t]=e},t.prototype.Bi=function(t){this.ir.li(t)},t.prototype.qi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.Ui=function(t){delete this.rr[t]},t.prototype.Ci=function(){return this.ir.activeTargetIds},t.prototype.Fi=function(t){return this.ir.activeTargetIds.has(t)},t.prototype.start=function(){return this.ir=new Qr,Promise.resolve()},t.prototype.ji=function(t,e,n){},t.prototype.Ki=function(t){},t.prototype.Di=function(){},t.prototype.oi=function(t){},t}(),Kr=function(){function t(t,e,n,r){this.batchId=t,this.ar=e,this.baseMutations=n,this.mutations=r}return t.prototype.cr=function(t,e,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=fn(s,e,r[i]))}return e},t.prototype.hr=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=dn(i,e,e,this.ar))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var c=a[o];c.key.isEqual(t)&&(e=dn(c,e,s,this.ar))}return e},t.prototype.lr=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.hr(r.key,t.get(r.key));i&&(n=n.ot(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Nt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&J(this.mutations,t.mutations,(function(t,e){return gn(t,e)}))&&J(this.baseMutations,t.baseMutations,(function(t,e){return gn(t,e)}))},t}(),Zr=function(){function t(t,e,n,r){this.batch=t,this._r=e,this.ur=n,this.dr=r}return t.from=function(e,n,r){y(e.mutations.length===r.length);for(var i=Dt,s=e.mutations,o=0;o<s.length;o++)i=i.ot(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Jr=function(){function t(){this.wr=new ot((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.mr=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Tr},set:function(t){this.Tr=t},enumerable:!1,configurable:!0}),t.prototype.Er=function(t,e){this.Ir(),this.readTime=e,this.wr.set(t.key,t)},t.prototype.Ar=function(t,e){this.Ir(),e&&(this.readTime=e),this.wr.set(t,null)},t.prototype.Rr=function(t,e){this.Ir();var n=this.wr.get(e);return void 0!==n?pr.resolve(n):this.gr(t,e)},t.prototype.getEntries=function(t,e){return this.Pr(t,e)},t.prototype.apply=function(t){return this.Ir(),this.mr=!0,this.yr(t)},t.prototype.Ir=function(){},t}(),Yr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xr=function(){function t(){this.Vr=[]}return t.prototype.pr=function(t){this.Vr.push(t)},t.prototype.br=function(){this.Vr.forEach((function(t){return t()}))},t}(),ti=function(){function t(t,e,n){this.vr=t,this.Sr=e,this.Dr=n}return t.prototype.Cr=function(t,e){var n=this;return this.Sr.Nr(t,e).next((function(r){return n.Fr(t,e,r)}))},t.prototype.Fr=function(t,e,n){return this.vr.Rr(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].hr(e,t);return t}))},t.prototype.$r=function(t,e,n){var r=kt();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].hr(t,e);r=r.ot(t,e)})),r},t.prototype.kr=function(t,e){var n=this;return this.vr.getEntries(t,e).next((function(e){return n.Mr(t,e)}))},t.prototype.Mr=function(t,e){var n=this;return this.Sr.Or(t,e).next((function(r){var i=n.$r(t,e,r),s=xt();return i.forEach((function(t,e){e||(e=new kn(t,ct.min())),s=s.ot(t,e)})),s}))},t.prototype.Lr=function(t,e,n){return function(t){return A.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Br(t,e.path):Mn(e)?this.qr(t,e,n):this.Ur(t,e,n)},t.prototype.Br=function(t,e){return this.Cr(t,new A(e)).next((function(t){var e=jt();return t instanceof xn&&(e=e.ot(t.key,t)),e}))},t.prototype.qr=function(t,e,n){var r=this,i=e.collectionGroup,s=jt();return this.Dr.Qr(t,i).next((function(o){return pr.forEach(o,(function(o){var a=function(t,e){return new jn(e,null,t.on.slice(),t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(e,o.child(i));return r.Ur(t,a,n).next((function(t){t.forEach((function(t,e){s=s.ot(t,e)}))}))})).next((function(){return s}))}))},t.prototype.Ur=function(t,e,n){var r,i,s=this;return this.vr.Lr(t,e,n).next((function(n){return r=n,s.Sr.Wr(t,e)})).next((function(e){return s.jr(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=r.get(u),h=dn(c,l,l,s.ar);r=h instanceof xn?r.ot(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){$n(e,n)||(r=r.remove(t))})),r}))},t.prototype.jr=function(t,e,n){for(var r=Nt(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof vn&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.vr.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof xn&&(u=u.ot(t,e))})),u}))},t}(),ei=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Kr=n,this.Gr=r}return t.zr=function(e,n){for(var r=Nt(),i=Nt(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}();function ni(t,e){var n=t[1],r=e[1],i=Z(t[0],e[0]);return 0===i?Z(n,r):i}var ri=function(){function t(t){this.Hr=t,this.buffer=new It(ni),this.Yr=0}return t.prototype.Jr=function(){return++this.Yr},t.prototype.Xr=function(t){var e=[t,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ni(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ii={Zr:!1,eo:0,no:0,so:0},si=function(){function t(t,e,n){this.io=t,this.ro=e,this.oo=n}return t.ao=function(e){return new t(e,t.co,t.uo)},t}();si.ho=-1,si.lo=1048576,si._o=41943040,si.co=10,si.uo=1e3,si.fo=new si(si._o,si.co,si.uo),si.do=new si(si.ho,0,0);var oi=function(){function t(t,e){this.wo=t,this.cs=e,this.mo=!1,this.To=null}return t.prototype.start=function(t){this.wo.params.io!==si.ho&&this.Eo(t)},t.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(t.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t){var e=this,n=this.mo?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return vr(e=n.sent())?(p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Os(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ai=function(){function t(t,e){this.Ao=t,this.params=e}return t.prototype.Ro=function(t,e){return this.Ao.Po(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yo=function(t,e){var n=this;if(0===e)return pr.resolve(Fr.ai);var r=new ri(e);return this.Ao.Ce(t,(function(t){return r.Xr(t.sequenceNumber)})).next((function(){return n.Ao.Vo(t,(function(t){return r.Xr(t)}))})).next((function(){return r.maxValue}))},t.prototype.po=function(t,e,n){return this.Ao.po(t,e,n)},t.prototype.bo=function(t,e){return this.Ao.bo(t,e)},t.prototype.vo=function(t,e){var n=this;return this.params.io===si.ho?(p("LruGarbageCollector","Garbage collection skipped; disabled"),pr.resolve(ii)):this.So(t).next((function(r){return r<n.params.io?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),ii):n.Do(t,e)}))},t.prototype.So=function(t){return this.Ao.So(t)},t.prototype.Do=function(t,e){var n,r,i,o,a,c,u,l=this,h=Date.now();return this.Ro(t,this.params.ro).next((function(e){return e>l.params.oo?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.oo+" from "+e),r=l.params.oo):r=e,o=Date.now(),l.yo(t,r)})).next((function(r){return n=r,a=Date.now(),l.po(t,n,e)})).next((function(e){return i=e,c=Date.now(),l.bo(t,n)})).next((function(t){return u=Date.now(),d()<=s.LogLevel.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(c-a)+"ms\n\tRemoved "+t+" documents in "+(u-c)+"ms\nTotal Duration: "+(u-h)+"ms"),pr.resolve({Zr:!0,eo:r,no:i,so:t})}))},t}();function ci(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=li(e)),e=ui(t.get(n),e);return li(e)}function ui(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function li(t){return t+"\x01\x01"}function hi(t){var e=t.length;if(y(e>=2),2===e)return y("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),O.P();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&v(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:v()}s=o+2}return new O(r)}var fi=function(t){this.Co=t};function di(t,e){if(e.document)return function(t,e,n){var r=Te(t,e.name),i=Ee(e.updateTime),s=new On({mapValue:{fields:e.fields}});return new xn(r,i,s,{hasCommittedMutations:!!n})}(t.Co,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=A.$(e.noDocument.path),r=vi(e.noDocument.readTime);return new kn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=A.$(e.unknownDocument.path),s=vi(e.unknownDocument.version);return new Ln(i,s)}return v()}function pi(t,e,n){var r=gi(n),i=e.key.path.h().A();if(e instanceof xn){var s=function(t,e){return{name:Ie(t,e.key),fields:e.rn().mapValue.fields,updateTime:_e(t,e.version.Z())}}(t.Co,e);return new Gi(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof kn){var o=e.key.path.A(),a=mi(e.version),c=e.hasCommittedMutations;return new Gi(null,new Ui(o,a),null,c,r,i)}if(e instanceof Ln){var u=e.key.path.A(),l=mi(e.version);return new Gi(new Hi(u,l),null,null,!0,r,i)}return v()}function gi(t){var e=t.Z();return[e.seconds,e.nanoseconds]}function bi(t){var e=new at(t[0],t[1]);return ct.J(e)}function mi(t){var e=t.Z();return new Vi(e.seconds,e.nanoseconds)}function vi(t){var e=new at(t.seconds,t.nanoseconds);return ct.J(e)}function yi(t,e){var n=(e.baseMutations||[]).map((function(e){return Re(t.Co,e)})),r=e.mutations.map((function(e){return Re(t.Co,e)})),i=at.fromMillis(e.localWriteTimeMs);return new Kr(e.batchId,i,n,r)}function _i(t){var e,n,r=vi(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?vi(t.lastLimboFreeSnapshotVersion):ct.min();return void 0!==t.query.documents?(y(1===(n=t.query).documents.length),e=zn(Rn(xe(n.documents[0])))):e=function(t){var e=xe(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){y(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[Ge(e)]:void 0!==e.fieldFilter?[He(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):v():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new ur(Ue(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return ut(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Fe(n.startAt));var l=null;return n.endAt&&(l=Fe(n.endAt)),zn(Dn(e,i,a,o,c,"F",u,l))}(t.query),new yt(e,t.targetId,0,t.lastListenSequenceNumber,r,i,X.fromBase64String(t.resumeToken))}function wi(t,e){var n,r=mi(e.nt),i=mi(e.lastLimboFreeSnapshotVersion);n=bt(e.target)?Ne(t.Co,e.target):Pe(t.Co,e.target);var s=e.resumeToken.toBase64();return new Qi(e.targetId,pt(e.target),r,s,e.sequenceNumber,i,n)}var Si=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Dr=n,this.No=r,this.Fo={}}return t.xo=function(e,n,r,i){return y(""!==e.uid),new t(e.Zs()?e.uid:"",n,r,i)},t.prototype.$o=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oi(t).rs({index:Bi.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.ko=function(t,e,n,r){var i=this,s=Ii(t),o=Oi(t);return o.add({}).next((function(a){y("number"==typeof a);for(var c=new Kr(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return De(t.Co,e)})),i=n.mutations.map((function(e){return De(t.Co,e)}));return new Bi(e,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,c),l=[],h=new It((function(t,e){return Z(t.R(),e.R())})),f=0,d=r;f<d.length;f++){var p=d[f],g=zi.key(i.userId,p.key.path,a);h=h.add(p.key.path.h()),l.push(o.put(u)),l.push(s.put(g,zi.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Dr.Mo(t,e))})),t.pr((function(){i.Fo[a]=c.keys()})),pr.$n(l).next((function(){return c}))}))},t.prototype.Oo=function(t,e){var n=this;return Oi(t).get(e).next((function(t){return t?(y(t.userId===n.userId),yi(n.serializer,t)):null}))},t.prototype.Lo=function(t,e){var n=this;return this.Fo[e]?pr.resolve(this.Fo[e]):this.Oo(t,e).next((function(t){if(t){var r=t.keys();return n.Fo[e]=r,r}return null}))},t.prototype.Bo=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Oi(t).rs({index:Bi.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(y(e.batchId>=r),s=yi(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Oi(t).rs({index:Bi.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Oi(t).ts(Bi.userMutationsIndex,n).next((function(t){return t.map((function(t){return yi(e.serializer,t)}))}))},t.prototype.Nr=function(t,e){var n=this,r=zi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Ii(t).rs({range:i},(function(r,i,o){var a=r[0],c=r[2],u=hi(r[1]);if(a===n.userId&&e.path.isEqual(u))return Oi(t).get(c).next((function(t){if(!t)throw v();y(t.userId===n.userId),s.push(yi(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.Or=function(t,e){var n=this,r=new It(Z),i=[];return e.forEach((function(e){var s=zi.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Ii(t).rs({range:o},(function(t,i,s){var o=t[0],a=t[2],c=hi(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()}));i.push(a)})),pr.$n(i).next((function(){return n.Qo(t,r)}))},t.prototype.Wr=function(t,e){var n=this,r=e.path,i=r.length+1,s=zi.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new It(Z);return Ii(t).rs({range:o},(function(t,e,s){var o=t[0],c=t[2],u=hi(t[1]);o===n.userId&&r.T(u)?u.length===i&&(a=a.add(c)):s.done()})).next((function(){return n.Qo(t,a)}))},t.prototype.Qo=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Oi(t).get(e).next((function(t){if(null===t)throw v();y(t.userId===n.userId),r.push(yi(n.serializer,t))})))})),pr.$n(i).next((function(){return r}))},t.prototype.Wo=function(t,e){var n=this;return Ci(t.jo,this.userId,e).next((function(r){return t.pr((function(){n.Ko(e.batchId)})),pr.forEach(r,(function(e){return n.No.Go(t,e)}))}))},t.prototype.Ko=function(t){delete this.Fo[t]},t.prototype.zo=function(t){var e=this;return this.$o(t).next((function(n){if(!n)return pr.resolve();var r=IDBKeyRange.lowerBound(zi.prefixForUser(e.userId)),i=[];return Ii(t).rs({range:r},(function(t,n,r){if(t[0]===e.userId){var s=hi(t[1]);i.push(s)}else r.done()})).next((function(){y(0===i.length)}))}))},t.prototype.Ho=function(t,e){return Ei(t,this.userId,e)},t.prototype.Yo=function(t){var e=this;return Ti(t).get(this.userId).next((function(t){return t||new Mi(e.userId,-1,"")}))},t}();function Ei(t,e,n){var r=zi.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Ii(t).rs({range:s,ss:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Ci(t,e,n){var r=t.store(Bi.store),i=t.store(zi.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.rs({range:o},(function(t,e,n){return a++,n.delete()}));s.push(c.next((function(){y(1===a)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=zi.key(e,f.key.path,n.batchId);s.push(i.delete(d)),u.push(f.key)}return pr.$n(s).next((function(){return u}))}function Oi(t){return cs.Qn(t,Bi.store)}function Ii(t){return cs.Qn(t,zi.store)}function Ti(t){return cs.Qn(t,Mi.store)}var Ai=function(){function t(t,e){this.serializer=t,this.Dr=e}return t.prototype.Er=function(t,e,n){return Li(t).put(ji(e),n)},t.prototype.Ar=function(t,e){var n=Li(t),r=ji(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Jo(t,r)}))},t.prototype.Rr=function(t,e){var n=this;return Li(t).get(ji(e)).next((function(t){return n.Xo(t)}))},t.prototype.Zo=function(t,e){var n=this;return Li(t).get(ji(e)).next((function(t){var e=n.Xo(t);return e?{ta:e,size:Di(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=kt();return this.ea(t,e,(function(t,e){var i=n.Xo(e);r=r.ot(t,i)})).next((function(){return r}))},t.prototype.na=function(t,e){var n=this,r=kt(),i=new Et(A.i);return this.ea(t,e,(function(t,e){var s=n.Xo(e);s?(r=r.ot(t,s),i=i.ot(t,Di(e))):(r=r.ot(t,null),i=i.ot(t,0))})).next((function(){return{sa:r,ia:i}}))},t.prototype.ea=function(t,e,n){if(e.m())return pr.resolve();var r=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),i=e._t(),s=i.It();return Li(t).rs({range:r},(function(t,e,r){for(var o=A.$(t);s&&A.i(s,o)<0;)n(s,null),s=i.It();s&&s.isEqual(o)&&(n(s,e),s=i.At()?i.It():null),s?r.Xn(s.path.A()):r.done()})).next((function(){for(;s;)n(s,null),s=i.At()?i.It():null}))},t.prototype.Lr=function(t,e,n){var r=this,i=jt(),s=e.path.length+1,o={};if(n.isEqual(ct.min())){var a=e.path.A();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.A(),u=gi(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=Gi.collectionReadTimeIndex}return Li(t).rs(o,(function(t,n,o){if(t.length===s){var a=di(r.serializer,n);e.path.T(a.key.path)?a instanceof xn&&$n(e,a)&&(i=i.ot(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.ra=function(t){return new xi(this,!!t&&t.oa)},t.prototype.aa=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return ki(t).get(qi.key).next((function(t){return y(!!t),t}))},t.prototype.Jo=function(t,e){return ki(t).put(qi.key,e)},t.prototype.Xo=function(t){if(t){var e=di(this.serializer,t);return e instanceof kn&&e.version.isEqual(ct.min())?null:e}return null},t}(),xi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ca=e,r.oa=n,r.ua=new ot((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[],r=0,i=new It((function(t,e){return Z(t.R(),e.R())}));return this.wr.forEach((function(s,o){var a=e.ua.get(s);if(o){var c=pi(e.ca.serializer,o,e.readTime);i=i.add(s.path.h());var u=Di(c);r+=u-a,n.push(e.ca.Er(t,s,c))}else if(r-=a,e.oa){var l=pi(e.ca.serializer,new kn(s,ct.min()),e.readTime);n.push(e.ca.Er(t,s,l))}else n.push(e.ca.Ar(t,s))})),i.forEach((function(r){n.push(e.ca.Dr.Mo(t,r))})),n.push(this.ca.updateMetadata(t,r)),pr.$n(n)},e.prototype.gr=function(t,e){var n=this;return this.ca.Zo(t,e).next((function(t){return null===t?(n.ua.set(e,0),null):(n.ua.set(e,t.size),t.ta)}))},e.prototype.Pr=function(t,e){var n=this;return this.ca.na(t,e).next((function(t){var e=t.sa;return t.ia.forEach((function(t,e){n.ua.set(t,e)})),e}))},e}(Jr);function ki(t){return cs.Qn(t,qi.store)}function Li(t){return cs.Qn(t,Gi.store)}function ji(t){return t.path.A()}function Di(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v();e=t.noDocument}return JSON.stringify(e).length}var Ri=function(){function t(){this.ha=new Ni}return t.prototype.Mo=function(t,e){return this.ha.add(e),pr.resolve()},t.prototype.Qr=function(t,e){return pr.resolve(this.ha.getEntries(e))},t}(),Ni=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t._(),n=t.h(),r=this.index[e]||new It(O.i),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t._(),n=t.h(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new It(O.i)).A()},t}(),Pi=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;y(n<r&&n>=0&&r<=10);var s=new yr("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Fi.store)}(t),function(t){t.createObjectStore(Mi.store,{keyPath:Mi.keyPath}),t.createObjectStore(Bi.store,{keyPath:Bi.keyPath,autoIncrement:!0}).createIndex(Bi.userMutationsIndex,Bi.userMutationsKeyPath,{unique:!0}),t.createObjectStore(zi.store)}(t),Zi(t),function(t){t.createObjectStore(Gi.store)}(t));var o=pr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Wi.store),t.deleteObjectStore(Qi.store),t.deleteObjectStore($i.store)}(t),Zi(t)),o=o.next((function(){return function(t){var e=t.store($i.store),n=new $i(0,0,ct.min().Z(),0);return e.put($i.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Bi.store).ts().next((function(n){t.deleteObjectStore(Bi.store),t.createObjectStore(Bi.store,{keyPath:Bi.keyPath,autoIncrement:!0}).createIndex(Bi.userMutationsIndex,Bi.userMutationsKeyPath,{unique:!0});var r=e.store(Bi.store),i=n.map((function(t){return r.put(t)}));return pr.$n(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(Ji.store,{keyPath:Ji.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(qi.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Gi.store);e.createIndex(Gi.readTimeIndex,Gi.readTimeIndexPath,{unique:!1}),e.createIndex(Gi.collectionReadTimeIndex,Gi.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Gi.store).rs((function(t,n){e+=Di(n)})).next((function(){var n=new qi(e);return t.store(qi.store).put(qi.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Mi.store),r=t.store(Bi.store);return n.ts().next((function(n){return pr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Bi.userMutationsIndex,i).next((function(r){return pr.forEach(r,(function(r){y(r.userId===n.userId);var i=yi(e.serializer,r);return Ci(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(Wi.store),n=t.store(Gi.store);return t.store($i.store).get($i.key).next((function(t){var r=[];return n.rs((function(n,i){var s=new O(n),o=function(t){return[0,ci(t)]}(s);r.push(e.get(o).next((function(n){return n?pr.resolve():function(n){return e.put(new Wi(0,ci(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return pr.$n(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Ki.store,{keyPath:Ki.keyPath});var n=e.store(Ki.store),r=new Ni,i=function(t){if(r.add(t)){var e=t._(),i=t.h();return n.put({collectionId:e,parent:ci(i)})}};return e.store(Gi.store).rs({ss:!0},(function(t,e){var n=new O(t);return i(n.h())})).next((function(){return e.store(zi.store).rs({ss:!0},(function(t,e){var n=hi(t[1]);return i(n.h())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(Qi.store);return n.rs((function(t,r){var i=_i(r),s=wi(e.serializer,i);return n.put(s)}))},t}(),Vi=function(t,e){this.seconds=t,this.nanoseconds=e},Fi=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fi.store="owner",Fi.key="owner";var Mi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Mi.store="mutationQueues",Mi.keyPath="userId";var Bi=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Bi.store="mutations",Bi.keyPath="batchId",Bi.userMutationsIndex="userMutationsIndex",Bi.userMutationsKeyPath=["userId","batchId"];var zi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ci(e)]},t.key=function(t,e,n){return[t,ci(e),n]},t}();zi.store="documentMutations",zi.PLACEHOLDER=new zi;var Ui=function(t,e){this.path=t,this.readTime=e},Hi=function(t,e){this.path=t,this.version=e},Gi=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Gi.store="remoteDocuments",Gi.readTimeIndex="readTimeIndex",Gi.readTimeIndexPath="readTime",Gi.collectionReadTimeIndex="collectionReadTimeIndex",Gi.collectionReadTimeIndexPath=["parentPath","readTime"];var qi=function(t){this.byteSize=t};qi.store="remoteDocumentGlobal",qi.key="remoteDocumentGlobalKey";var Qi=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Qi.store="targets",Qi.keyPath="targetId",Qi.queryTargetsIndexName="queryTargetsIndex",Qi.queryTargetsKeyPath=["canonicalId","targetId"];var Wi=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Wi.store="targetDocuments",Wi.keyPath=["targetId","path"],Wi.documentTargetsIndex="documentTargetsIndex",Wi.documentTargetsKeyPath=["path","targetId"];var $i=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};$i.key="targetGlobalKey",$i.store="targetGlobal";var Ki=function(t,e){this.collectionId=t,this.parent=e};function Zi(t){t.createObjectStore(Wi.store,{keyPath:Wi.keyPath}).createIndex(Wi.documentTargetsIndex,Wi.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Qi.store,{keyPath:Qi.keyPath}).createIndex(Qi.queryTargetsIndexName,Qi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore($i.store)}Ki.store="collectionParents",Ki.keyPath=["collectionId","parent"];var Ji=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ji.store="clientMetadata",Ji.keyPath="clientId";var Yi=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Mi.store,Bi.store,zi.store,Gi.store,Qi.store,Fi.store,$i.store,Wi.store],[Ji.store]),[qi.store]),[Ki.store]),Xi=function(){function t(){this.la=new Ni}return t.prototype.Mo=function(t,e){var n=this;if(!this.la.has(e)){var r=e._(),i=e.h();t.pr((function(){n.la.add(e)}));var s={collectionId:r,parent:ci(i)};return ts(t).put(s)}return pr.resolve()},t.prototype.Qr=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Y(e),""],!1,!0);return ts(t).ts(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(hi(s.parent))}return n}))},t}();function ts(t){return cs.Qn(t,Ki.store)}var es=function(){function t(t){this._a=t}return t.prototype.next=function(){return this._a+=2,this._a},t.fa=function(){return new t(0)},t.da=function(){return new t(-1)},t}(),ns=function(){function t(t,e){this.No=t,this.serializer=e}return t.prototype.wa=function(t){var e=this;return this.ma(t).next((function(n){var r=new es(n.highestTargetId);return n.highestTargetId=r.next(),e.Ta(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ea=function(t){return this.ma(t).next((function(t){return ct.J(new at(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ia=function(t){return this.ma(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Aa=function(t,e,n){var r=this;return this.ma(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.Z()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ta(t,i)}))},t.prototype.Ra=function(t,e){var n=this;return this.ga(t,e).next((function(){return n.ma(t).next((function(r){return r.targetCount+=1,n.Pa(e,r),n.Ta(t,r)}))}))},t.prototype.ya=function(t,e){return this.ga(t,e)},t.prototype.Va=function(t,e){var n=this;return this.pa(t,e.targetId).next((function(){return rs(t).delete(e.targetId)})).next((function(){return n.ma(t)})).next((function(e){return y(e.targetCount>0),e.targetCount-=1,n.Ta(t,e)}))},t.prototype.po=function(t,e,n){var r=this,i=0,s=[];return rs(t).rs((function(o,a){var c=_i(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.Va(t,c)))})).next((function(){return pr.$n(s)})).next((function(){return i}))},t.prototype.Ce=function(t,e){return rs(t).rs((function(t,n){var r=_i(n);e(r)}))},t.prototype.ma=function(t){return is(t).get($i.key).next((function(t){return y(null!==t),t}))},t.prototype.Ta=function(t,e){return is(t).put($i.key,e)},t.prototype.ga=function(t,e){return rs(t).put(wi(this.serializer,e))},t.prototype.Pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.ba=function(t){return this.ma(t).next((function(t){return t.targetCount}))},t.prototype.va=function(t,e){var n=pt(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return rs(t).rs({range:r,index:Qi.queryTargetsIndexName},(function(t,n,r){var s=_i(n);gt(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.Sa=function(t,e,n){var r=this,i=[],s=ss(t);return e.forEach((function(e){var o=ci(e.path);i.push(s.put(new Wi(n,o))),i.push(r.No.Da(t,n,e))})),pr.$n(i)},t.prototype.Ca=function(t,e,n){var r=this,i=ss(t);return pr.forEach(e,(function(e){var s=ci(e.path);return pr.$n([i.delete([n,s]),r.No.Na(t,n,e)])}))},t.prototype.pa=function(t,e){var n=ss(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Fa=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ss(t),i=Nt();return r.rs({range:n,ss:!0},(function(t,e,n){var r=hi(t[1]),s=new A(r);i=i.add(s)})).next((function(){return i}))},t.prototype.Ho=function(t,e){var n=ci(e.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return ss(t).rs({index:Wi.documentTargetsIndex,ss:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Ue=function(t,e){return rs(t).get(e).next((function(t){return t?_i(t):null}))},t}();function rs(t){return cs.Qn(t,Qi.store)}function is(t){return cs.Qn(t,$i.store)}function ss(t){return cs.Qn(t,Wi.store)}var os="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",as=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jo=e,r.xa=n,r}return r.__extends(e,t),e}(Xr),cs=function(){function t(e,n,r,i,s,o,a,c,u,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.fn=s,this.window=o,this.document=a,this.$a=u,this.ka=f,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(t){return Promise.resolve()},!t.Ln())throw new h(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new hs(this,i),this.Wa=n+"main",this.serializer=new fi(c),this.ja=new gr(this.Wa,10,new Pi(this.serializer)),this.Ka=new ns(this.No,this.serializer),this.Dr=new Xi,this.vr=function(t,e){return new Ai(t,e)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===f&&g("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Qn=function(t,e){if(t instanceof as)return gr.Qn(t.jo,e);throw v()},t.prototype.start=function(){var t=this;return this.za().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,os);return t.Ha(),t.Ya(),t.Ja(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.Ka.Ia(e)}))})).then((function(e){t.Ma=new Fr(e,t.$a)})).then((function(){t.Oa=!0})).catch((function(e){return t.ja&&t.ja.close(),Promise.reject(e)}))},t.prototype.Xa=function(t){var e=this;return this.Qa=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Ei?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Za=function(t){var e=this;this.ja.Kn((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.tc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.fn.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.za=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return ls(e).put(new Ji(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.ec(e).next((function(e){e||(t.isPrimary=!1,t.fn.Cs((function(){return t.Qa(!1)})))}))})).next((function(){return t.nc(e)})).next((function(n){return t.isPrimary&&!n?t.sc(e).next((function(){return!1})):!!n&&t.ic(e).next((function(){return!0}))}))})).catch((function(e){if(vr(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.fn.Cs((function(){return t.Qa(e)})),t.isPrimary=e}))},t.prototype.ec=function(t){var e=this;return us(t).get(Fi.key).next((function(t){return pr.resolve(e.rc(t))}))},t.prototype.oc=function(t){return ls(t).delete(this.clientId)},t.prototype.ac=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,s=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Qn(e,Ji.store);return n.ts().next((function(t){var e=s.uc(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return pr.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Ga)for(n=0,i=e;n<i.length;n++)this.Ga.removeItem(this.hc(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.Ja=function(){var t=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return t.za().then((function(){return t.ac()})).then((function(){return t.Ja()}))}))},t.prototype.rc=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.nc=function(t){var e=this;return this.ka?pr.resolve(!0):us(t).get(Fi.key).next((function(n){if(null!==n&&e.cc(n.leaseTimestampMs,5e3)&&!e.lc(n.ownerId)){if(e.rc(n)&&e.networkEnabled)return!0;if(!e.rc(n)){if(!n.allowTabSynchronization)throw new h(l.FAILED_PRECONDITION,os);return!1}}return!(!e.networkEnabled||!e.inForeground)||ls(t).ts().next((function(t){return void 0===e.uc(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&p("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Di=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[Fi.store,Ji.store],(function(e){var n=new as(e,Fr.ai);return t.sc(n).next((function(){return t.oc(n)}))}))];case 1:return e.sent(),this.ja.close(),this.wc(),[2]}}))}))},t.prototype.uc=function(t,e){var n=this;return t.filter((function(t){return n.cc(t.updateTimeMs,e)&&!n.lc(t.clientId)}))},t.prototype.pi=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return ls(e).ts().next((function(e){return t.uc(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.mc=function(t){return Si.xo(t,this.serializer,this.Dr,this.No)},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.Ic=function(){return this.Dr},t.prototype.runTransaction=function(t,e,n){var r,i=this;return p("IndexedDbPersistence","Starting transaction:",t),this.ja.runTransaction(t,"readonly"===e?"readonly":"readwrite",Yi,(function(s){return r=new as(s,i.Ma?i.Ma.next():Fr.ai),"readwrite-primary"===e?i.ec(r).next((function(t){return!!t||i.nc(r)})).next((function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.fn.Cs((function(){return i.Qa(!1)})),new h(l.FAILED_PRECONDITION,Yr);return n(r)})).next((function(t){return i.ic(r).next((function(){return t}))})):i.Ac(r).next((function(){return n(r)}))})).then((function(t){return r.br(),t}))},t.prototype.Ac=function(t){var e=this;return us(t).get(Fi.key).next((function(t){if(null!==t&&e.cc(t.leaseTimestampMs,5e3)&&!e.lc(t.ownerId)&&!e.rc(t)&&!(e.ka||e.allowTabSynchronization&&t.allowTabSynchronization))throw new h(l.FAILED_PRECONDITION,os)}))},t.prototype.ic=function(t){var e=new Fi(this.clientId,this.allowTabSynchronization,Date.now());return us(t).put(Fi.key,e)},t.Ln=function(){return gr.Ln()},t.prototype.sc=function(t){var e=this,n=us(t);return n.get(Fi.key).next((function(t){return e.rc(t)?(p("IndexedDbPersistence","Releasing primary lease."),n.delete(Fi.key)):pr.resolve()}))},t.prototype.cc=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(g("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Ha=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){t.fn.ws((function(){return t.inForeground="visible"===t.document.visibilityState,t.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},t.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},t.prototype.Ya=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.La=function(){e._c(),e.fn.ws((function(){return e.Di()}))},this.window.addEventListener("unload",this.La))},t.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},t.prototype.lc=function(t){var e;try{var n=null!==(null===(e=this.Ga)||void 0===e?void 0:e.getItem(this.hc(t)));return p("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return g("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(r){g("Failed to set zombie client id.",r)}},t.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(r){}},t.prototype.hc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function us(t){return cs.Qn(t,Fi.store)}function ls(t){return cs.Qn(t,Ji.store)}var hs=function(){function t(t,e){this.db=t,this.wo=new ai(this,e)}return t.prototype.Po=function(t){var e=this.Rc(t);return this.db.Tc().ba(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Rc=function(t){var e=0;return this.Vo(t,(function(t){e++})).next((function(){return e}))},t.prototype.Ce=function(t,e){return this.db.Tc().Ce(t,e)},t.prototype.Vo=function(t,e){return this.gc(t,(function(t,n){return e(n)}))},t.prototype.Da=function(t,e,n){return fs(t,n)},t.prototype.Na=function(t,e,n){return fs(t,n)},t.prototype.po=function(t,e,n){return this.db.Tc().po(t,e,n)},t.prototype.Go=function(t,e){return fs(t,e)},t.prototype.Pc=function(t,e){return function(t,e){var n=!1;return Ti(t).os((function(r){return Ei(t,r,e).next((function(t){return t&&(n=!0),pr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.bo=function(t,e){var n=this,r=this.db.Ec().ra(),i=[],s=0;return this.gc(t,(function(o,a){if(a<=e){var c=n.Pc(t,o).next((function(e){if(!e)return s++,r.Rr(t,o).next((function(){return r.Ar(o),ss(t).delete([0,ci(o.path)])}))}));i.push(c)}})).next((function(){return pr.$n(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.st(t.xa);return this.db.Tc().ya(t,n)},t.prototype.yc=function(t,e){return fs(t,e)},t.prototype.gc=function(t,e){var n,r=ss(t),i=Fr.ai;return r.rs({index:Wi.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Fr.ai&&e(new A(hi(n)),i),i=o,n=s):i=Fr.ai})).next((function(){i!==Fr.ai&&e(new A(hi(n)),i)}))},t.prototype.So=function(t){return this.db.Ec().aa(t)},t}();function fs(t,e){return ss(t).put(function(t,e){return new Wi(0,ci(t.path),e)}(e,t.xa))}function ds(t,e){var n=t.projectId;return t.j||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ps=function(){function t(t,e,n){this.persistence=t,this.Vc=e,this.bc=new Et(Z),this.vc=new ot((function(t){return pt(t)}),gt),this.Sc=ct.min(),this.Sr=t.mc(n),this.Dc=t.Ec(),this.Ka=t.Tc(),this.Cc=new ti(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.vo(n,e.bc)}))},t}();function gs(t,e){var n=_(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Dc.ra({oa:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=pr.resolve();return s.forEach((function(t){o=o.next((function(){return r.Rr(e,t)})).next((function(e){var s=e,o=n.dr.get(t);y(null!==o),(!s||s.version.L(o)<0)&&(s=i.cr(t,s,n))&&r.Er(s,n._r)}))})),o.next((function(){return t.Sr.Wo(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}function bs(t){var e=_(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.Ka.Ea(t)}))}function ms(t,e){var n=_(t),r=e.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Dc.ra({oa:!0});i=n.bc;var o=[];e.zt.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.Ka.Ca(t,e.se,s).next((function(){return n.Ka.Sa(t,e.ee,s)})));var c=e.resumeToken;if(c.O()>0){var u=a.it(c,r).st(t.xa);i=i.ot(s,u),function(t,e,n){return y(e.resumeToken.O()>0),0===t.resumeToken.O()||e.nt.X()-t.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,u,e)&&o.push(n.Ka.ya(t,u))}}}));var a=xt(),c=Nt();if(e.Yt.forEach((function(t,e){c=c.add(t)})),o.push(s.getEntries(t,c).next((function(i){e.Yt.forEach((function(c,u){var l=i.get(c);u instanceof kn&&u.version.isEqual(ct.min())?(s.Ar(c,r),a=a.ot(c,u)):null==l||u.version.L(l.version)>0||0===u.version.L(l.version)&&l.hasPendingWrites?(s.Er(u,r),a=a.ot(c,u)):p("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version),e.Jt.has(c)&&o.push(n.persistence.No.yc(t,c))}))}))),!r.isEqual(ct.min())){var u=n.Ka.Ea(t).next((function(e){return n.Ka.Aa(t,t.xa,r)}));o.push(u)}return pr.$n(o).next((function(){return s.apply(t)})).next((function(){return n.Cc.Mr(t,a)}))})).then((function(t){return n.bc=i,t}))}function vs(t,e){var n=_(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Sr.Bo(t,e)}))}function ys(t,e){var n=_(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.Ka.va(t,e).next((function(i){return i?pr.resolve(r=i):n.Ka.wa(t).next((function(i){return r=new yt(e,i,0,t.xa),n.Ka.Ra(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.bc.get(t.targetId);return(null===r||t.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(t.targetId,t),n.vc.set(e,t.targetId)),t}))}function _s(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:i=_(t),s=i.bc.get(e),o=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",o,(function(t){return i.persistence.No.removeTarget(t,s)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!vr(a=r.sent()))throw a;return p("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.bc=i.bc.remove(e),i.vc.delete(s.target),[2]}}))}))}function ws(t,e,n){var r=_(t),i=ct.min(),s=Nt();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=_(t),i=r.vc.get(n);return void 0!==i?pr.resolve(r.bc.get(i)):r.Ka.va(e,n)}(r,t,zn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ka.Fa(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Vc.Lr(t,e,n?i:ct.min(),n?s:Nt())})).next((function(t){return{documents:t,Fc:s}}))}))}function Ss(t,e){var n=_(t),r=_(n.Ka),i=n.bc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Ue(t,e).next((function(t){return t?t.target:null}))}))}function Es(t){var e=_(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=_(t),i=xt(),s=gi(n),o=Li(e),a=IDBKeyRange.lowerBound(s,!0);return o.rs({index:Gi.readTimeIndex,range:a},(function(t,e){var n=di(r.serializer,e);i=i.ot(n.key,n),s=e.readTime})).next((function(){return{xc:i,readTime:bi(s)}}))}(e.Dc,t,e.Sc)})).then((function(t){var n=t.xc;return e.Sc=t.readTime,n}))}function Cs(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){return[2,(e=_(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Li(t),n=ct.min();return e.rs({index:Gi.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=bi(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Sc=t}))]}))}))}function Os(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==l.FAILED_PRECONDITION||t.message!==Yr)throw t;return p("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Is=function(){function t(){this.$c=new It(Ts.kc),this.Mc=new It(Ts.Oc)}return t.prototype.m=function(){return this.$c.m()},t.prototype.Da=function(t,e){var n=new Ts(t,e);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},t.prototype.Lc=function(t,e){var n=this;t.forEach((function(t){return n.Da(t,e)}))},t.prototype.Na=function(t,e){this.Bc(new Ts(t,e))},t.prototype.qc=function(t,e){var n=this;t.forEach((function(t){return n.Na(t,e)}))},t.prototype.Uc=function(t){var e=this,n=new A(new O([])),r=new Ts(n,t),i=new Ts(n,t+1),s=[];return this.Mc.Ft([r,i],(function(t){e.Bc(t),s.push(t.key)})),s},t.prototype.Qc=function(){var t=this;this.$c.forEach((function(e){return t.Bc(e)}))},t.prototype.Bc=function(t){this.$c=this.$c.delete(t),this.Mc=this.Mc.delete(t)},t.prototype.Wc=function(t){var e=new A(new O([])),n=new Ts(e,t),r=new Ts(e,t+1),i=Nt();return this.Mc.Ft([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Ho=function(t){var e=new Ts(t,0),n=this.$c.$t(e);return null!==n&&t.isEqual(n.key)},t}(),Ts=function(){function t(t,e){this.key=t,this.jc=e}return t.kc=function(t,e){return A.i(t.key,e.key)||Z(t.jc,e.jc)},t.Oc=function(t,e){return Z(t.jc,e.jc)||A.i(t.key,e.key)},t}(),As=function(t,e){this.user=e,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+t},xs=function(){function t(){this.Gc=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.zc=function(){},t.prototype.Hc=function(t){this.Gc=t,t(Vr.UNAUTHENTICATED)},t.prototype.Yc=function(){this.Gc=null},t}(),ks=function(){function t(t){var e=this;this.Jc=null,this.currentUser=Vr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){e.Zc++,e.currentUser=e.tu(),e.Xc=!0,e.Gc&&e.Gc(e.currentUser)},this.Zc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),t.get().then((function(t){e.auth=t,e.Jc&&e.auth.addAuthTokenListener(e.Jc)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.Zc!==e?(p("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(y("string"==typeof n.accessToken),new As(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.zc=function(){this.forceRefresh=!0},t.prototype.Hc=function(t){this.Gc=t,this.Xc&&t(this.currentUser)},t.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},t.prototype.tu=function(){var t=this.auth&&this.auth.getUid();return y(null===t||"string"==typeof t),new Vr(t)},t}(),Ls=function(){function t(t,e){this.eu=t,this.nu=e,this.type="FirstParty",this.user=Vr.ni}return Object.defineProperty(t.prototype,"Kc",{get:function(){var t={"X-Goog-AuthUser":this.nu},e=this.eu.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),js=function(){function t(t,e){this.eu=t,this.nu=e}return t.prototype.getToken=function(){return Promise.resolve(new Ls(this.eu,this.nu))},t.prototype.Hc=function(t){t(Vr.ni)},t.prototype.Yc=function(){},t.prototype.zc=function(){},t}(),Ds=function(){function t(t,e,n,r,i,s){this.fn=t,this.su=n,this.iu=r,this.ru=i,this.listener=s,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new dr(t,e)}return t.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.uu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.hu()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.lu=function(){this.state=0,this.ys.reset()},t.prototype._u=function(){var t=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return t.fu()})))},t.prototype.du=function(t){this.wu(),this.stream.send(t)},t.prototype.fu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.uu()?[2,this.close(0)]:[2]}))}))},t.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==t?this.ys.reset():e&&e.code===l.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):e&&e.code===l.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.mu=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(e){t.ou===n&&t.Iu(e)}),(function(n){e((function(){var e=new h(l.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Au(e)}))}))},t.prototype.Iu=function(t){var e=this,n=this.Eu(this.ou);this.stream=this.Ru(t),this.stream.gu((function(){n((function(){return e.state=2,e.listener.gu()}))})),this.stream.Tu((function(t){n((function(){return e.Au(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.hu=function(){var t=this;this.state=4,this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Au=function(t){return p("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.Eu=function(t){var e=this;return function(n){e.fn.ws((function(){return e.ou===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Rs=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return r.__extends(e,t),e.prototype.Ru=function(t){return this.iu.Pu("Listen",t)},e.prototype.onMessage=function(t){this.ys.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:v()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Qe?(y(void 0===e||"string"==typeof e),X.fromBase64String(e||"")):(y(void 0===e||e instanceof Uint8Array),X.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?l.UNKNOWN:St(t.code);return new h(e,t.message||"")}(o);n=new qt(r,i,s,a||null)}else if("documentChange"in e){var c=e.documentChange,u=Te(t,c.document.name),f=Ee(c.document.updateTime),d=new On({mapValue:{fields:c.document.fields}}),p=new xn(u,f,d,{});n=new Ht(c.targetIds||[],c.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){var g=e.documentDelete,b=Te(t,g.document),m=g.readTime?Ee(g.readTime):ct.min(),_=new kn(b,m);n=new Ht([],g.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){var w=e.documentRemove,S=Te(t,w.document);n=new Ht([],w.removedTargetIds||[],S,null)}else{if(!("filter"in e))return v();var E=e.filter,C=new _t(E.count||0);n=new Gt(E.targetId,C)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return ct.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ct.min():e.readTime?Ee(e.readTime):ct.min()}(t);return this.listener.yu(e,n)},e.prototype.Vu=function(t){var e={};e.database=ke(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=bt(r)?{documents:Ne(t,r)}:{query:Pe(t,r)}).targetId=e.targetId,e.resumeToken.O()>0&&(n.resumeToken=we(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v()}}(0,e.et);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.du(e)},e.prototype.pu=function(t){var e={};e.database=ke(this.serializer),e.removeTarget=t,this.du(e)},e}(Ds),Ns=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.bu=!1,o}return r.__extends(e,t),Object.defineProperty(e.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mu=function(){this.bu&&this.Su([])},e.prototype.Ru=function(t){return this.iu.Pu("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken),this.lastStreamToken=t.streamToken,this.bu){this.ys.reset();var e=function(t,e){return t&&t.length>0?(y(void 0!==e),t.map((function(t){return function(t,e){var n=Ee(t.updateTime?t.updateTime:e);n.isEqual(ct.min())&&(n=Ee(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new cn(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Ee(t.commitTime);return this.listener.Du(n,e)}return y(!t.writeResults||0===t.writeResults.length),this.bu=!0,this.listener.Cu()},e.prototype.Nu=function(){var t={};t.database=ke(this.serializer),this.du(t)},e.prototype.Su=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return De(e.serializer,t)}))};this.du(n)},e}(Ds),Ps=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.iu=n,i.serializer=r,i.Fu=!1,i}return r.__extends(e,t),e.prototype.xu=function(){if(this.Fu)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.$u=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.ku=function(t,e,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(t,e,n,i)})).catch((function(t){throw t.code===l.UNAUTHENTICATED&&r.credentials.zc(),t}))},e.prototype.terminate=function(){this.Fu=!1},e}((function(){})),Vs=function(){function t(t,e){this.cs=t,this.di=e,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return t.prototype.Bu=function(){var t=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return t.Ou=null,t.Uu("Backend didn't respond within 10 seconds."),t.qu("Offline"),Promise.resolve()})))},t.prototype.Qu=function(t){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+t.toString()),this.qu("Offline")))},t.prototype.set=function(t){this.Wu(),this.Mu=0,"Online"===t&&(this.Lu=!1),this.qu(t)},t.prototype.qu=function(t){t!==this.state&&(this.state=t,this.di(t))},t.prototype.Uu=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(g(e),this.Lu=!1):p("OnlineStateTracker",e)},t.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t}(),Fs=function(t,e,n,i,s){var o=this;this.ju=t,this.Ku=e,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=s,this.Xu.Zu((function(t){n.ws((function(){return r.__awaiter(o,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return $s(this)?(p("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=_(t)).Yu.add(4),[4,Bs(e)];case 1:return n.sent(),e.th.set("Unknown"),e.Yu.delete(4),[4,Ms(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.th=new Vs(n,i)};function Ms(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:if(!$s(t))return[3,4];e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Bs(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:e=0,n=t.Ju,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function zs(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return e=_(t),p("RemoteStore","RemoteStore shutting down."),e.Yu.add(5),[4,Bs(e)];case 1:return n.sent(),e.Xu.Di(),e.th.set("Unknown"),[2]}}))}))}function Us(t,e){var n=_(t);n.Hu.has(e.targetId)||(n.Hu.set(e.targetId,e),Ws(n)?Qs(n):uo(n).uu()&&Gs(n,e))}function Hs(t,e){var n=_(t),r=uo(n);n.Hu.delete(e),r.uu()&&qs(n,e),0===n.Hu.size&&(r.uu()?r._u():$s(n)&&n.th.set("Unknown"))}function Gs(t,e){t.eh.Ie(e.targetId),uo(t).Vu(e)}function qs(t,e){t.eh.Ie(e),uo(t).pu(e)}function Qs(t){t.eh=new Wt({qe:function(e){return t.Gu.qe(e)},Ue:function(e){return t.Hu.get(e)||null}}),uo(t).start(),t.th.Bu()}function Ws(t){return $s(t)&&!uo(t).cu()&&t.Hu.size>0}function $s(t){return 0===_(t).Yu.size}function Ks(t){t.eh=void 0}function Zs(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.Hu.forEach((function(e,n){Gs(t,e)})),[2]}))}))}function Js(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){return Ks(t),Ws(t)?(t.th.Qu(e),Qs(t)):t.th.set("Unknown"),[2]}))}))}function Ys(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o;return r.__generator(this,(function(a){switch(a.label){case 0:if(t.th.set("Online"),!(e instanceof qt&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o;return r.__generator(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,s=e.targetIds,r.label=1;case 1:return i<s.length?t.Hu.has(o=s[i])?[4,t.Gu.nh(o,n)]:[3,3]:[3,5];case 2:r.sent(),t.Hu.delete(o),t.eh.removeTarget(o),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),p("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Xs(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ht?t.eh.be(e):e instanceof Gt?t.eh.$e(e):t.eh.De(e),n.isEqual(ct.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,bs(t.ju)];case 8:return s=a.sent(),n.L(s)>=0?[4,function(t,e){var n=t.eh.Oe(e);return n.zt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=t.Hu.get(r);i&&t.Hu.set(r,i.it(n.resumeToken,e))}})),n.Ht.forEach((function(e){var n=t.Hu.get(e);if(n){t.Hu.set(e,n.it(X.B,n.nt)),qs(t,e);var r=new yt(n.target,e,1,n.sequenceNumber);Gs(t,r)}})),t.Gu.sh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return p("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Xs(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Xs(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i=this;return r.__generator(this,(function(s){switch(s.label){case 0:if(!vr(e))throw e;return t.Yu.add(1),[4,Bs(t)];case 1:return s.sent(),t.th.set("Offline"),n||(n=function(){return bs(t.ju)}),t.cs.Cs((function(){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return p("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Yu.delete(1),[4,Ms(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function to(t,e){return e().catch((function(n){return Xs(t,n,e)}))}function eo(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,s,o;return r.__generator(this,(function(r){switch(r.label){case 0:e=_(t),n=lo(e),i=e.zu.length>0?e.zu[e.zu.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return $s(t)&&t.zu.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,vs(e.ju,i)];case 3:return null===(s=r.sent())?(0===e.zu.length&&n._u(),[3,7]):(i=s.batchId,function(t,e){t.zu.push(e);var n=lo(t);n.uu()&&n.vu&&n.Su(e.mutations)}(e,s),[3,6]);case 4:return o=r.sent(),[4,Xs(e,o)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return no(e)&&ro(e),[2]}}))}))}function no(t){return $s(t)&&!lo(t).cu()&&t.zu.length>0}function ro(t){lo(t).start()}function io(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return lo(t).Nu(),[2]}))}))}function so(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i;return r.__generator(this,(function(r){for(e=lo(t),n=0,i=t.zu;n<i.length;n++)e.Su(i[n].mutations);return[2]}))}))}function oo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s;return r.__generator(this,(function(r){switch(r.label){case 0:return i=t.zu.shift(),s=Zr.from(i,e,n),[4,to(t,(function(){return t.Gu.ih(s)}))];case 1:return r.sent(),[4,eo(t)];case 2:return r.sent(),[2]}}))}))}function ao(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return e&&lo(t).vu?[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return wt(i=e.code)&&i!==l.ABORTED?(n=t.zu.shift(),lo(t).lu(),[4,to(t,(function(){return t.Gu.rh(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,eo(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return no(t)&&ro(t),[2]}}))}))}function co(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),e?(n.Yu.delete(2),[4,Ms(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Yu.add(2),[4,Bs(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function uo(t){var e=this;return t.oh||(t.oh=function(t,e,n){var r=_(t);return r.xu(),new Rs(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:Zs.bind(null,t),Tu:Js.bind(null,t),yu:Ys.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.oh.lu(),Ws(t)?Qs(t):t.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.oh.stop()];case 2:e.sent(),Ks(t),e.label=3;case 3:return[2]}}))}))}))),t.oh}function lo(t){var e=this;return t.ah||(t.ah=function(t,e,n){var r=_(t);return r.xu(),new Ns(e,r.iu,r.credentials,r.serializer,n)}(t.Ku,t.cs,{gu:io.bind(null,t),Tu:ao.bind(null,t),Cu:so.bind(null,t),Du:oo.bind(null,t)}),t.Ju.push((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return n?(t.ah.lu(),[4,eo(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.ah.stop()];case 3:e.sent(),t.zu.length>0&&(p("RemoteStore","Stopping write stream with "+t.zu.length+" pending writes"),t.zu=[]),e.label=4;case 4:return[2]}}))}))}))),t.ah}var ho=function(t){this.key=t},fo=function(t){this.key=t},po=function(){function t(t,e){this.query=t,this.uh=e,this.hh=null,this.te=!1,this.lh=Nt(),this.Wt=Nt(),this._h=Kn(t),this.fh=new Ft(this._h)}return Object.defineProperty(t.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),t.prototype.wh=function(t,e){var n=this,r=e?e.mh:new Mt,i=e?e.fh:this.fh,s=e?e.Wt:this.Wt,o=i,a=!1,c=Nn(this.query)&&i.size===this.query.limit?i.last():null,u=Pn(this.query)&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof xn?e:null;h&&(h=$n(n.query,h)?h:null);var f=!!l&&n.Wt.has(l.key),d=!!h&&(h.Je||n.Wt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Th(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n._h(h,c)>0||u&&n._h(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),Nn(this.query)||Pn(this.query))for(;o.size>this.query.limit;){var l=Nn(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fh:o,mh:r,Eh:a,Wt:s}},t.prototype.Th=function(t,e){return t.Je&&e.hasCommittedMutations&&!e.Je},t.prototype.yr=function(t,e,n){var r=this,i=this.fh;this.fh=t.fh,this.Wt=t.Wt;var s=t.mh.Ut();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(t)-n(e)}(t.type,e.type)||r._h(t.doc,e.doc)})),this.Ih(n);var o=e?this.Ah():[],a=0===this.lh.size&&this.te?1:0,c=a!==this.hh;return this.hh=a,0!==s.length||c?{snapshot:new Bt(this.query,t.fh,i,s,t.Wt,0===a,c,!1),Rh:o}:{Rh:o}},t.prototype.Qs=function(t){return this.te&&"Offline"===t?(this.te=!1,this.yr({fh:this.fh,mh:new Mt,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},t.prototype.gh=function(t){return!this.uh.has(t)&&!!this.fh.has(t)&&!this.fh.get(t).Je},t.prototype.Ih=function(t){var e=this;t&&(t.ee.forEach((function(t){return e.uh=e.uh.add(t)})),t.ne.forEach((function(t){})),t.se.forEach((function(t){return e.uh=e.uh.delete(t)})),this.te=t.te)},t.prototype.Ah=function(){var t=this;if(!this.te)return[];var e=this.lh;this.lh=Nt(),this.fh.forEach((function(e){t.gh(e.key)&&(t.lh=t.lh.add(e.key))}));var n=[];return e.forEach((function(e){t.lh.has(e)||n.push(new fo(e))})),this.lh.forEach((function(t){e.has(t)||n.push(new ho(t))})),n},t.prototype.Ph=function(t){this.uh=t.Fc,this.lh=Nt();var e=this.wh(t.documents);return this.yr(e,!0)},t.prototype.yh=function(){return Bt.Gt(this.query,this.fh,this.Wt,0===this.hh)},t}(),go=function(t,e,n){this.query=t,this.targetId=e,this.view=n},bo=function(t){this.key=t,this.Vh=!1},mo=function(){function t(t,e,n,r,i,s){this.ju=t,this.ph=e,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=s,this.Ch={},this.Nh=new ot((function(t){return Qn(t)}),qn),this.Fh=new Map,this.xh=[],this.$h=new Et(A.i),this.kh=new Map,this.Mh=new Is,this.Oh={},this.Lh=new Map,this.Bh=es.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(t.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),t}();function vo(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return n=Go(t),(s=n.Nh.get(e))?(n.Sh.Oi(s.targetId),i=s.view.yh(),[3,4]):[3,1];case 1:return[4,ys(n.ju,zn(e))];case 2:return o=r.sent(),a=n.Sh.Oi(o.targetId),[4,yo(n,e,o.targetId,"current"===a)];case 3:i=r.sent(),n.Uh&&Us(n.ph,o),r.label=4;case 4:return[2,i]}}))}))}function yo(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var s,o,a,c,u,l;return r.__generator(this,(function(h){switch(h.label){case 0:return t.Qh=function(e,n,i){return function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(s=e.view.wh(n)).Eh?[4,ws(t.ju,e.query,!1).then((function(t){return e.view.wh(t.documents,s)}))]:[3,2];case 1:s=r.sent(),r.label=2;case 2:return o=i&&i.zt.get(e.targetId),a=e.view.yr(s,t.Uh,o),[2,(ko(t,e.targetId,a.Rh),a.snapshot)]}}))}))}(t,e,n,i)},[4,ws(t.ju,e,!0)];case 1:return s=h.sent(),o=new po(e,s.Fc),a=o.wh(s.documents),c=Ut.Zt(n,i&&"Offline"!==t.onlineState),u=o.yr(a,t.Uh,c),ko(t,n,u.Rh),l=new go(e,n,o),[2,(t.Nh.set(e,l),t.Fh.has(n)?t.Fh.get(n).push(e):t.Fh.set(n,[e]),u.snapshot)]}}))}))}function _o(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=n.Nh.get(e),(s=n.Fh.get(i.targetId)).length>1?[2,(n.Fh.set(i.targetId,s.filter((function(t){return!qn(t,e)}))),void n.Nh.delete(e))]:n.Uh?(n.Sh.Bi(i.targetId),n.Sh.Fi(i.targetId)?[3,2]:[4,_s(n.ju,i.targetId,!1).then((function(){n.Sh.Ui(i.targetId),Hs(n.ph,i.targetId),Ao(n,i.targetId)})).catch(Os)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Ao(n,i.targetId),[4,_s(n.ju,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function wo(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,ms(n.ju,e)];case 2:return i=r.sent(),e.zt.forEach((function(t,e){var r=n.kh.get(e);r&&(y(t.ee.size+t.ne.size+t.se.size<=1),t.ee.size>0?r.Vh=!0:t.ne.size>0?y(r.Vh):t.se.size>0&&(y(r.Vh),r.Vh=!1))})),[4,Do(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Os(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function So(t,e,n){var r=_(t);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(t,n){var r=n.view.Qs(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=_(t);n.onlineState=e;var r=!1;n.Bs.forEach((function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Qs(e)&&(r=!0)})),r&&Nr(n)}(r.bh,e),i.length&&r.Ch.yu(i),r.onlineState=e,r.Uh&&r.Sh.Ki(e)}}function Eo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a,c,u;return r.__generator(this,(function(r){switch(r.label){case 0:return(i=_(t)).Sh.Qi(e,"rejected",n),s=i.kh.get(e),(o=s&&s.key)?(a=(a=new Et(A.i)).ot(o,new kn(o,ct.min())),c=Nt().add(o),u=new zt(ct.min(),new Map,new It(Z),a,c),[4,wo(i,u)]):[3,2];case 1:return r.sent(),i.$h=i.$h.remove(o),i.kh.delete(e),jo(i),[3,4];case 2:return[4,_s(i.ju,e,!1).then((function(){return Ao(i,e,n)})).catch(Os)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function Co(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,gs(n.ju,e)];case 2:return s=r.sent(),To(n,i,null),Io(n,i),n.Sh.ki(i,"acknowledged"),[4,Do(n,s)];case 3:return r.sent(),[3,6];case 4:return[4,Os(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Oo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s;return r.__generator(this,(function(r){switch(r.label){case 0:i=_(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=_(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Sr.Oo(t,e).next((function(e){return y(null!==e),r=e.keys(),n.Sr.Wo(t,e)})).next((function(){return n.Sr.zo(t)})).next((function(){return n.Cc.kr(t,r)}))}))}(i.ju,e)];case 2:return s=r.sent(),To(i,e,n),Io(i,e),i.Sh.ki(e,"rejected",n),[4,Do(i,s)];case 3:return r.sent(),[3,6];case 4:return[4,Os(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Io(t,e){(t.Lh.get(e)||[]).forEach((function(t){t.resolve()})),t.Lh.delete(e)}function To(t,e,n){var r=_(t),i=r.Oh[r.currentUser.ti()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Oh[r.currentUser.ti()]=i}}function Ao(t,e,n){void 0===n&&(n=null),t.Sh.Bi(e);for(var r=0,i=t.Fh.get(e);r<i.length;r++){var s=i[r];t.Nh.delete(s),n&&t.Ch.Wh(s,n)}t.Fh.delete(e),t.Uh&&t.Mh.Uc(e).forEach((function(e){t.Mh.Ho(e)||xo(t,e)}))}function xo(t,e){var n=t.$h.get(e);null!==n&&(Hs(t.ph,n),t.$h=t.$h.remove(e),t.kh.delete(n),jo(t))}function ko(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof ho?(t.Mh.Da(s.key,e),Lo(t,s)):s instanceof fo?(p("SyncEngine","Document no longer in limbo: "+s.key),t.Mh.Na(s.key,e),t.Mh.Ho(s.key)||xo(t,s.key)):v()}}function Lo(t,e){var n=e.key;t.$h.get(n)||(p("SyncEngine","New document in limbo: "+n),t.xh.push(n),jo(t))}function jo(t){for(;t.xh.length>0&&t.$h.size<t.Dh;){var e=t.xh.shift(),n=t.Bh.next();t.kh.set(n,new bo(e)),t.$h=t.$h.ot(e,n),Us(t.ph,new yt(zn(Rn(e.path)),n,2,Fr.ai))}}function Do(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a;return r.__generator(this,(function(c){switch(c.label){case 0:return i=_(t),s=[],o=[],a=[],i.Nh.m()?[3,3]:(i.Nh.forEach((function(t,r){a.push(i.Qh(r,e,n).then((function(t){if(t){i.Uh&&i.Sh.Qi(r.targetId,t.fromCache?"not-current":"current"),s.push(t);var e=ei.zr(r.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return c.sent(),i.Ch.yu(s),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,c,u,l;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return pr.forEach(e,(function(e){return pr.forEach(e.Kr,(function(r){return n.persistence.No.Da(t,e.targetId,r)})).next((function(){return pr.forEach(e.Gr,(function(r){return n.persistence.No.Na(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!vr(i=r.sent()))throw i;return p("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(s=0,o=e;s<o.length;s++)c=(a=o[s]).targetId,a.fromCache||(u=n.bc.get(c),l=u.rt(u.nt),n.bc=n.bc.ot(c,l));return[2]}}))}))}(i.ju,o)];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))}function Ro(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(s){switch(s.label){case 0:return(n=_(t)).currentUser.isEqual(e)?[3,3]:(p("SyncEngine","User change. New user:",e.ti()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=n.Sr,s=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.Sr.Uo(t).next((function(o){return r=o,i=n.persistence.mc(e),s=new ti(n.Dc,i,n.persistence.Ic()),i.Uo(t)})).next((function(e){for(var n=[],i=[],o=Nt(),a=0,c=r;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var g=0,b=p.mutations;g<b.length;g++)o=o.add(b[g].key)}return s.kr(t,o).next((function(t){return{jh:t,Kh:n,Gh:i}}))}))}))];case 1:return o=r.sent(),[2,(n.Sr=i,n.Cc=s,n.Vc.Nc(n.Cc),o)]}}))}))}(n.ju,e)]);case 1:return i=s.sent(),n.currentUser=e,function(t,e){t.Lh.forEach((function(t){t.forEach((function(t){t.reject(new h(l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Lh.clear()}(n),n.Sh.ji(e,i.Kh,i.Gh),[4,Do(n,i.jh)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function No(t,e){var n=_(t),r=n.kh.get(e);if(r&&r.Vh)return Nt().add(r.key);var i=Nt(),s=n.Fh.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Nh.get(a[o]);i=i.kt(c.view.dh)}return i}function Po(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,ws((n=_(t)).ju,e.query,!0)];case 1:return i=r.sent(),s=e.view.Ph(i),[2,(n.Uh&&ko(n,e.targetId,s.Rh),s)]}}))}))}function Vo(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var s,o;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=_(t),r=_(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Lo(t,e).next((function(e){return e?n.Cc.kr(t,e):pr.resolve(null)}))}))}((s=_(t)).ju,e)];case 1:return null===(o=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,eo(s.ph)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(To(s,e,i||null),Io(s,e),function(t,e){_(_(t).Sr).Ko(e)}(s.ju,e)):v(),r.label=4;case 4:return[4,Do(s,o)];case 5:return r.sent(),[3,7];case 6:p("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function Fo(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,c,u;return r.__generator(this,(function(r){switch(r.label){case 0:return Go(n=_(t)),qo(n),!0!==e||!0===n.qh?[3,3]:(i=n.Sh.Ci(),[4,Mo(n,i.A())]);case 1:return s=r.sent(),n.qh=!0,[4,co(n.ph,!0)];case 2:for(r.sent(),o=0,a=s;o<a.length;o++)Us(n.ph,a[o]);return[3,7];case 3:return!1!==e||!1===n.qh?[3,7]:(c=[],u=Promise.resolve(),n.Fh.forEach((function(t,e){n.Sh.qi(e)?c.push(e):u=u.then((function(){return Ao(n,e),_s(n.ju,e,!0)})),Hs(n.ph,e)})),[4,u]);case 4:return r.sent(),[4,Mo(n,c)];case 5:return r.sent(),function(t){var e=_(t);e.kh.forEach((function(t,n){Hs(e.ph,n)})),e.Mh.Qc(),e.kh=new Map,e.$h=new Et(A.i)}(n),n.qh=!1,[4,co(n.ph,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Mo(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,c,u,l,h,f,d,p,g;return r.__generator(this,(function(r){switch(r.label){case 0:n=_(t),i=[],s=[],o=0,a=e,r.label=1;case 1:return o<a.length?(u=void 0,(l=n.Fh.get(c=a[o]))&&0!==l.length?[4,ys(n.ju,zn(l[0]))]:[3,7]):[3,13];case 2:u=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.Nh.get(f[h]),[4,Po(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&s.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ss(n.ju,c)];case 8:return g=r.sent(),[4,ys(n.ju,g)];case 9:return u=r.sent(),[4,yo(n,Bo(g),c,!1)];case 10:r.sent(),r.label=11;case 11:i.push(u),r.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Ch.yu(s),i)]}}))}))}function Bo(t){return Dn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function zo(t){var e=_(t);return _(_(e.ju).persistence).pi()}function Uo(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(s=_(t)).qh?(p("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Fh.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Es(s.ju)];case 3:return o=r.sent(),a=zt.Xt(e,"current"===n),[4,Do(s,o,a)];case 4:return r.sent(),[3,8];case 5:return[4,_s(s.ju,e,!0)];case 6:return r.sent(),Ao(s,e,i),[3,8];case 7:v(),r.label=8;case 8:return[2]}}))}))}function Ho(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a,c,u,l,h,f;return r.__generator(this,(function(d){switch(d.label){case 0:if(!(i=Go(t)).qh)return[3,10];s=0,o=e,d.label=1;case 1:return s<o.length?i.Fh.has(a=o[s])?(p("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ss(i.ju,a)]:[3,6];case 2:return c=d.sent(),[4,ys(i.ju,c)];case 3:return u=d.sent(),[4,yo(i,Bo(c),u.targetId,!1)];case 4:d.sent(),Us(i.ph,u),d.label=5;case 5:return s++,[3,1];case 6:l=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.Fh.has(t)?[4,_s(i.ju,t,!1).then((function(){Hs(i.ph,t),Ao(i,t)})).catch(Os)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,d.label=7;case 7:return h<f.length?[5,l(f[h])]:[3,10];case 8:d.sent(),d.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function Go(t){var e=_(t);return e.ph.Gu.sh=wo.bind(null,e),e.ph.Gu.qe=No.bind(null,e),e.ph.Gu.nh=Eo.bind(null,e),e.Ch.yu=Dr.bind(null,e.bh),e.Ch.Wh=Rr.bind(null,e.bh),e}function qo(t){var e=_(t);return e.ph.Gu.ih=Co.bind(null,e),e.ph.Gu.rh=Oo.bind(null,e),e}var Qo=function(){function t(){}return t.prototype.Nc=function(t){this.zh=t},t.prototype.Lr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.on.length||1===t.on.length&&t.on[0].field.p())}(e)||n.isEqual(ct.min())?this.Hh(t,e):this.zh.kr(t,r).next((function(o){var a=i.Yh(e,o);return(Nn(e)||Pn(e))&&i.Eh(e.an,a,r,n)?i.Hh(t,e):(d()<=s.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Wn(e)),i.zh.Lr(t,e,n).next((function(t){return a.forEach((function(e){t=t.ot(e.key,e)})),t})))}))},t.prototype.Yh=function(t,e){var n=new It(Kn(t));return e.forEach((function(e,r){r instanceof xn&&$n(t,r)&&(n=n.add(r))})),n},t.prototype.Eh=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},t.prototype.Hh=function(t,e){return d()<=s.LogLevel.DEBUG&&p("IndexFreeQueryEngine","Using full collection scan to execute query:",Wn(e)),this.zh.Lr(t,e,ct.min())},t}(),Wo=function(){function t(t,e){this.Dr=t,this.No=e,this.Sr=[],this.Jh=1,this.Xh=new It(Ts.kc)}return t.prototype.$o=function(t){return pr.resolve(0===this.Sr.length)},t.prototype.ko=function(t,e,n,r){var i=this.Jh;this.Jh++;var s=new Kr(i,e,n,r);this.Sr.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.Xh=this.Xh.add(new Ts(c.key,i)),this.Dr.Mo(t,c.key.path.h())}return pr.resolve(s)},t.prototype.Oo=function(t,e){return pr.resolve(this.Zh(e))},t.prototype.Bo=function(t,e){var n=this.tl(e+1),r=n<0?0:n;return pr.resolve(this.Sr.length>r?this.Sr[r]:null)},t.prototype.qo=function(){return pr.resolve(0===this.Sr.length?-1:this.Jh-1)},t.prototype.Uo=function(t){return pr.resolve(this.Sr.slice())},t.prototype.Nr=function(t,e){var n=this,r=new Ts(e,0),i=new Ts(e,Number.POSITIVE_INFINITY),s=[];return this.Xh.Ft([r,i],(function(t){var e=n.Zh(t.jc);s.push(e)})),pr.resolve(s)},t.prototype.Or=function(t,e){var n=this,r=new It(Z);return e.forEach((function(t){var e=new Ts(t,0),i=new Ts(t,Number.POSITIVE_INFINITY);n.Xh.Ft([e,i],(function(t){r=r.add(t.jc)}))})),pr.resolve(this.el(r))},t.prototype.Wr=function(t,e){var n=e.path,r=n.length+1,i=n;A.F(i)||(i=i.child(""));var s=new Ts(new A(i),0),o=new It(Z);return this.Xh.xt((function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(o=o.add(t.jc)),!0)}),s),pr.resolve(this.el(o))},t.prototype.el=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zh(t);null!==r&&n.push(r)})),n},t.prototype.Wo=function(t,e){var n=this;y(0===this.nl(e.batchId,"removed")),this.Sr.shift();var r=this.Xh;return pr.forEach(e.mutations,(function(i){var s=new Ts(i.key,e.batchId);return r=r.delete(s),n.No.Go(t,i.key)})).next((function(){n.Xh=r}))},t.prototype.Ko=function(t){},t.prototype.Ho=function(t,e){var n=new Ts(e,0),r=this.Xh.$t(n);return pr.resolve(e.isEqual(r&&r.key))},t.prototype.zo=function(t){return pr.resolve()},t.prototype.nl=function(t,e){return this.tl(t)},t.prototype.tl=function(t){return 0===this.Sr.length?0:t-this.Sr[0].batchId},t.prototype.Zh=function(t){var e=this.tl(t);return e<0||e>=this.Sr.length?null:this.Sr[e]},t}(),$o=function(){function t(t,e){this.Dr=t,this.sl=e,this.docs=new Et(A.i),this.size=0}return t.prototype.Er=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.sl(e);return this.docs=this.docs.ot(r,{ta:e,size:o,readTime:n}),this.size+=o-s,this.Dr.Mo(t,r.path.h())},t.prototype.Ar=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Rr=function(t,e){var n=this.docs.get(e);return pr.resolve(n?n.ta:null)},t.prototype.getEntries=function(t,e){var n=this,r=kt();return e.forEach((function(t){var e=n.docs.get(t);r=r.ot(t,e?e.ta:null)})),pr.resolve(r)},t.prototype.Lr=function(t,e,n){for(var r=jt(),i=new A(e.path.child("")),s=this.docs.ft(i);s.At();){var o=s.It(),a=o.value,c=a.ta,u=a.readTime;if(!e.path.T(o.key.path))break;u.L(n)<=0||c instanceof xn&&$n(e,c)&&(r=r.ot(c.key,c))}return pr.resolve(r)},t.prototype.il=function(t,e){return pr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.ra=function(t){return new Ko(this)},t.prototype.aa=function(t){return pr.resolve(this.size)},t}(),Ko=function(t){function e(e){var n=this;return(n=t.call(this)||this).ca=e,n}return r.__extends(e,t),e.prototype.yr=function(t){var e=this,n=[];return this.wr.forEach((function(r,i){i?n.push(e.ca.Er(t,i,e.readTime)):e.ca.Ar(r)})),pr.$n(n)},e.prototype.gr=function(t,e){return this.ca.Rr(t,e)},e.prototype.Pr=function(t,e){return this.ca.getEntries(t,e)},e}(Jr),Zo=function(){function t(t){this.persistence=t,this.rl=new ot((function(t){return pt(t)}),gt),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.ol=0,this.al=new Is,this.targetCount=0,this.cl=es.fa()}return t.prototype.Ce=function(t,e){return this.rl.forEach((function(t,n){return e(n)})),pr.resolve()},t.prototype.Ea=function(t){return pr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ia=function(t){return pr.resolve(this.ol)},t.prototype.wa=function(t){return this.highestTargetId=this.cl.next(),pr.resolve(this.highestTargetId)},t.prototype.Aa=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ol&&(this.ol=e),pr.resolve()},t.prototype.ga=function(t){this.rl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.cl=new es(e),this.highestTargetId=e),t.sequenceNumber>this.ol&&(this.ol=t.sequenceNumber)},t.prototype.Ra=function(t,e){return this.ga(e),this.targetCount+=1,pr.resolve()},t.prototype.ya=function(t,e){return this.ga(e),pr.resolve()},t.prototype.Va=function(t,e){return this.rl.delete(e.target),this.al.Uc(e.targetId),this.targetCount-=1,pr.resolve()},t.prototype.po=function(t,e,n){var r=this,i=0,s=[];return this.rl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.rl.delete(o),s.push(r.pa(t,a.targetId)),i++)})),pr.$n(s).next((function(){return i}))},t.prototype.ba=function(t){return pr.resolve(this.targetCount)},t.prototype.va=function(t,e){var n=this.rl.get(e)||null;return pr.resolve(n)},t.prototype.Sa=function(t,e,n){return this.al.Lc(e,n),pr.resolve()},t.prototype.Ca=function(t,e,n){this.al.qc(e,n);var r=this.persistence.No,i=[];return r&&e.forEach((function(e){i.push(r.Go(t,e))})),pr.$n(i)},t.prototype.pa=function(t,e){return this.al.Uc(e),pr.resolve()},t.prototype.Fa=function(t,e){var n=this.al.Wc(e);return pr.resolve(n)},t.prototype.Ho=function(t,e){return pr.resolve(this.al.Ho(e))},t}(),Jo=function(){function t(t){var e=this;this.ul={},this.Ma=new Fr(0),this.Oa=!1,this.Oa=!0,this.No=t(this),this.Ka=new Zo(this),this.Dr=new Ri,this.vr=function(t,n){return new $o(t,(function(t){return e.No.hl(t)}))}(this.Dr)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),t.prototype.Za=function(){},t.prototype.tc=function(){},t.prototype.Ic=function(){return this.Dr},t.prototype.mc=function(t){var e=this.ul[t.ti()];return e||(e=new Wo(this.Dr,this.No),this.ul[t.ti()]=e),e},t.prototype.Tc=function(){return this.Ka},t.prototype.Ec=function(){return this.vr},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Yo(this.Ma.next());return this.No.ll(),n(i).next((function(t){return r.No._l(i).next((function(){return t}))})).Fn().then((function(t){return i.br(),t}))},t.prototype.fl=function(t,e){return pr.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(t,e)}})))},t}(),Yo=function(t){function e(e){var n=this;return(n=t.call(this)||this).xa=e,n}return r.__extends(e,t),e}(Xr),Xo=function(){function t(t){this.persistence=t,this.dl=new Is,this.wl=null}return t.ml=function(e){return new t(e)},Object.defineProperty(t.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw v()},enumerable:!1,configurable:!0}),t.prototype.Da=function(t,e,n){return this.dl.Da(n,e),this.Tl.delete(n.toString()),pr.resolve()},t.prototype.Na=function(t,e,n){return this.dl.Na(n,e),this.Tl.add(n.toString()),pr.resolve()},t.prototype.Go=function(t,e){return this.Tl.add(e.toString()),pr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.dl.Uc(e.targetId).forEach((function(t){return n.Tl.add(t.toString())}));var r=this.persistence.Tc();return r.Fa(t,e.targetId).next((function(t){t.forEach((function(t){return n.Tl.add(t.toString())}))})).next((function(){return r.Va(t,e)}))},t.prototype.ll=function(){this.wl=new Set},t.prototype._l=function(t){var e=this,n=this.persistence.Ec().ra();return pr.forEach(this.Tl,(function(r){var i=A.D(r);return e.El(t,i).next((function(t){t||n.Ar(i)}))})).next((function(){return e.wl=null,n.apply(t)}))},t.prototype.yc=function(t,e){var n=this;return this.El(t,e).next((function(t){t?n.Tl.delete(e.toString()):n.Tl.add(e.toString())}))},t.prototype.hl=function(t){return 0},t.prototype.El=function(t,e){var n=this;return pr.kn([function(){return pr.resolve(n.dl.Ho(e))},function(){return n.persistence.Tc().Ho(t,e)},function(){return n.persistence.fl(t,e)}])},t}(),ta=function(){function t(t){this.Il=t.Il,this.Al=t.Al}return t.prototype.gu=function(t){this.Rl=t},t.prototype.Tu=function(t){this.gl=t},t.prototype.onMessage=function(t){this.Pl=t},t.prototype.close=function(){this.Al()},t.prototype.send=function(t){this.Il(t)},t.prototype.yl=function(){this.Rl()},t.prototype.Vl=function(t){this.gl(t)},t.prototype.pl=function(t){this.Pl(t)},t}(),ea={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},na=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.W=e.W,n}return r.__extends(e,t),e.prototype.Nl=function(t,e,n,r){return new Promise((function(i,s){var o=new a.XhrIo;o.listenOnce(a.EventType.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=o.getResponseJson();p("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.ErrorCode.TIMEOUT:p("Connection",'RPC "'+t+'" timed out'),s(new h(l.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=o.getStatus();if(p("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var c=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(l).indexOf(e)>=0?e:l.UNKNOWN}(r.status);s(new h(c,r.message))}else s(new h(l.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new h(l.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{p("Connection",'RPC "'+t+'" completed.')}}));var c=JSON.stringify(r);o.send(e,"POST",c,n,15)}))},e.prototype.Pu=function(t,e){var n=[this.vl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=a.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(i.initMessageHeaders,e),o.isMobileCordova()||o.isReactNative()||o.isElectron()||o.isIE()||o.isUWP()||o.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");p("Connection","Creating WebChannel: "+s,i);var c=r.createWebChannel(s,i),u=!1,f=!1,d=new ta({Il:function(t){f?p("Connection","Not sending because WebChannel is closed:",t):(u||(p("Connection","Opening WebChannel transport."),c.open(),u=!0),p("Connection","WebChannel sending:",t),c.send(t))},Al:function(){return c.close()}}),g=function(t,e){c.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return g(a.WebChannel.EventType.OPEN,(function(){f||p("Connection","WebChannel transport opened.")})),g(a.WebChannel.EventType.CLOSE,(function(){f||(f=!0,p("Connection","WebChannel transport closed"),d.Vl())})),g(a.WebChannel.EventType.ERROR,(function(t){f||(f=!0,b("Connection","WebChannel transport errored:",t),d.Vl(new h(l.UNAVAILABLE,"The operation could not be completed")))})),g(a.WebChannel.EventType.MESSAGE,(function(t){var e;if(!f){var n=t.data[0];y(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){p("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=mt[t];if(void 0!==e)return St(e)}(i),o=r.message;void 0===s&&(s=l.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),f=!0,d.Vl(new h(s,o)),c.close()}else p("Connection","WebChannel received:",n),d.pl(n)}})),setTimeout((function(){d.yl()}),0),d},e}(function(){function t(t){this.bl=t,this.U=t.U,this.vl=(t.ssl?"https":"http")+"://"+t.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return t.prototype.$u=function(t,e,n,r){var i=this.Dl(t,e);p("RestConnection","Sending: ",i,n);var s={};return this.Cl(s,r),this.Nl(t,i,s,n).then((function(t){return p("RestConnection","Received: ",t),t}),(function(e){throw b("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.ku=function(t,e,n,r){return this.$u(t,e,n,r)},t.prototype.Cl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",t["Content-Type"]="text/plain",e)for(var n in e.Kc)e.Kc.hasOwnProperty(n)&&(t[n]=e.Kc[n])},t.prototype.Dl=function(t,e){return this.vl+"/v1/"+e+":"+ea[t]},t}()),ra=function(){function t(){var t=this;this.Fl=function(){return t.xl()},this.$l=function(){return t.kl()},this.Ml=[],this.Ol()}return t.prototype.Zu=function(t){this.Ml.push(t)},t.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},t.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},t.prototype.xl=function(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(0)},t.prototype.kl=function(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ml;t<e.length;t++)(0,e[t])(1)},t.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ia=function(){function t(){}return t.prototype.Zu=function(t){},t.prototype.Di=function(){},t}();function sa(t){return new be(t,!0)}var oa="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",aa=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Sh=this.Ll(t),this.persistence=this.Bl(t),[4,this.persistence.start()];case 1:return e.sent(),this.ql=this.Ul(t),this.ju=this.Ql(t),[2]}}))}))},t.prototype.Ul=function(t){return null},t.prototype.Ql=function(t){return e=this.persistence,n=new Qo,new ps(e,n,t.Wl);var e,n},t.prototype.Bl=function(t){if(t.persistenceSettings.jl)throw new h(l.FAILED_PRECONDITION,oa);return new Jo(Xo.ml)},t.prototype.Ll=function(t){return new $r},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return t.sent(),[4,this.persistence.Di()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new h(l.FAILED_PRECONDITION,oa)},t}(),ca=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),n=this.Kl.fi,this.Sh instanceof Wr?(this.Sh.fi={er:Vo.bind(null,n),nr:Uo.bind(null,n),sr:Ho.bind(null,n),pi:zo.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Xa((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,Fo(this.Kl.fi,t)];case 1:return e.sent(),this.ql&&(t&&!this.ql.Ei?this.ql.start(this.ju):t||this.ql.stop()),[2]}}))}))}))];case 4:return s.sent(),[2]}}))}))},e.prototype.Ll=function(t){if(t.persistenceSettings.jl&&t.persistenceSettings.synchronizeTabs){var e=Cr();if(!Wr.Ln(e))throw new h(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=ds(t.bl.U,t.bl.persistenceKey);return new Wr(e,t.cs,n,t.clientId,t.Wl)}return new $r},e}(function(t){function e(e){var n=this;return(n=t.call(this)||this).Kl=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Cs(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,e)];case 3:return n.sent(),[4,qo(this.Kl.fi)];case 4:return n.sent(),[4,eo(this.Kl.ph)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ul=function(t){return new oi(this.persistence.No.wo,t.cs)},e.prototype.Bl=function(t){var e=ds(t.bl.U,t.bl.persistenceKey),n=sa(t.bl.U);return new cs(t.persistenceSettings.synchronizeTabs,e,t.clientId,si.ao(t.persistenceSettings.cacheSizeBytes),t.cs,Cr(),Or(),n,this.Sh,t.persistenceSettings.ka)},e.prototype.Ll=function(t){return new $r},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return gr.Ln()?[4,gr.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(ds(t,e))},e}(aa)),ua=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=t.ju,this.Sh=t.Sh,this.Ku=this.Gl(e),this.ph=this.zl(e),this.bh=this.Hl(e),this.fi=this.Yl(e),this.Sh.di=function(t){return So(n.fi,t,1)},this.ph.Gu.Jl=Ro.bind(null,this.fi),[4,co(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.Hl=function(t){return new kr},t.prototype.Gl=function(t){var e=sa(t.bl.U),n=new na(t.bl);return function(t,e,n){return new Ps(t,e,n)}(t.credentials,n,e)},t.prototype.zl=function(t){var e,n,r,i,s,o=this;return e=this.ju,n=this.Ku,r=t.cs,i=function(t){return So(o.fi,t,0)},s=ra.Ln()?new ra:new ia,new Fs(e,n,r,i,s)},t.prototype.Yl=function(t){return function(t,e,n,r,i,s,o){var a=new mo(t,e,n,r,i,s);return o&&(a.qh=!0),a}(this.ju,this.ph,this.bh,this.Sh,t.Wl,t.Dh,!t.persistenceSettings.jl||!t.persistenceSettings.synchronizeTabs)},t.prototype.terminate=function(){return zs(this.ph)},t}(),la=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Xl(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Xl(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Zl=function(){this.muted=!0},t.prototype.Xl=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ha=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new h(l.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+W(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(D("FieldPath","string",e,t[e]),0===t[e].length)throw new h(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new T(t)},fa=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(T.v().R())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw G("isEqual","FieldPath",1,t);return this.t_.isEqual(t.t_)},e}(ha),da=new RegExp("[~\\*/\\[\\]]"),pa=function(t){this.e_=t},ga=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){if(2!==t.s_)throw t.i_(1===t.s_?this.e_+"() can only appear at the top level of your update data":this.e_+"() cannot be used with set() unless you pass {merge:true}");return t.We.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(pa);function ba(t,e,n){return new Aa({s_:3,r_:e.settings.r_,methodName:t.e_,o_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}var ma=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.n_=function(t){return new an(t.path,new Je)},e.prototype.isEqual=function(t){return t instanceof e},e}(pa),va=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ba(this,t,!0),n=this.a_.map((function(t){return Ra(t,e)})),r=new Ye(n);return new an(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pa),ya=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).a_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=ba(this,t,!0),n=this.a_.map((function(t){return Ra(t,e)})),r=new tn(n);return new an(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(pa),_a=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).c_=n,r}return r.__extends(e,t),e.prototype.n_=function(t){var e=new nn(t.serializer,ye(t.serializer,this.c_));return new an(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(pa),wa=function(){function t(t,e){if(k("GeoPoint",arguments,2),D("GeoPoint","number",1,t),D("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new h(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new h(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.u_=t,this.h_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.u_===t.u_&&this.h_===t.h_},t.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},t.prototype.Y=function(t){return Z(this.u_,t.u_)||Z(this.h_,t.h_)},t}(),Sa=function(t){this.l_=t},Ea=/^__.*__$/,Ca=function(t,e,n){this.__=t,this.f_=e,this.d_=n},Oa=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[];return n.push(null!==this.We?new vn(t,this.data,this.We,e):new mn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new _n(t,this.fieldTransforms)),n},t}(),Ia=function(){function t(t,e,n){this.data=t,this.We=e,this.fieldTransforms=n}return t.prototype.w_=function(t,e){var n=[new vn(t,this.data,this.We,e)];return this.fieldTransforms.length>0&&n.push(new _n(t,this.fieldTransforms)),n},t}();function Ta(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}var Aa=function(){function t(t,e,n,r,i,s){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),t.prototype.T_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},t.prototype.E_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.I_(t),r},t.prototype.A_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.T_({path:n,o_:!1});return r.m_(),r},t.prototype.R_=function(t){return this.T_({path:void 0,o_:!0})},t.prototype.i_=function(t){return Ba(t,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},t.prototype.contains=function(t){return void 0!==this.We.find((function(e){return t.T(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.T(e.field)}))},t.prototype.m_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.I_(this.path.get(t))},t.prototype.I_=function(t){if(0===t.length)throw this.i_("Document fields must not be empty");if(Ta(this.s_)&&Ea.test(t))throw this.i_('Document fields cannot begin and end with "__"')},t}(),xa=function(){function t(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||sa(t)}return t.prototype.P_=function(t,e,n,r){return void 0===r&&(r=!1),new Aa({s_:t,methodName:e,r_:n,path:T.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},t}();function ka(t,e,n,r,i,s){void 0===s&&(s={});var o=t.P_(s.merge||s.mergeFields?2:0,e,n,i);Va("Data must be an object, but it was:",o,r);var a,c,u=Na(r,o);if(s.merge)a=new on(o.We),c=o.fieldTransforms;else if(s.mergeFields){for(var f=[],d=0,p=s.mergeFields;d<p.length;d++){var g=p[d],b=void 0;if(g instanceof ha)b=g.t_;else{if("string"!=typeof g)throw v();b=Ma(e,g,n)}if(!o.contains(b))throw new h(l.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");za(f,b)||f.push(b)}a=new on(f),c=o.fieldTransforms.filter((function(t){return a.Ye(t.field)}))}else a=null,c=o.fieldTransforms;return new Oa(new On(u),a,c)}function La(t,e,n,r){var i=t.P_(1,e,n);Va("Data must be an object, but it was:",i,r);var s=[],o=new In;S(r,(function(t,r){var a=Ma(e,t,n),c=i.A_(a);if(r instanceof ga||r instanceof Sa&&r.l_ instanceof ga)s.push(a);else{var u=Ra(r,c);null!=u&&(s.push(a),o.set(a,u))}}));var a=new on(s);return new Ia(o.Xe(),a,i.fieldTransforms)}function ja(t,e,n,r,i,s){var o=t.P_(1,e,n),a=[Fa(e,r,n)],c=[i];if(s.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(Fa(e,s[u])),c.push(s[u+1]);for(var f=[],d=new In,p=a.length-1;p>=0;--p)if(!za(f,a[p])){var g=a[p],b=c[p],m=o.A_(g);if(b instanceof ga||b instanceof Sa&&b.l_ instanceof ga)f.push(g);else{var v=Ra(b,m);null!=v&&(f.push(g),d.set(g,v))}}var y=new on(f);return new Ia(d.Xe(),y,o.fieldTransforms)}function Da(t,e,n,r){return void 0===r&&(r=!1),Ra(n,t.P_(r?4:3,e))}function Ra(t,e){if(t instanceof Sa&&(t=t.l_),Pa(t))return Va("Unsupported field value:",e,t),Na(t,e);if(t instanceof pa)return function(t,e){if(!Ta(e.s_))throw e.i_(t.e_+"() can only be used with update() and set()");if(!e.path)throw e.i_(t.e_+"() is not currently supported inside arrays");var n=t.n_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.We.push(e.path),t instanceof Array){if(e.settings.o_&&4!==e.s_)throw e.i_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Ra(s[i],e.R_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ye(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=at.fromDate(t);return{timestampValue:_e(e.serializer,n)}}if(t instanceof at){var r=new at(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_e(e.serializer,r)}}if(t instanceof wa)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof tt)return{bytesValue:we(e.serializer,t.q)};if(t instanceof Ca){var i=e.U,s=t.__;if(!s.isEqual(i))throw e.i_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ce(t.__||e.U,t.f_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.i_("Unsupported field value: "+z(t))}(t,e)}function Na(t,e){var n={};return E(t)?e.path&&e.path.length>0&&e.We.push(e.path):S(t,(function(t,r){var i=Ra(r,e.E_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Pa(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof at||t instanceof wa||t instanceof tt||t instanceof Ca||t instanceof pa)}function Va(t,e,n){if(!Pa(n)||!B(n)){var r=z(n);throw e.i_("an object"===r?t+" a custom object":t+" "+r)}}function Fa(t,e,n){if(e instanceof ha)return e.t_;if("string"==typeof e)return Ma(t,e);throw Ba("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Ma(t,e,n){try{return function(t){if(t.search(da)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(fa.bind.apply(fa,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new h(l.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).t_}catch(e){throw Ba((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Ba(t,e,n,r,i){var s=r&&!r.m(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new h(l.INVALID_ARGUMENT,(a+=". ")+t+c)}function za(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ua=function(){function t(t){this.Ku=t,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return t.prototype.v_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.S_(),this.mutations.length>0)throw new h(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,c;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=ke(n.serializer)+"/documents",s={documents:e.map((function(t){return Ie(n.serializer,t)}))},[4,n.ku("BatchGetDocuments",i,s)];case 1:return o=r.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){y(!!e.found);var n=Te(t,e.found.name),r=Ee(e.found.updateTime),i=new On({mapValue:{fields:e.found.fields}});return new xn(n,r,i,{})}(t,e):"missing"in e?function(t,e){y(!!e.missing),y(!!e.readTime);var n=Te(t,e.missing),r=Ee(e.readTime);return new kn(n,r)}(t,e):v()}(n.serializer,t);a.set(e.key.toString(),e)})),c=[],[2,(e.forEach((function(t){var e=a.get(t.toString());y(!!e),c.push(e)})),c)]}}))}))}(this.Ku,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof kn||t instanceof xn?n.D_(t):v()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.w_(t,this.Ge(t))),this.b_.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.w_(t,this.C_(t)))}catch(t){this.p_=t}this.b_.add(t.toString())},t.prototype.delete=function(t){this.write([new En(t,this.Ge(t))]),this.b_.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return t=this.y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=A.D(n);e.mutations.push(new Cn(r,e.Ge(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=_(t),i=ke(n.serializer)+"/documents",s={writes:e.map((function(t){return De(n.serializer,t)}))},[4,n.$u("Commit",i,s)];case 1:return r.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},t.prototype.D_=function(t){var e;if(t instanceof xn)e=t.version;else{if(!(t instanceof kn))throw v();e=ct.min()}var n=this.y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new h(l.ABORTED,"Document version changed between two reads.")}else this.y_.set(t.key.toString(),e)},t.prototype.Ge=function(t){var e=this.y_.get(t.toString());return!this.b_.has(t.toString())&&e?un.updateTime(e):un.ze()},t.prototype.C_=function(t){var e=this.y_.get(t.toString());if(!this.b_.has(t.toString())&&e){if(e.isEqual(ct.min()))throw new h(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return un.updateTime(e)}return un.exists(!0)},t.prototype.write=function(t){this.S_(),this.mutations=this.mutations.concat(t)},t.prototype.S_=function(){},t}(),Ha=function(){function t(t,e,n,r){this.cs=t,this.Ku=e,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new dr(this.cs,"transaction_retry")}return t.prototype.run=function(){this.F_()},t.prototype.F_=function(){var t=this;this.ys.gn((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new Ua(this.Ku),(e=this.x_(t))&&e.then((function(e){n.cs.ws((function(){return t.commit().then((function(){n.ls.resolve(e)})).catch((function(t){n.k_(t)}))}))})).catch((function(t){n.k_(t)})),[2]}))}))}))},t.prototype.x_=function(t){try{var e=this.updateFunction(t);return!ut(e)&&e.catch&&e.then?e:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ls.reject(t),null}},t.prototype.k_=function(t){var e=this;this.N_>0&&this.M_(t)?(this.N_-=1,this.cs.ws((function(){return e.F_(),Promise.resolve()}))):this.ls.reject(t)},t.prototype.M_=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!wt(e)}return!1},t}(),Ga=function(){function t(t,e){this.credentials=t,this.cs=e,this.clientId=K.k(),this.O_=new fr}return t.prototype.start=function(t,e,n,i){var s=this;this.L_(),this.bl=t;var o=new fr,a=!1;return this.credentials.Hc((function(t){if(!a)return a=!0,p("FirestoreClient","Initializing. user=",t.uid),s.B_(e,n,i,t,o).then(s.O_.resolve,s.O_.reject);s.cs.Cs((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return(n=_(t)).cs.xs(),p("RemoteStore","RemoteStore received new credentials"),i=$s(n),n.Yu.add(3),[4,Bs(n)];case 1:return r.sent(),i&&n.th.set("Unknown"),[4,n.Gu.Jl(e)];case 2:return r.sent(),n.Yu.delete(3),[4,Ms(n)];case 3:return r.sent(),[2]}}))}))}(s.ph,t)}))})),this.cs.ws((function(){return s.O_.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!0),function(t){var e=_(t);return e.Yu.delete(0),Ms(e)}(t.ph)}))},t.prototype.B_=function(t,e,n,i,s){return r.__awaiter(this,void 0,void 0,(function(){var o,a,c=this;return r.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,t.initialize(o={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:i,Dh:100,persistenceSettings:n})];case 1:return u.sent(),[4,e.initialize(t,o)];case 2:return u.sent(),this.persistence=t.persistence,this.Sh=t.Sh,this.ju=t.ju,this.ql=t.ql,this.Ku=e.Ku,this.ph=e.ph,this.fi=e.fi,this.q_=e.bh,this.q_.Us=vo.bind(null,this.fi),this.q_.js=_o.bind(null,this.fi),this.persistence.Za((function(){return r.__awaiter(c,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),s.resolve(),[3,4];case 3:if(a=u.sent(),s.reject(a),!this.U_(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.B_(new aa,new ua,{jl:!1},i,s))];case 4:return[2]}}))}))},t.prototype.U_=function(t){return"FirebaseError"===t.name?t.code===l.FAILED_PRECONDITION||t.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.L_=function(){if(this.cs.ps)throw new h(l.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.L_(),this.cs.enqueue((function(){return t.persistence.tc(!1),function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return(e=_(t)).Yu.add(0),[4,Bs(e)];case 1:return n.sent(),e.th.set("Offline"),[2]}}))}))}(t.ph)}))},t.prototype.terminate=function(){var t=this;this.cs.Ds();var e=new fr;return this.cs.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,zs(this.ph)];case 1:return r.sent(),[4,this.Sh.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yc(),e.resolve(),[3,5];case 4:return t=r.sent(),n=Ar(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.L_();var e=new fr;return this.cs.ws((function(){return function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:$s((n=_(t)).ph)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=_(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Sr.qo(t)}))}(n.ju)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((s=n.Lh.get(i)||[]).push(e),n.Lh.set(i,s),[3,4]);case 3:return o=r.sent(),a=Ar(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}(t.fi,e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.L_();var i=new la(n),s=new Pr(t,i,e);return this.cs.ws((function(){return Lr(r.q_,s)})),function(){i.Zl(),r.cs.ws((function(){return jr(r.q_,s)}))}},t.prototype.Q_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new fr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=_(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Cc.Cr(t,e)}))}(t,e)];case 1:return(i=r.sent())instanceof xn?n.resolve(i):i instanceof kn?n.resolve(null):n.reject(new h(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return s=r.sent(),o=Ar(s,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.W_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var s=new la({next:function(s){e.ws((function(){return jr(t,o)}));var a=s.docs.has(n);!a&&s.fromCache?i.reject(new h(l.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Pr(Rn(n.path),s,{includeMetadataChanges:!0,Xs:!0});return Lr(t,o)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.j_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),e=new fr,[2,(this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a,c,u;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ws(t,e,!0)];case 1:return i=r.sent(),s=new po(e,i.Fc),o=s.wh(i.documents),a=s.yr(o,!1),n.resolve(a.snapshot),[3,3];case 2:return c=r.sent(),u=Ar(c,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))}(n.ju,t,e)})),e.promise)]}}))}))},t.prototype.K_=function(t,e){return void 0===e&&(e={}),r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),n=new fr,[2,(this.cs.ws((function(){return function(t,e,n,r,i){var s=new la({next:function(n){e.ws((function(){return jr(t,o)})),n.fromCache&&"server"===r.source?i.reject(new h(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Pr(n,s,{includeMetadataChanges:!0,Xs:!0});return Lr(t,o)}(i.q_,i.cs,t,e,n)})),n.promise)]}}))}))},t.prototype.write=function(t){var e=this;this.L_();var n=new fr;return this.cs.ws((function(){return function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:i=qo(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=_(t),i=at.now(),s=e.reduce((function(t,e){return t.add(e.key)}),Nt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Cc.kr(t,s).next((function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=pn(u,n.get(u.key));null!=l&&o.push(new vn(u.key,l,Tn(l.proto.mapValue),un.exists(!0)))}return r.Sr.ko(t,i,o,e)}))})).then((function(t){var e=t.lr(n);return{batchId:t.batchId,wr:e}}))}(i.ju,e)];case 2:return s=r.sent(),i.Sh.xi(s.batchId),function(t,e,n){var r=t.Oh[t.currentUser.ti()];r||(r=new Et(Z)),r=r.ot(e,n),t.Oh[t.currentUser.ti()]=r}(i,s.batchId,n),[4,Do(i,s.wr)];case 3:return r.sent(),[4,eo(i.ph)];case 4:return r.sent(),[3,6];case 5:return o=r.sent(),a=Ar(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}(e.fi,t,n)})),n.promise},t.prototype.U=function(){return this.bl.U},t.prototype.G_=function(t){var e=this;this.L_();var n=new la(t);return this.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){_(t).qs.add(e),e.next()}(this.q_,n)]}))}))})),function(){n.Zl(),e.cs.ws((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,function(t,e){_(t).qs.delete(e)}(this.q_,n)]}))}))}))}},Object.defineProperty(t.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.L_();var n=new fr;return this.cs.ws((function(){return new Ha(e.cs,e.Ku,t,n).run(),Promise.resolve()})),n.promise},t}();function qa(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Qa=function(){function t(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.H_=n,this.Y_=r,this.J_=i}return t.prototype.X_=function(t){switch(Xt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return oe(t.integerValue||t.doubleValue);case 3:return this.Z_(t.timestampValue);case 4:return this.tf(t);case 5:return t.stringValue;case 6:return this.J_(ae(t.bytesValue));case 7:return this.ef(t.referenceValue);case 8:return this.nf(t.geoPointValue);case 9:return this.sf(t.arrayValue);case 10:return this.if(t.mapValue);default:throw v()}},t.prototype.if=function(t){var e=this,n={};return S(t.fields||{},(function(t,r){n[t]=e.X_(r)})),n},t.prototype.nf=function(t){return new wa(oe(t.latitude),oe(t.longitude))},t.prototype.sf=function(t){var e=this;return(t.values||[]).map((function(t){return e.X_(t)}))},t.prototype.tf=function(t){switch(this.H_){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Zt(n)?t(n):n}(t);return null==e?null:this.X_(e);case"estimate":return this.Z_(Jt(t));default:return null}},t.prototype.Z_=function(t){var e=se(t),n=new at(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.ef=function(t){var e=O.g(t);y(Qe(e));var n=new st(e.get(1),e.get(3)),r=new A(e.u(5));return n.isEqual(this.U)||g("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},t}(),Wa=si.ho,$a=function(){function t(t){var e,n,r,i,s;if(void 0===t.host){if(void 0!==t.ssl)throw new h(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else N("settings","non-empty string","host",t.host),this.host=t.host,P("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(H("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),P("settings","object","credentials",t.credentials),this.credentials=t.credentials,P("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),P("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?g("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&g("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,P("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=si._o;else{if(t.cacheSizeBytes!==Wa&&t.cacheSizeBytes<si.lo)throw new h(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+si.lo);this.cacheSizeBytes=t.cacheSizeBytes}P("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i,P("settings","boolean","experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(s=t.experimentalAutoDetectLongPolling)&&void 0!==s&&s,function(t,e,n,r){if(!0===e&&!0===r)throw new h(l.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ka=function(){function t(e,n,i,s){var o=this;if(void 0===i&&(i=new aa),void 0===s&&(s=new ua),this.rf=i,this.af=s,this.cf=null,this.uf=new Tr,this.INTERNAL={delete:function(){return r.__awaiter(o,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.cf=a,this.__=t._f(a),this.ff=a.name,this.df=new ks(n)}else{var c=e;if(!c.projectId)throw new h(l.INVALID_ARGUMENT,"Must provide projectId");this.__=new st(c.projectId,c.database),this.ff="[DEFAULT]",this.df=new xs}this.wf=new $a({})}return Object.defineProperty(t.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new xa(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){k("Firestore.settings",arguments,1),D("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.wf),t)).merge;var e=new $a(t);if(this.lf&&!this.wf.isEqual(e))throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=e,void 0!==e.credentials&&(this.df=function(t){if(!t)return new xs;switch(t.type){case"gapi":var e=t.client;return y(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new js(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new h(l.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},t.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.lf)throw new h(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new h(l.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.lf&&!this.lf.z_)throw new h(l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new fr,[2,(this.uf.bs((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.hf(),qa(t)?this.lf.G_(t):(D("Firestore.onSnapshotsInSync","function",1,t),this.lf.G_({next:t}))},t.prototype.hf=function(){return this.lf||this.Ef(new aa,new ua,{jl:!1}),this.lf},t.prototype.Af=function(){return new it(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},t.prototype.Ef=function(t,e,n){var r=this.Af();return this.lf=new Ga(this.df,this.uf),this.lf.start(r,t,e,n)},t._f=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new h(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new h(l.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new st(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.cf)throw new h(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return k("Firestore.collection",arguments,1),D("Firestore.collection","non-empty string",1,t),this.hf(),new lc(O.g(t),this,null)},t.prototype.doc=function(t){return k("Firestore.doc",arguments,1),D("Firestore.doc","non-empty string",1,t),this.hf(),Ya.Rf(O.g(t),this,null)},t.prototype.collectionGroup=function(t){if(k("Firestore.collectionGroup",arguments,1),D("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new h(l.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new cc(function(t){return new jn(O.P(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return k("Firestore.runTransaction",arguments,1),D("Firestore.runTransaction","function",1,t),this.hf().transaction((function(n){return t(new Za(e,n))}))},t.prototype.batch=function(){return this.hf(),new Ja(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.ERROR:return"error";case s.LogLevel.SILENT:return"silent";case s.LogLevel.WARN:return"warn";case s.LogLevel.INFO:return"info";case s.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){k("Firestore.setLogLevel",arguments,1),F("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),f.setLogLevel(t)},t.prototype.gf=function(){return this.wf.timestampsInSnapshots},t.prototype.Pf=function(){return this.wf},t}(),Za=function(){function t(t,e){this.yf=t,this.Vf=e}return t.prototype.get=function(t){var e=this;k("Transaction.get",arguments,1);var n=pc("Transaction.get",t,this.yf);return this.Vf.v_([n.f_]).then((function(t){if(!t||1!==t.length)return v();var r=t[0];if(r instanceof kn)return new tc(e.yf,n.f_,null,!1,!1,n.d_);if(r instanceof xn)return new tc(e.yf,n.f_,r,!1,!1,n.d_);throw v()}))},t.prototype.set=function(t,e,n){j("Transaction.set",arguments,2,3);var r=pc("Transaction.set",t,this.yf);n=hc("Transaction.set",n);var i=bc(r.d_,e,n),s=ka(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,s),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof fa?(L("Transaction.update",arguments,3),r=pc("Transaction.update",t,this.yf),i=ja(this.yf.mf,"Transaction.update",r.f_,e,n,s)):(k("Transaction.update",arguments,2),r=pc("Transaction.update",t,this.yf),i=La(this.yf.mf,"Transaction.update",r.f_,e)),this.Vf.update(r.f_,i),this},t.prototype.delete=function(t){k("Transaction.delete",arguments,1);var e=pc("Transaction.delete",t,this.yf);return this.Vf.delete(e.f_),this},t}(),Ja=function(){function t(t){this.yf=t,this.pf=[],this.bf=!1}return t.prototype.set=function(t,e,n){j("WriteBatch.set",arguments,2,3),this.vf();var r=pc("WriteBatch.set",t,this.yf);n=hc("WriteBatch.set",n);var i=bc(r.d_,e,n),s=ka(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(s.w_(r.f_,un.ze())),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.vf(),"string"==typeof e||e instanceof fa?(L("WriteBatch.update",arguments,3),r=pc("WriteBatch.update",t,this.yf),i=ja(this.yf.mf,"WriteBatch.update",r.f_,e,n,s)):(k("WriteBatch.update",arguments,2),r=pc("WriteBatch.update",t,this.yf),i=La(this.yf.mf,"WriteBatch.update",r.f_,e)),this.pf=this.pf.concat(i.w_(r.f_,un.exists(!0))),this},t.prototype.delete=function(t){k("WriteBatch.delete",arguments,1),this.vf();var e=pc("WriteBatch.delete",t,this.yf);return this.pf=this.pf.concat(new En(e.f_,un.ze())),this},t.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},t.prototype.vf=function(){if(this.bf)throw new h(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ya=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.__,e,r)||this).f_=e,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return r.__extends(e,t),e.Rf=function(t,n,r){if(t.length%2!=0)throw new h(l.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new e(new A(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lc(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(k("DocumentReference.collection",arguments,1),D("DocumentReference.collection","non-empty string",1,t),!t)throw new h(l.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=O.g(t);return new lc(this.f_.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw G("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.f_.isEqual(t.f_)&&this.d_===t.d_},e.prototype.set=function(t,e){j("DocumentReference.set",arguments,1,2),e=hc("DocumentReference.set",e);var n=bc(this.d_,t,e),r=ka(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,e);return this.lf.write(r.w_(this.f_,un.ze()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof fa?(L("DocumentReference.update",arguments,2),n=ja(this.firestore.mf,"DocumentReference.update",this.f_,t,e,r)):(k("DocumentReference.update",arguments,1),n=La(this.firestore.mf,"DocumentReference.update",this.f_,t)),this.lf.write(n.w_(this.f_,un.exists(!0)))},e.prototype.delete=function(){return k("DocumentReference.delete",arguments,0),this.lf.write([new En(this.f_,un.ze())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];j("DocumentReference.onSnapshot",arguments,1,4);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||qa(i[a])||(H("DocumentReference.onSnapshot",o=i[a],["includeMetadataChanges"]),P("DocumentReference.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++);var c={includeMetadataChanges:o.includeMetadataChanges};if(qa(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else D("DocumentReference.onSnapshot","function",a,i[a]),R("DocumentReference.onSnapshot","function",a+1,i[a+1]),R("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.Sf(t))},error:i[a+1],complete:i[a+2]};return this.lf.listen(Rn(this.f_.path),c,l)},e.prototype.get=function(t){var e=this;j("DocumentReference.get",arguments,0,1),dc("DocumentReference.get",t);var n=this.firestore.hf();return t&&"cache"===t.source?n.Q_(this.f_).then((function(t){return new tc(e.firestore,e.f_,t,!0,t instanceof xn&&t.Je,e.d_)})):n.W_(this.f_,t).then((function(t){return e.Sf(t)}))},e.prototype.withConverter=function(t){return new e(this.f_,this.firestore,t)},e.prototype.Sf=function(t){var e=t.docs.get(this.f_);return new tc(this.firestore,this.f_,e,t.fromCache,t.hasPendingWrites,this.d_)},e}(Ca),Xa=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),tc=function(){function t(t,e,n,r,i,s){this.yf=t,this.f_=e,this.Df=n,this.Cf=r,this.Nf=i,this.d_=s}return t.prototype.data=function(t){var e=this;if(j("DocumentSnapshot.data",arguments,0,1),t=fc("DocumentSnapshot.data",t),this.Df){if(this.d_){var n=new ec(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,t)}return new Qa(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(t){return new Ya(t,e.yf,null)}),(function(t){return new rt(t)})).X_(this.Df.rn())}},t.prototype.get=function(t,e){var n=this;if(j("DocumentSnapshot.get",arguments,1,2),e=fc("DocumentSnapshot.get",e),this.Df){var r=this.Df.data().field(Fa("DocumentSnapshot.get",t,this.f_));if(null!==r)return new Qa(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(t){return new Ya(t,n.yf,n.d_)}),(function(t){return new rt(t)})).X_(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ya(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Xa(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw G("isEqual","DocumentSnapshot",1,e);return this.yf===e.yf&&this.Cf===e.Cf&&this.f_.isEqual(e.f_)&&(null===this.Df?null===e.Df:this.Df.isEqual(e.Df))&&this.d_===e.d_},t}(),ec=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(tc);function nc(t,e,n,r,i,s,o){var a;if(i.p()){if("array-contains"===s||"array-contains-any"===s)throw new h(l.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){sc(o,s);for(var c=[],u=0,f=o;u<f.length;u++)c.push(ic(r,t,f[u]));a={arrayValue:{values:c}}}else a=ic(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||sc(o,s),a=Da(n,e,o,"in"===s||"not-in"===s);var d=Zn.create(i,s,a);return function(t,e){if(e.hn()){var n=Fn(t);if(null!==n&&!n.isEqual(e.field))throw new h(l.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Vn(t);null!==r&&oc(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new h(l.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}function rc(t,e,n){if(null!==t.startAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new h(l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ur(e,n);return function(t,e){if(null===Vn(t)){var n=Fn(t);null!==n&&oc(0,n,e.field)}}(t,r),r}function ic(t,e,n){if("string"==typeof n){if(""===n)throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mn(e)&&-1!==n.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(O.g(n));if(!A.F(r))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ce(t,new A(r))}if(n instanceof Ca)return ce(t,n.f_);throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+z(n)+".")}function sc(t,e){if(!Array.isArray(t)||0===t.length)throw new h(l.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new h(l.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function oc(t,e,n){if(!n.isEqual(e))throw new h(l.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ac(t){if(Pn(t)&&0===t.on.length)throw new h(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cc=function(){function t(t,e,n){this.Ff=t,this.firestore=e,this.d_=n}return t.prototype.where=function(e,n,r){k("Query.where",arguments,3),U("Query.where",3,r);var i=F("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),s=Fa("Query.where",e),o=nc(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,s,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new jn(t.path,t.collectionGroup,t.on.slice(),n,t.limit,t.an,t.startAt,t.endAt)}(this.Ff,o),this.firestore,this.d_)},t.prototype.orderBy=function(e,n){var r;if(j("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new h(l.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Fa("Query.orderBy",e),s=rc(this.Ff,i,r);return new t(function(t,e){var n=t.on.concat([e]);return new jn(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.an,t.startAt,t.endAt)}(this.Ff,s),this.firestore,this.d_)},t.prototype.limit=function(e){return k("Query.limit",arguments,1),D("Query.limit","number",1,e),q("Query.limit",1,e),new t(Un(this.Ff,e,"F"),this.firestore,this.d_)},t.prototype.limitToLast=function(e){return k("Query.limitToLast",arguments,1),D("Query.limitToLast","number",1,e),q("Query.limitToLast",1,e),new t(Un(this.Ff,e,"L"),this.firestore,this.d_)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];L("Query.startAt",arguments,1);var i=this.xf("Query.startAt",e,n,!0);return new t(Hn(this.Ff,i),this.firestore,this.d_)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];L("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",e,n,!1);return new t(Hn(this.Ff,i),this.firestore,this.d_)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];L("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",e,n,!0);return new t(Gn(this.Ff,i),this.firestore,this.d_)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];L("Query.endAt",arguments,1);var i=this.xf("Query.endAt",e,n,!1);return new t(Gn(this.Ff,i),this.firestore,this.d_)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw G("isEqual","Query",1,e);return this.firestore===e.firestore&&qn(this.Ff,e.Ff)&&this.d_===e.d_},t.prototype.withConverter=function(e){return new t(this.Ff,this.firestore,e)},t.prototype.xf=function(t,e,n,i){if(U(t,1,e),e instanceof tc)return k(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new h(l.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Bn(t);o<a.length;o++){var c=a[o];if(c.field.p())s.push(ce(e,r.key));else{var u=r.field(c.field);if(Zt(u))throw new h(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var f=c.field.R();throw new h(l.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}s.push(u)}}return new sr(s,i)}(this.Ff,this.firestore.__,t,e.Df,i);var s=[e].concat(n);return function(t,e,n,r,i,s){var o=t.on;if(i.length>o.length)throw new h(l.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(o[c].field.p()){if("string"!=typeof u)throw new h(l.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Mn(t)&&-1!==u.indexOf("/"))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var f=t.path.child(O.g(u));if(!A.F(f))throw new h(l.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new A(f);a.push(ce(e,d))}else{var p=Da(n,r,u);a.push(p)}}return new sr(a,s)}(this.Ff,this.firestore.__,this.firestore.mf,t,s,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];j("Query.onSnapshot",arguments,1,4);var o={},a=0;if("object"!=typeof i[a]||qa(i[a])||(H("Query.onSnapshot",o=i[a],["includeMetadataChanges"]),P("Query.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++),qa(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else D("Query.onSnapshot","function",a,i[a]),R("Query.onSnapshot","function",a+1,i[a+1]),R("Query.onSnapshot","function",a+2,i[a+2]);var u={next:function(t){i[a]&&i[a](new uc(r.firestore,r.Ff,t,r.d_))},error:i[a+1],complete:i[a+2]};return ac(this.Ff),this.firestore.hf().listen(this.Ff,o,u)},t.prototype.get=function(t){var e=this;j("Query.get",arguments,0,1),dc("Query.get",t),ac(this.Ff);var n=this.firestore.hf();return(t&&"cache"===t.source?n.j_(this.Ff):n.K_(this.Ff,t)).then((function(t){return new uc(e.firestore,e.Ff,t,e.d_)}))},t}(),uc=function(){function t(t,e,n,r){this.yf=t,this.$f=e,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new Xa(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;j("QuerySnapshot.forEach",arguments,1,2),D("QuerySnapshot.forEach","function",1,t),this.kf.docs.forEach((function(r){t.call(e,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new cc(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(H("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),P("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.kf.Kt)throw new h(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===e||(this.Mf=function(t,e,n){if(t.Qt.m()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Qt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Wt.has(e.doc.key)),s=-1,o=-1;return 0!==e.type&&(s=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:gc(e.type),doc:r,oldIndex:s,newIndex:o}}))}(this.kf,e,this.Lf.bind(this)),this.Of=e),this.Mf},t.prototype.isEqual=function(e){if(!(e instanceof t))throw G("isEqual","QuerySnapshot",1,e);return this.yf===e.yf&&qn(this.$f,e.$f)&&this.kf.isEqual(e.kf)&&this.d_===e.d_},t.prototype.Lf=function(t,e,n){return new ec(this.yf,t.key,t,e,n,this.d_)},t}(),lc=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Rn(e),n,r)||this).Bf=e,e.length%2!=1)throw new h(l.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.R()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ff.path.h();return t.m()?null:new Ya(new A(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){j("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=K.k()),D("CollectionReference.doc","non-empty string",1,t);var e=O.g(t);return Ya.Rf(this.Ff.path.child(e),this.firestore,this.d_)},e.prototype.add=function(t){k("CollectionReference.add",arguments,1);var e=this.d_?this.d_.toFirestore(t):t;D("CollectionReference.add","object",1,e);var n=this.doc();return new Ya(n.f_,this.firestore,null).set(e).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Bf,this.firestore,t)},e}(cc);function hc(t,e){if(void 0===e)return{merge:!1};if(H(t,e,["merge","mergeFields"]),P(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+z(r));for(var s=0;s<r.length;++s)if(!i(r[s]))throw new h(l.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+s+" was: "+z(r[s]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof fa}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new h(l.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fc(t,e){return void 0===e?{}:(H(t,e,["serverTimestamps"]),V(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function dc(t,e){R(t,"object",1,e),e&&(H(t,e,["source"]),V(t,0,"source",e.source,["default","server","cache"]))}function pc(t,e,n){if(e instanceof Ca){if(e.firestore!==n)throw new h(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw G(t,"DocumentReference",1,e)}function gc(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}function bc(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var mc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.serverTimestamp=function(){x("FieldValue.serverTimestamp",arguments);var t=new ma("serverTimestamp");return t.e_="FieldValue.serverTimestamp",new e(t)},e.delete=function(){x("FieldValue.delete",arguments);var t=new ga("deleteField");return t.e_="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];L("FieldValue.arrayUnion",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return L("arrayUnion()",arguments,1),new va("arrayUnion",t)}).apply(void 0,t);return r.e_="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];L("FieldValue.arrayRemove",arguments,1);var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return L("arrayRemove()",arguments,1),new ya("arrayRemove",t)}).apply(void 0,t);return r.e_="FieldValue.arrayRemove",new e(r)},e.increment=function(t){D("FieldValue.increment","number",1,t),k("FieldValue.increment",arguments,1);var n=function(t){return new _a("increment",t)}(t);return n.e_="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.l_.isEqual(t.l_)},e}(Sa),vc={Firestore:Ka,GeoPoint:wa,Timestamp:at,Blob:rt,Transaction:Za,WriteBatch:Ja,DocumentReference:Ya,DocumentSnapshot:tc,Query:cc,QueryDocumentSnapshot:ec,QuerySnapshot:uc,CollectionReference:lc,FieldPath:fa,FieldValue:mc,setLogLevel:Ka.setLogLevel,CACHE_SIZE_UNLIMITED:Wa};function yc(t){!function(t,e){t.INTERNAL.registerComponent(new c.Component("firestore",(function(t){return function(t,e){var n=new ua,r=new ca(n);return new Ka(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},vc)))}(t),t.registerVersion("@firebase/firestore","1.18.0")}yc(u.default),e.__PRIVATE_registerFirestore=yc},"7gMY":function(t,e,n){"use strict";var r=n("8M4i"),i=n("EUcb"),s=function(t){return Object(i.a)(t)&&"[object Arguments]"==Object(r.a)(t)},o=Object.prototype,a=o.hasOwnProperty,c=o.propertyIsEnumerable,u=s(function(){return arguments}())?s:function(t){return Object(i.a)(t)&&a.call(t,"callee")&&!c.call(t,"callee")},l=n("/1FC"),h=n("WOAq"),f=/^(?:0|[1-9]\d*)$/,d=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&f.test(t))&&t>-1&&t%1==0&&t<e},p=n("oYcn"),g=Object.prototype.hasOwnProperty;e.a=function(t,e){var n=Object(l.a)(t),r=!n&&u(t),i=!n&&!r&&Object(h.a)(t),s=!n&&!r&&!i&&Object(p.a)(t),o=n||r||i||s,a=o?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var f in t)!e&&!g.call(t,f)||o&&("length"==f||i&&("offset"==f||"parent"==f)||s&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||d(f,c))||a.push(f);return a}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8M4i":function(t,e,n){"use strict";var r=n("ylTp"),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=r.a?r.a.toStringTag:void 0,c=Object.prototype.toString,u=r.a?r.a.toStringTag:void 0;e.a=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":u&&u in Object(t)?function(t){var e=s.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(c){}var i=o.call(t);return r&&(e?t[a]=n:delete t[a]),i}(t):function(t){return c.call(t)}(t)}},"8MG2":function(t,e,n){"use strict";n.d(e,"a",(function(){return Da})),n.d(e,"b",(function(){return ko})),n.d(e,"c",(function(){return Lo})),n.d(e,"d",(function(){return jo})),n.d(e,"e",(function(){return wr})),n.d(e,"f",(function(){return Sr})),n.d(e,"g",(function(){return _r})),n.d(e,"h",(function(){return Rs})),n.d(e,"i",(function(){return ps})),n.d(e,"j",(function(){return ss})),n.d(e,"k",(function(){return zs})),n.d(e,"l",(function(){return Hs})),n.d(e,"m",(function(){return Bs})),n.d(e,"n",(function(){return Gs})),n.d(e,"o",(function(){return as})),n.d(e,"p",(function(){return $s})),n.d(e,"q",(function(){return Ks})),n.d(e,"r",(function(){return Is})),n.d(e,"s",(function(){return go})),n.d(e,"t",(function(){return mo})),n.d(e,"u",(function(){return Co})),n.d(e,"v",(function(){return Oo})),n.d(e,"w",(function(){return Ho})),n.d(e,"x",(function(){return yn})),n.d(e,"y",(function(){return Ar})),n.d(e,"z",(function(){return Us})),n.d(e,"A",(function(){return xr})),n.d(e,"B",(function(){return Mr})),n.d(e,"C",(function(){return pr})),n.d(e,"D",(function(){return Gn})),n.d(e,"E",(function(){return Yn})),n.d(e,"F",(function(){return Hn})),n.d(e,"G",(function(){return Fo})),n.d(e,"H",(function(){return da})),n.d(e,"I",(function(){return pa})),n.d(e,"J",(function(){return Go})),n.d(e,"K",(function(){return Sa})),n.d(e,"L",(function(){return Qr})),n.d(e,"M",(function(){return qr})),n.d(e,"N",(function(){return ii})),n.d(e,"O",(function(){return oa})),n.d(e,"P",(function(){return ta})),n.d(e,"Q",(function(){return sa})),n.d(e,"R",(function(){return ca})),n.d(e,"S",(function(){return Ta})),n.d(e,"T",(function(){return xa})),n.d(e,"U",(function(){return ka})),n.d(e,"V",(function(){return La})),n.d(e,"W",(function(){return Bo})),n.d(e,"X",(function(){return Uo})),n.d(e,"Y",(function(){return Ji})),n.d(e,"Z",(function(){return Zo})),n.d(e,"ab",(function(){return Ys})),n.d(e,"bb",(function(){return Xs})),n.d(e,"cb",(function(){return ro})),n.d(e,"db",(function(){return eo})),n.d(e,"eb",(function(){return Ki})),n.d(e,"fb",(function(){return ts})),n.d(e,"gb",(function(){return $o}));var r=n("fXoL"),i=n("ofXK"),s=n("XNiG"),o=n("xgIS"),a=n("2Vo4"),c=n("LRne"),u=n("jtHE"),l=n("HDdC"),h=n("itXk"),f=n("pLZG"),d=n("7o/Q"),p=n("D0XW");class g{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new b(t,this.dueTime,this.scheduler))}}class b extends d.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(m,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function m(t){t.debouncedNext()}var v=n("JX91"),y=n("/uUt"),_=(n("SxV6"),n("eIep"),n("IzEk")),w=n("lJxs"),S=(n("vkgz"),n("R0Ic")),E=n("3Pt+");const C=["*"],O=["clrLoading",""];function I(t,e){1&t&&(r.Rb(0,"span"),r.Mb(1,"span",2),r.Qb()),2&t&&(r.zb(1),r.hc("@spinner",void 0))}function T(t,e){if(1&t){const t=r.Sb();r.Rb(0,"span"),r.Rb(1,"span",3),r.Zb("@validated.done",(function(){r.rc(t);const e=r.bc();return e.loadingStateChange(e.buttonState.DEFAULT)})),r.Qb(),r.Qb()}2&t&&(r.zb(1),r.hc("@validated",void 0))}function A(t,e){1&t&&(r.Rb(0,"span"),r.fc(1),r.Qb()),2&t&&r.hc("@defaultButton",void 0)}function x(t,e){1&t&&r.Mb(0,"label")}const k=[[["","clrCheckbox",""],["","clrToggle",""]],[["label"]]],L=["[clrCheckbox],[clrToggle]","label"];function j(t,e){1&t&&r.Mb(0,"label")}function D(t,e){1&t&&r.fc(0,2,["*ngIf","showHelper"])}function R(t,e){1&t&&r.Mb(0,"clr-icon",5)}function N(t,e){1&t&&r.Mb(0,"clr-icon",6)}function P(t,e){1&t&&r.fc(0,3,["*ngIf","showInvalid"])}function V(t,e){1&t&&r.fc(0,4,["*ngIf","showValid"])}const F=[[["label"]],[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],M=["label","clr-checkbox-wrapper,clr-toggle-wrapper","clr-control-helper","clr-control-error","clr-control-success"];function B(t,e){1&t&&r.Mb(0,"label")}function z(t,e){1&t&&r.Mb(0,"clr-icon",5)}function U(t,e){1&t&&r.Mb(0,"clr-icon",6)}function H(t,e){1&t&&r.fc(0,2,["*ngIf","showHelper"])}function G(t,e){1&t&&r.fc(0,3,["*ngIf","showInvalid"])}function q(t,e){1&t&&r.fc(0,4,["*ngIf","showValid"])}const Q=[[["label"]],[["","clrInput",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],W=["label","[clrInput]","clr-control-helper","clr-control-error","clr-control-success"];function $(t,e){1&t&&r.Mb(0,"label")}const K=[[["","clrRadio",""]],[["label"]]],Z=["[clrRadio]","label"];function J(t,e){1&t&&r.Mb(0,"label")}function Y(t,e){1&t&&r.Mb(0,"clr-icon",5)}function X(t,e){1&t&&r.Mb(0,"clr-icon",6)}function tt(t,e){1&t&&r.fc(0,2,["*ngIf","showHelper"])}function et(t,e){1&t&&r.fc(0,3,["*ngIf","showInvalid"])}function nt(t,e){1&t&&r.fc(0,4,["*ngIf","showValid"])}const rt=[[["label"]],[["","clrSelect",""]],[["clr-control-helper"]],[["clr-control-error"]],[["clr-control-success"]]],it=["label","[clrSelect]","clr-control-helper","clr-control-error","clr-control-success"],st=["clrKeyFocus",""],ot=["anchor"];function at(t,e){if(1&t&&(r.Rb(0,"div",4),r.Rb(1,"div",5),r.Rb(2,"button",6),r.Mb(3,"clr-icon",7),r.Qb(),r.Qb(),r.fc(4),r.Qb()),2&t){const t=r.bc();r.hc("id",t.popoverId),r.zb(3),r.Ab("title",t.commonStrings.keys.close)}}const ct=["input"],ut=["input_low"],lt=["columnPortal"];function ht(t,e){1&t&&r.fc(0)}function ft(t,e){1&t&&r.Nb(0)}function dt(t,e){if(1&t&&r.Mb(0,"clr-icon",10),2&t){const t=r.bc(2);r.Ab("shape",t.sortIcon)}}function pt(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",7),r.Zb("click",(function(){return r.rc(t),r.bc().sort()})),r.Bc(1,ft,1,0,"ng-container",8),r.Bc(2,dt,1,1,"clr-icon",9),r.Qb()}if(2&t){const t=r.bc(),e=r.nc(6);r.Ab("aria-label",t.commonStrings.keys.sortColumn),r.zb(1),r.hc("ngTemplateOutlet",e),r.zb(1),r.hc("ngIf",t.sortIcon)}}function gt(t,e){if(1&t){const t=r.Sb();r.Rb(0,"clr-dg-string-filter",11),r.Zb("clrFilterValueChange",(function(e){return r.rc(t),r.bc().filterValue=e})),r.Qb()}if(2&t){const t=r.bc();r.hc("clrDgStringFilter",t.registered)("clrFilterValue",t.filterValue)}}function bt(t,e){if(1&t){const t=r.Sb();r.Rb(0,"clr-dg-numeric-filter",12),r.Zb("clrFilterValueChange",(function(e){return r.rc(t),r.bc().filterValue=e})),r.Qb()}if(2&t){const t=r.bc();r.hc("clrDgNumericFilter",t.registered)("clrFilterValue",t.filterValue)}}function mt(t,e){1&t&&r.fc(0,1)}function vt(t,e){1&t&&r.Nb(0)}function yt(t,e){if(1&t&&(r.Rb(0,"span",13),r.Bc(1,vt,1,0,"ng-container",8),r.Qb()),2&t){r.bc();const t=r.nc(6);r.zb(1),r.hc("ngTemplateOutlet",t)}}function _t(t,e){1&t&&r.Mb(0,"clr-dg-column-separator")}const wt=[[["clr-dg-filter"],["clr-dg-string-filter"],["clr-dg-numeric-filter"]],"*"],St=["clr-dg-filter, clr-dg-string-filter, clr-dg-numeric-filter","*"];function Et(t,e){1&t&&r.Mb(0,"div",4)}function Ct(t,e){1&t&&r.fc(0,0,["*ngIf","emptyDatagrid"])}function Ot(t,e){if(1&t&&(r.Pb(0),r.Rb(1,"button",1),r.Mb(2,"clr-icon",2),r.Qb(),r.Ob()),2&t){const t=r.bc();r.zb(2),r.Ab("title",t.commonStrings.keys.info)}}const It=["cellPortal"];function Tt(t,e){1&t&&r.fc(0)}const At=["rowPortal"];function xt(t,e){1&t&&r.fc(0)}const kt=["detailButton"],Lt=["stickyCells"],jt=["scrollableCells"],Dt=["calculatedCells"];function Rt(t,e){}function Nt(t,e){if(1&t&&(r.Rb(0,"clr-expandable-animation",7),r.Bc(1,Rt,0,0,"ng-template",8),r.Qb()),2&t){const t=r.bc(2),e=r.nc(6);r.hc("clrExpandTrigger",t.expandAnimationTrigger),r.zb(1),r.hc("ngTemplateOutlet",e)}}function Pt(t,e){}function Vt(t,e){if(1&t&&r.Bc(0,Pt,0,0,"ng-template",8),2&t){r.bc(2);const t=r.nc(6);r.hc("ngTemplateOutlet",t)}}function Ft(t,e){if(1&t&&(r.Rb(0,"label",6),r.Bc(1,Nt,2,2,"clr-expandable-animation",1),r.Bc(2,Vt,1,1,void 0,2),r.Qb()),2&t){const t=r.bc();r.zb(1),r.hc("ngIf",t.expand.expandable),r.zb(1),r.hc("ngIf",!t.expand.expandable)}}function Mt(t,e){}function Bt(t,e){if(1&t&&(r.Rb(0,"clr-expandable-animation",7),r.Bc(1,Mt,0,0,"ng-template",8),r.Qb()),2&t){const t=r.bc(),e=r.nc(6);r.hc("clrExpandTrigger",t.expandAnimationTrigger),r.zb(1),r.hc("ngTemplateOutlet",e)}}function zt(t,e){}function Ut(t,e){if(1&t&&r.Bc(0,zt,0,0,"ng-template",8),2&t){r.bc();const t=r.nc(6);r.hc("ngTemplateOutlet",t)}}function Ht(t,e){1&t&&r.fc(0)}const Gt=function(t){return{"clr-form-control-disabled":t}};function qt(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",19),r.Rb(1,"input",20),r.Zb("ngModelChange",(function(e){return r.rc(t),r.bc(2).toggle(e)})),r.Qb(),r.Qb()}if(2&t){const t=r.bc(2);r.hc("ngClass",r.lc(6,Gt,!t.clrDgSelectable)),r.zb(1),r.hc("ngModel",t.selected)("id",t.checkboxId),r.Ab("disabled",!t.clrDgSelectable||null)("aria-disabled",!t.clrDgSelectable||null)("aria-label",t.commonStrings.keys.select)}}function Qt(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",19),r.Rb(1,"input",21),r.Zb("ngModelChange",(function(e){return r.rc(t),r.bc(2).selection.currentSingle=e})),r.Qb(),r.Qb()}if(2&t){const t=r.bc(2);r.hc("ngClass",r.lc(9,Gt,!t.clrDgSelectable)),r.zb(1),r.hc("id",t.radioId)("name",t.selection.id+"-radio")("value",t.item)("ngModel",t.selection.currentSingle)("checked",t.selection.currentSingle===t.item),r.Ab("disabled",!t.clrDgSelectable||null)("aria-disabled",!t.clrDgSelectable||null)("aria-label",t.commonStrings.keys.select)}}function Wt(t,e){1&t&&(r.Rb(0,"div",22),r.fc(1,2),r.Qb())}function $t(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",26),r.Zb("click",(function(){return r.rc(t),r.bc(4).toggleExpand()})),r.Mb(1,"clr-icon",27),r.Qb()}if(2&t){const t=r.bc(4);r.Ab("aria-expanded",t.expand.expanded)("aria-label",t.expand.expanded?t.clrDgDetailCloseLabel:t.clrDgDetailOpenLabel)("aria-controls",t.expandableId),r.zb(1),r.Ab("dir",t.expand.expanded?"down":"right")("title",t.expand.expanded?t.commonStrings.keys.collapse:t.commonStrings.keys.expand)}}function Kt(t,e){if(1&t&&(r.Rb(0,"clr-spinner",28),r.Dc(1),r.Qb()),2&t){const t=r.bc(4);r.zb(1),r.Ec(t.commonStrings.keys.loading)}}function Zt(t,e){if(1&t&&(r.Pb(0),r.Bc(1,$t,2,5,"button",24),r.Bc(2,Kt,2,1,"clr-spinner",25),r.Ob()),2&t){const t=r.bc(3);r.zb(1),r.hc("ngIf",!t.expand.loading),r.zb(1),r.hc("ngIf",t.expand.loading)}}function Jt(t,e){if(1&t&&(r.Rb(0,"div",23),r.Bc(1,Zt,3,2,"ng-container",2),r.Qb()),2&t){const t=r.bc(2);r.zb(1),r.hc("ngIf",t.expand.expandable)}}function Yt(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",29),r.Rb(1,"button",30,31),r.Zb("click",(function(){r.rc(t);const e=r.nc(2),n=r.bc(2);return n.detailService.toggle(n.item,e)})),r.Mb(3,"clr-icon",32),r.Qb(),r.Qb()}if(2&t){const t=r.bc(2);r.zb(1),r.Db("is-open",t.detailService.isRowOpen(t.item)),r.Ab("aria-label",t.detailService.isOpen?t.clrDgDetailCloseLabel:t.clrDgDetailOpenLabel)("aria-expanded",t.detailService.isOpen)("aria-controls",t.detailService.id),r.zb(2),r.Ab("dir",t.detailService.isRowOpen(t.item)?"left":"right")("title",t.detailService.isRowOpen(t.item)?t.commonStrings.keys.close:t.commonStrings.keys.open)}}function Xt(t,e){}function te(t,e){if(1&t&&r.Bc(0,Xt,0,0,"ng-template",8),2&t){r.bc(2);const t=r.nc(4);r.hc("ngTemplateOutlet",t)}}function ee(t,e){}function ne(t,e){if(1&t&&r.Bc(0,ee,0,0,"ng-template",8),2&t){r.bc(2);const t=r.nc(4);r.hc("ngTemplateOutlet",t)}}const re=function(t){return{"is-replaced":t}};function ie(t,e){if(1&t&&(r.Rb(0,"div",9),r.Rb(1,"div",10),r.Pb(2,null,11),r.Bc(4,qt,2,8,"div",12),r.Bc(5,Qt,2,11,"div",12),r.Bc(6,Wt,2,0,"div",13),r.Bc(7,Jt,2,1,"div",14),r.Bc(8,Yt,4,7,"div",15),r.Ob(),r.Qb(),r.Rb(9,"div",16),r.Rb(10,"div",17),r.fc(11,1),r.Nb(12,null,18),r.Qb(),r.Bc(14,te,1,1,void 0,2),r.Bc(15,ne,1,1,void 0,2),r.Qb(),r.Qb()),2&t){const t=r.bc();r.Db("datagrid-row-detail-open",t.detailService.isRowOpen(t.item)),r.hc("id",t.id),r.zb(4),r.hc("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Multi),r.zb(1),r.hc("ngIf",t.selection.selectionType===t.SELECTION_TYPE.Single),r.zb(1),r.hc("ngIf",t.rowActionService.hasActionableRow),r.zb(1),r.hc("ngIf",t.globalExpandable.hasExpandableRow),r.zb(1),r.hc("ngIf",t.detailService.enabled),r.zb(1),r.hc("ngClass",r.lc(11,re,t.replaced&&t.expanded)),r.zb(5),r.hc("ngIf",t.replaced&&!t.expand.loading),r.zb(1),r.hc("ngIf",!t.replaced&&!t.expand.loading)}}const se=[[["clr-dg-row-detail"]],[["clr-dg-cell"]],[["clr-dg-action-overflow"]]],oe=["clr-dg-row-detail","clr-dg-cell","clr-dg-action-overflow"],ae=["scrollableColumns"],ce=["datagridTable"],ue=["projectedDisplayColumns"],le=["projectedCalculationColumns"],he=["displayedRows"],fe=["calculationRows"];function de(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",23),r.Rb(1,"span",24),r.Rb(2,"input",25),r.Zb("ngModelChange",(function(e){return r.rc(t),r.bc().allSelected=e})),r.Qb(),r.Qb(),r.Mb(3,"div",26),r.Qb()}if(2&t){const t=r.bc();r.zb(2),r.hc("ngModel",t.allSelected),r.Ab("aria-label",t.commonStrings.keys.selectAll)}}function pe(t,e){if(1&t&&(r.Rb(0,"div",23),r.Mb(1,"div",26),r.Qb()),2&t){const t=r.bc();r.Ab("aria-label",t.clrDgSingleSelectionAriaLabel)}}function ge(t,e){if(1&t&&(r.Rb(0,"div",27),r.Mb(1,"div",26),r.Qb()),2&t){const t=r.bc();r.Ab("aria-label",t.clrDgSingleActionableAriaLabel)}}function be(t,e){if(1&t&&(r.Rb(0,"div",28),r.Mb(1,"div",26),r.Qb()),2&t){const t=r.bc();r.Ab("aria-label",t.clrDetailExpandableAriaLabel)}}function me(t,e){1&t&&r.Mb(0,"clr-dg-placeholder")}function ve(t,e){1&t&&(r.Rb(0,"div",29),r.Rb(1,"clr-spinner",30),r.Dc(2,"Loading"),r.Qb(),r.Qb())}const ye=[[["clr-dg-action-bar"]],[["clr-dg-placeholder"]],[["clr-dg-footer"]],[["","clrIfDetail",""],["clr-dg-detail"]]],_e=["clr-dg-action-bar","clr-dg-placeholder","clr-dg-footer","[clrIfDetail],clr-dg-detail"],we=["resizeTracker"],Se=["columnHandle"],Ee=["menuDescription"],Ce=["allSelected"];function Oe(t,e){if(1&t&&(r.Pb(0),r.Dc(1),r.Ob()),2&t){const t=r.bc(2);r.zb(1),r.Ec(t.commonStrings.keys.showColumns)}}function Ie(t,e){}function Te(t,e){if(1&t){const t=r.Sb();r.Rb(0,"li"),r.Rb(1,"clr-checkbox-wrapper"),r.Rb(2,"input",15),r.Zb("ngModelChange",(function(n){r.rc(t);const i=e.$implicit;return r.bc(2).toggleColumnState(i,!n)})),r.Qb(),r.Rb(3,"label"),r.Bc(4,Ie,0,0,"ng-template",16),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=e.$implicit,n=r.bc(2);r.zb(2),r.hc("disabled",n.hasOnlyOneVisibleColumn&&!t.hidden)("ngModel",!t.hidden),r.zb(2),r.hc("ngTemplateOutlet",t.titleTemplateRef)}}function Ae(t,e){if(1&t){const t=r.Sb();r.Rb(0,"clr-dg-column-toggle-button",17),r.Zb("clrAllSelected",(function(){return r.rc(t),r.bc(2).allColumnsSelected()})),r.Dc(1),r.Qb()}if(2&t){const t=r.bc(2);r.zb(1),r.Fc(" ",t.commonStrings.keys.selectAll," ")}}function xe(t,e){if(1&t&&(r.Rb(0,"div",3),r.Rb(1,"div",4),r.Rb(2,"div",5,6),r.Dc(4),r.Qb(),r.Rb(5,"div",5,7),r.Dc(7),r.Qb(),r.Bc(8,Oe,2,1,"ng-container",8),r.fc(9),r.Rb(10,"button",9),r.Mb(11,"clr-icon",10),r.Qb(),r.Qb(),r.Rb(12,"ul",11),r.Bc(13,Te,5,3,"li",12),r.Qb(),r.Rb(14,"div",13),r.fc(15,1),r.Bc(16,Ae,2,1,"clr-dg-column-toggle-button",14),r.Qb(),r.Qb()),2&t){const t=r.bc();r.hc("id",t.popoverId),r.zb(4),r.Fc(" ",t.commonStrings.keys.showColumnsMenuDescription," "),r.zb(3),r.Ec(t.commonStrings.keys.allColumnsSelected),r.zb(1),r.hc("ngIf",!t.customToggleTitle),r.zb(2),r.Ab("aria-label",t.commonStrings.keys.close),r.zb(1),r.Ab("title",t.commonStrings.keys.close),r.zb(2),r.hc("ngForOf",t.hideableColumnStates)("ngForTrackBy",t.trackByFn),r.zb(3),r.hc("ngIf",!t.customToggleButton)}}const ke=[[["clr-dg-column-toggle-title"]],[["clr-dg-column-toggle-button"]]],Le=["clr-dg-column-toggle-title","clr-dg-column-toggle-button"],je=function(){return{strict:!1}};function De(t,e){if(1&t&&(r.Rb(0,"div",1),r.Rb(1,"div",2),r.Dc(2),r.Qb(),r.fc(3),r.Rb(4,"div",2),r.Dc(5),r.Qb(),r.Qb()),2&t){const t=r.bc();r.hc("clrFocusTrap",r.kc(5,je))("id",t.detailService.id),r.Ab("aria-describedby",t.header?t.header.titleId:""),r.zb(2),r.Ec(t.commonStrings.keys.detailPaneStart),r.zb(3),r.Ec(t.commonStrings.keys.detailPaneEnd)}}function Re(t,e){if(1&t&&(r.Pb(0),r.Rb(1,"div",1),r.Rb(2,"clr-checkbox-wrapper",2),r.Mb(3,"input",3),r.Rb(4,"label"),r.Dc(5),r.Qb(),r.Qb(),r.Qb(),r.Ob()),2&t){const t=r.bc();r.zb(5),r.Ec(t.selection.current.length)}}function Ne(t,e){1&t&&r.Mb(0,"clr-dg-column-toggle")}function Pe(t,e){if(1&t&&(r.Pb(0),r.fc(1,1),r.Bc(2,Ne,1,0,"clr-dg-column-toggle",0),r.Rb(3,"div",4),r.fc(4,2),r.Qb(),r.Ob()),2&t){const t=r.bc();r.zb(2),r.hc("ngIf",t.hasHideableColumns&&!t.toggle)}}const Ve=[[["clr-dg-pagination"]],[["clr-dg-column-toggle"]],"*"],Fe=["clr-dg-pagination","clr-dg-column-toggle","*"];function Me(t,e){if(1&t&&(r.Rb(0,"option",3),r.Dc(1),r.Qb()),2&t){const t=e.$implicit;r.hc("ngValue",t),r.zb(1),r.Ec(t)}}const Be=["currentPageInput"];function ze(t,e){1&t&&(r.Rb(0,"div",4),r.fc(1,1),r.Qb())}function Ue(t,e){if(1&t){const t=r.Sb();r.Rb(0,"input",16,17),r.Zb("keydown.enter",(function(e){return r.rc(t),r.bc(3).updateCurrentPage(e)}))("blur",(function(e){return r.rc(t),r.bc(3).updateCurrentPage(e)})),r.Qb()}if(2&t){const t=r.bc(3);r.hc("size",t.page.last.toString().length)("value",t.page.current),r.Ab("aria-label",t.commonStrings.keys.currentPage)}}function He(t,e){if(1&t&&(r.Rb(0,"span"),r.Dc(1),r.Qb()),2&t){const t=r.bc(3);r.zb(1),r.Ec(t.page.current)}}function Ge(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",5),r.Rb(1,"button",6),r.Zb("click",(function(){return r.rc(t),r.bc(2).page.current=1})),r.Mb(2,"clr-icon",7),r.Qb(),r.Rb(3,"button",8),r.Zb("click",(function(){r.rc(t);const e=r.bc(2);return e.page.current=e.page.current-1})),r.Mb(4,"clr-icon",9),r.Qb(),r.Bc(5,Ue,2,3,"input",10),r.Bc(6,He,2,1,"ng-template",null,11,r.Cc),r.Dc(8," \xa0/\xa0"),r.Rb(9,"span"),r.Dc(10),r.Qb(),r.Rb(11,"button",12),r.Zb("click",(function(){r.rc(t);const e=r.bc(2);return e.page.current=e.page.current+1})),r.Mb(12,"clr-icon",13),r.Qb(),r.Rb(13,"button",14),r.Zb("click",(function(){r.rc(t);const e=r.bc(2);return e.page.current=e.page.last})),r.Mb(14,"clr-icon",15),r.Qb(),r.Qb()}if(2&t){const t=r.nc(7),e=r.bc(2);r.zb(1),r.hc("disabled",e.page.current<=1),r.Ab("aria-label",e.commonStrings.keys.firstPage),r.zb(2),r.hc("disabled",e.page.current<=1),r.Ab("aria-label",e.commonStrings.keys.previousPage),r.zb(2),r.hc("ngIf",!e.disableCurrentPageInput)("ngIfElse",t),r.zb(4),r.Ab("aria-label",e.commonStrings.keys.totalPages),r.zb(1),r.Ec(e.page.last),r.zb(1),r.hc("disabled",e.page.current>=e.page.last),r.Ab("aria-label",e.commonStrings.keys.nextPage),r.zb(2),r.hc("disabled",e.page.current>=e.page.last),r.Ab("aria-label",e.commonStrings.keys.lastPage)}}function qe(t,e){if(1&t&&(r.Pb(0),r.Bc(1,ze,2,0,"div",1),r.Rb(2,"div",2),r.fc(3),r.Qb(),r.Bc(4,Ge,15,12,"div",3),r.Ob()),2&t){const t=r.bc();r.zb(1),r.hc("ngIf",t._pageSizeComponent),r.zb(3),r.hc("ngIf",t.page.last>1)}}function Qe(t,e){if(1&t){const t=r.Sb();r.Pb(0),r.Rb(1,"div",18),r.Dc(2),r.Qb(),r.Rb(3,"div",5),r.Rb(4,"button",8),r.Zb("click",(function(){r.rc(t);const e=r.bc();return e.page.current=e.page.current-1})),r.Mb(5,"clr-icon",9),r.Qb(),r.Rb(6,"span"),r.Dc(7),r.Qb(),r.Rb(8,"button",12),r.Zb("click",(function(){r.rc(t);const e=r.bc();return e.page.current=e.page.current+1})),r.Mb(9,"clr-icon",13),r.Qb(),r.Qb(),r.Ob()}if(2&t){const t=r.bc();r.zb(2),r.Hc(" ",t.page.firstItem+1,"-",t.page.lastItem+1," / ",t.page.totalItems," "),r.zb(2),r.hc("disabled",t.page.current<=1),r.Ab("aria-label",t.commonStrings.keys.previousPage),r.zb(3),r.Ec(t.page.current),r.zb(1),r.hc("disabled",t.page.current>=t.page.last),r.Ab("aria-label",t.commonStrings.keys.nextPage)}}const We=["*",[["clr-dg-page-size"]]],$e=["*","clr-dg-page-size"];function Ke(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",4),r.Zb("click",(function(){return r.rc(t),r.bc(2).close()})),r.Mb(1,"clr-icon",5),r.Qb()}if(2&t){const t=r.bc(2);r.Ab("aria-label",t.clrCloseButtonAriaLabel)}}function Ze(t,e){if(1&t&&(r.Rb(0,"div",1),r.Rb(1,"div",2),r.fc(2),r.Qb(),r.Bc(3,Ke,2,1,"button",3),r.Qb()),2&t){const t=r.bc();r.Db("alert-hidden",t.hidden)("alert-sm",t.isSmall)("alert-app-level",t.isAppLevel),r.hc("ngClass",t.alertClass),r.zb(3),r.hc("ngIf",t.closable)}}function Je(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",3),r.Zb("click",(function(){r.rc(t);const e=r.bc();return e.toggleNav(e.responsiveNavCodes.NAV_LEVEL_1)})),r.Mb(1,"span"),r.Qb()}if(2&t){const t=r.bc();r.Ab("aria-label",t.openNavLevel!==t.responsiveNavCodes.NAV_LEVEL_1?t.commonStrings.keys.open:t.commonStrings.keys.close)}}function Ye(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",4),r.Zb("click",(function(){r.rc(t);const e=r.bc();return e.toggleNav(e.responsiveNavCodes.NAV_LEVEL_2)})),r.Mb(1,"span"),r.Qb()}if(2&t){const t=r.bc();r.Ab("aria-label",t.openNavLevel!==t.responsiveNavCodes.NAV_LEVEL_2?t.commonStrings.keys.open:t.commonStrings.keys.close)}}function Xe(t,e){1&t&&r.fc(0)}const tn=["tabContentProjectedRef"];function en(t,e){if(1&t&&(r.Rb(0,"section",1),r.fc(1),r.Qb()),2&t){const t=r.bc();r.Db("active",t.active),r.hc("id",t.tabContentId)("hidden",!t.active),r.Ab("aria-labelledby",t.ariaLabelledBy)("aria-expanded",t.active)("aria-hidden",!t.active)}}const nn=["tabContentViewContainer"];function rn(t,e){if(1&t&&(r.Pb(0),r.Rb(1,"li",4),r.Nb(2,5),r.Qb(),r.Ob()),2&t){const t=r.bc().$implicit;r.zb(2),r.hc("ngTemplateOutlet",t.templateRefContainer.template)}}function sn(t,e){if(1&t&&(r.Pb(0),r.Bc(1,rn,3,1,"ng-container",2),r.Ob()),2&t){const t=e.$implicit,n=r.bc();r.zb(1),r.hc("ngIf",t.tabsId===n.tabsId&&!t.inOverflow)}}function on(t,e){if(1&t&&r.Nb(0,5),2&t){const t=r.bc().$implicit;r.hc("ngTemplateOutlet",t.templateRefContainer.template)}}function an(t,e){if(1&t&&(r.Pb(0),r.Bc(1,on,1,1,"ng-container",13),r.Ob()),2&t){const t=e.$implicit,n=r.bc(3);r.zb(1),r.hc("ngIf",t.tabsId===n.tabsId&&t.inOverflow)}}function cn(t,e){if(1&t){const t=r.Sb();r.Rb(0,"clr-tab-overflow-content",12),r.Zb("keydown.esc",(function(){return r.rc(t),r.bc(2).closeOnEscapeKey()}),!1,r.pc)("click",(function(e){r.rc(t),r.bc();const n=r.nc(4);return r.bc().closeOnOutsideClick(e,n)}),!1,r.pc)("focusout",(function(e){return r.rc(t),r.bc(2).closeOnFocusOut(e)})),r.Bc(1,an,2,1,"ng-container",1),r.Qb()}if(2&t){const t=r.bc(2);r.zb(1),r.hc("ngForOf",t.tabLinkDirectives)}}function un(t,e){if(1&t){const t=r.Sb();r.Pb(0),r.Rb(1,"div",6),r.Rb(2,"li",7),r.Rb(3,"button",8,9),r.Zb("mousedown",(function(){return r.rc(t),r.bc()._mousedown=!0}))("focus",(function(){return r.rc(t),r.bc().openOverflowOnFocus()}))("click",(function(){return r.rc(t),r.bc().toggleOverflowOnClick()})),r.Mb(5,"clr-icon",10),r.Qb(),r.Qb(),r.Bc(6,cn,2,1,"clr-tab-overflow-content",11),r.Qb(),r.Ob()}if(2&t){const t=r.bc();r.zb(1),r.Db("open",t.toggleService.open),r.zb(2),r.Db("active",t.activeTabInOverflow)("open",t.toggleService.open),r.Ab("tabindex",t.activeTabInOverflow&&!t.toggleService.open?0:-1),r.zb(2),r.Db("is-info",t.toggleService.open),r.Ab("title",t.commonStrings.keys.more),r.zb(1),r.hc("ngIf",t.toggleService.open)}}function ln(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",10),r.Zb("click",(function(){return r.rc(t),r.bc(2).close()})),r.Mb(1,"clr-icon",11),r.Qb()}if(2&t){const t=r.bc(2);r.Ab("aria-label",t.commonStrings.keys.close)}}function hn(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div",1),r.Rb(1,"div",2),r.Zb("@fadeDown.done",(function(e){return r.rc(t),r.bc().fadeDone(e)})),r.Rb(2,"div",3),r.Dc(3),r.Qb(),r.Rb(4,"div",4),r.fc(5),r.Rb(6,"div",5),r.Rb(7,"div",6),r.Rb(8,"div",7),r.fc(9,1),r.Qb(),r.Bc(10,ln,2,1,"button",8),r.Qb(),r.fc(11,2),r.fc(12,3),r.Qb(),r.Qb(),r.Rb(13,"div",3),r.Dc(14),r.Qb(),r.Qb(),r.Rb(15,"div",9),r.Zb("click",(function(){r.rc(t);const e=r.bc();return e.staticBackdrop||e.close()})),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.zb(1),r.Db("modal-sm","sm"==t.size)("modal-lg","lg"==t.size)("modal-xl","xl"==t.size),r.hc("@fadeDown",t.skipAnimation),r.Ab("aria-hidden",!t._open)("aria-labelledby",t.modalId),r.zb(2),r.Ec(t.commonStrings.keys.modalContentStart),r.zb(5),r.ic("id",t.modalId),r.zb(2),r.hc("ngIf",t.closable),r.zb(4),r.Ec(t.commonStrings.keys.modalContentEnd),r.zb(1),r.hc("@fade",void 0)}}const fn=[[["",8,"modal-nav"]],[["",8,"modal-title"]],[["",8,"modal-body"]],[["",8,"modal-footer"]]],dn=[".modal-nav",".modal-title",".modal-body",".modal-footer"];function pn(t,e){if(1&t&&(r.Rb(0,"span"),r.Dc(1),r.Qb()),2&t){const t=r.bc();r.zb(1),r.Ec(t.displayValue)}}function gn(t,e){if(1&t&&(r.Pb(0),r.Mb(1,"clr-icon"),r.Ob()),2&t){const t=r.bc();r.zb(1),r.Ab("shape",t.iconShape)("aria-label",t.iconAriaLabel)("aria-current",t.iconAriaCurrent)}}function bn(t,e){if(1&t&&r.Mb(0,"clr-spinner",4),2&t){const t=r.bc();r.Ab("aria-label",t.iconAriaLabel)}}const mn=[[["clr-timeline-step-header"]],[["clr-timeline-step-title"]],[["clr-timeline-step-description"]]],vn=["clr-timeline-step-header","clr-timeline-step-title","clr-timeline-step-description"];let yn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["clr-icon"]]}),t})(),_n=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();var wn=function(t){return t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Backspace="Backspace",t.Tab="TAB",t.Enter="Enter",t.Escape="Escape",t.Space="Space",t.Home="Home",t.End="End",t}({}),Sn=function(t){return t.ArrowUp="Up",t.ArrowDown="Down",t.ArrowRight="Right",t.ArrowLeft="Left",t.Space="Spacebar",t.Escape="Esc",t.Home="Home",t.End="End",t.Enter="Enter",t.Tab="Tab",t}({});function En(t){return t===wn.ArrowUp||t===Sn.ArrowUp?wn.ArrowUp:t===wn.ArrowDown||t===Sn.ArrowDown?wn.ArrowDown:t===wn.ArrowRight||t===Sn.ArrowRight?wn.ArrowRight:t===wn.ArrowLeft||t===Sn.ArrowLeft?wn.ArrowLeft:t===wn.Space||t===Sn.Space?wn.Space:t===wn.Escape||t===Sn.Escape?wn.Escape:t}function Cn(t){const e=En(t.key);e!==wn.ArrowUp&&e!==wn.ArrowDown&&e!==wn.ArrowLeft&&e!==wn.ArrowRight||t.preventDefault()}let On=(()=>{class t{constructor(){this._open=!1,this._openChange=new s.a,this._openEventChange=new s.a,this._popoverAligned=new s.a}get openChange(){return this._openChange.asObservable()}set openEvent(t){this._openEvent=t,this._openEventChange.next(t)}get openEvent(){return this._openEvent}getEventChange(){return this._openEventChange.asObservable()}set open(t){this._open!==(t=!!t)&&(this._open=t,this._openChange.next(t))}get open(){return this._open}get originalEvent(){return this._openEvent}toggleWithEvent(t){Cn(t),this.openEvent=t,this.open=!this.open}get popoverAligned(){return this._popoverAligned.asObservable()}popoverAlignedEmit(t){this._popoverAligned.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),In=(()=>{class t{constructor(t,e,n){this.renderer=t,this.smartOpenService=e,this.document=n,this.outsideClickClose=!0,this.scrollToClose=!0,this.subscriptions=[],this.subscriptions.push(e.openChange.subscribe(t=>{t?(this.addEscapeListener(),this.addClickListener(),this.addScrollListener()):this.removeAllEventListeners()}),e.getEventChange().subscribe(t=>{this.ignoredEvent=t}))}addScrollListener(){this.scrollToClose&&(this.documentScroller=Object(o.a)(this.document,"scroll",{capture:!0}),this.scrollSubscription=this.documentScroller.pipe(Object(f.a)(this.testForSmartPopoverContentContainer)).subscribe(()=>{this.smartOpenService.open=!1,this.setAnchorFocus()}))}removeScrollListener(){this.documentScroller&&(this.scrollSubscription.unsubscribe(),delete this.documentScroller)}testForSmartPopoverContentContainer(t){let e=t.target;for(;e.classList&&"body"!==e.parentElement.localName;)e=e.parentElement;return!!e.classList&&!e.classList.contains("clr-popover-content")}addClickListener(){this.outsideClickClose&&(this.documentClickListener=this.renderer.listen(this.document,"click",t=>{t===this.ignoredEvent?delete this.ignoredEvent:(this.smartOpenService.open=!1,t.target.focus())}))}removeClickListener(){this.outsideClickClose&&(delete this.ignoredEvent,this.documentClickListener&&(this.documentClickListener(),delete this.documentClickListener))}addEscapeListener(){this.escapeListener=this.renderer.listen(this.document,"keydown.escape",()=>{this.smartOpenService.open=!1,this.setAnchorFocus()})}removeEscapeListener(){this.escapeListener&&(this.escapeListener(),delete this.escapeListener)}set anchorButtonRef(t){this._anchorButtonRef=t}get anchorButtonRef(){return this._anchorButtonRef}set closeButtonRef(t){this._closeButtonRef=t}get closeButtonRef(){return this._closeButtonRef}setCloseFocus(){this._closeButtonRef.nativeElement.focus()}setAnchorFocus(){this.anchorButtonRef.nativeElement.focus()}set contentRef(t){this._contentRef=t}get contentRef(){return this._contentRef}removeAllEventListeners(){this.removeScrollListener(),this.removeClickListener(),this.removeEscapeListener()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.removeAllEventListeners()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.E),r.Vb(On),r.Vb(i.d))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();var Tn=function(t){return t[t.BOTTOM=0]="BOTTOM",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.TOP=3]="TOP",t}({}),An=function(t){return t[t.START=0]="START",t[t.CENTER=.5]="CENTER",t[t.END=1]="END",t}({});const xn=t=>Object.assign(Object.assign({},t),{side:-1*t.side}),kn=(t,e)=>{const n=t.content+(e?.5:-.5);return n<0||n>1?t:Object.assign(Object.assign({},t),{content:n})};function Ln(t,e,n){return r=>e(t(r),n)}function jn(t,e,n){let r=e.left,i=e.top;switch(t.axis+t.side){case-1:r+=Dn(t,e,n),i-=n.height;break;case 1:r+=Dn(t,e,n),i+=e.height;break;case 0:r-=n.width,i+=Rn(t,e,n);break;case 2:r+=e.width,i+=Rn(t,e,n)}return{xOffset:r,yOffset:i}}function Dn(t,e,n){let r=0;switch(t.anchor){case An.START:break;case An.CENTER:r+=e.width/2;break;case An.END:r+=e.width}switch(t.content){case An.START:break;case An.CENTER:r-=n.width/2;break;case An.END:r-=n.width}return r}function Rn(t,e,n){let r=0;switch(t.anchor){case An.START:break;case An.CENTER:r+=e.height/2;break;case An.END:r+=e.height}switch(t.content){case An.START:break;case An.CENTER:r-=n.height/2;break;case An.END:r-=n.height}return r}var Nn=function(t){return t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL",t}({});let Pn=(()=>{class t{constructor(t,e){this.eventService=t,this.platformId=e,this._shouldRealign=new s.a,this.shouldRealign=this._shouldRealign.asObservable()}realign(){this._shouldRealign.next()}set position(t){this._position=t}get position(){return this._position}alignContent(t){if(!Object(i.B)(this.platformId))return{xOffset:0,yOffset:0};this.currentAnchorCoords=this.eventService.anchorButtonRef.nativeElement.getBoundingClientRect(),this.currentContentCoords=t.getBoundingClientRect(),this.contentOffsets=jn(this.position,this.currentAnchorCoords,this.currentContentCoords);const e=function(t,e){const n=[],r=t.yOffset+e.height,i=t.xOffset,s=t.xOffset+e.width;return t.yOffset>=0||n.push(Tn.TOP),i>=0||n.push(Tn.LEFT),r<=(window.innerHeight||document.documentElement.clientHeight)||n.push(Tn.BOTTOM),s<=(window.innerWidth||document.documentElement.clientWidth)||n.push(Tn.RIGHT),n}(this.contentOffsets,this.currentContentCoords),n=e.reduce((t,e)=>t+e,0);return 1===e.length&&this.position.axis===Nn.VERTICAL?this.handleVerticalAxisOneViolation(n):1===e.length&&this.position.axis===Nn.HORIZONTAL?this.handleHorizontalAxisOneViolation(n):2===e.length&&this.position.axis===Nn.VERTICAL?this.handleVerticalAxisTwoViolations(n):2===e.length&&this.position.axis===Nn.HORIZONTAL&&this.handleHorizontalAxisTwoViolations(n),this.contentOffsets}handleVerticalAxisOneViolation(t){switch(t){case 0:case 3:this.contentOffsets=jn(xn(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 1:this.contentOffsets=jn(kn(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 2:this.contentOffsets=jn(kn(this.position,!0),this.currentAnchorCoords,this.currentContentCoords)}}handleVerticalAxisTwoViolations(t){switch(t){case 5:{const t=Ln(xn,kn,!0);this.contentOffsets=jn(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 4:{const t=Ln(xn,kn,!1);this.contentOffsets=jn(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 3:break;case 2:{const t=Ln(xn,kn,!0);this.contentOffsets=jn(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 1:{const t=Ln(xn,kn,!1);this.contentOffsets=jn(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break}}}handleHorizontalAxisOneViolation(t){switch(t){case 1:case 2:this.contentOffsets=jn(xn(this.position),this.currentAnchorCoords,this.currentContentCoords);break;case 0:this.contentOffsets=jn(kn(this.position,!0),this.currentAnchorCoords,this.currentContentCoords);break;case 3:this.contentOffsets=jn(kn(this.position),this.currentAnchorCoords,this.currentContentCoords)}}handleHorizontalAxisTwoViolations(t){switch(t){case 5:case 4:{const t=Ln(xn,kn,!1);this.contentOffsets=jn(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break}case 3:break;case 2:case 1:{const t=Ln(xn,kn,!0);this.contentOffsets=jn(t(this.position),this.currentAnchorCoords,this.currentContentCoords);break}}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(In),r.Vb(r.B))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Vn=(()=>{class t{constructor(t,e,n,i,s,o,a){this.document=t,this.container=e,this.template=n,this.renderer=i,this.smartPositionService=s,this.smartEventsService=o,this.smartOpenService=a,this.subscriptions=[],this.shouldRealign=!1,this.checkCollector=new r.n}set open(t){this.smartOpenService.open=!!t}set contentAt(t){this.smartPositionService.position=t}set outsideClickClose(t){this.smartEventsService.outsideClickClose=!!t}set scrollToClose(t){this.smartEventsService.scrollToClose=!!t}ngAfterViewInit(){this.subscriptions.push(this.smartOpenService.openChange.subscribe(t=>{t?this.addContent():this.removeContent()}),this.smartPositionService.shouldRealign.subscribe(()=>{this.shouldRealign=!0,this.view&&this.renderer.setStyle(this.view.rootNodes[0],"opacity","0")}),this.checkCollector.pipe(function(t,e=p.a){return n=>n.lift(new g(t,e))}(0)).subscribe(()=>{this.alignContent(),this.shouldRealign=!1,this.view&&this.renderer.setStyle(this.view.rootNodes[0],"opacity","1")}))}ngOnDestroy(){this.removeContent(),this.subscriptions.forEach(t=>t.unsubscribe())}removeContent(){this.view&&(this.view.rootNodes.forEach(t=>this.renderer.removeChild(this.document.body,t)),this.container.clear(),delete this.view)}addContent(){this.view=this.container.createEmbeddedView(this.template),this.smartEventsService.contentRef=this.view.rootNodes[0],this.renderer.addClass(this.view.rootNodes[0],"clr-popover-content"),this.renderer.setStyle(this.view.rootNodes[0],"top","0px"),this.renderer.setStyle(this.view.rootNodes[0],"left","0px"),this.renderer.setStyle(this.view.rootNodes[0],"opacity","0"),this.renderer.listen(this.view.rootNodes[0],"click",t=>{this.smartOpenService.openEvent=t}),this.view.rootNodes.forEach(t=>{this.renderer.appendChild(this.document.body,t)}),this.shouldRealign=!0}ngAfterContentChecked(){this.smartOpenService.open&&this.view&&this.shouldRealign&&this.checkCollector.emit()}alignContent(){if(!this.view)return;const t=this.smartPositionService.alignContent(this.view.rootNodes[0]);this.renderer.setStyle(this.view.rootNodes[0],"top",t.yOffset+"px"),this.renderer.setStyle(this.view.rootNodes[0],"left",t.xOffset+"px"),this.smartOpenService.popoverAlignedEmit(this.view.rootNodes[0])}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(i.d),r.Lb(r.Q),r.Lb(r.L),r.Lb(r.E),r.Lb(Pn),r.Lb(In),r.Lb(On))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrPopoverContent",""]],inputs:{open:["clrPopoverContent","open"],contentAt:["clrPopoverContentAt","contentAt"],outsideClickClose:["clrPopoverContentOutsideClickToClose","outsideClickClose"],scrollToClose:["clrPopoverContentScrollToClose","scrollToClose"]}}),t})(),Fn=(()=>{class t{constructor(t){this.smartOpenService=t,this.subscriptions=[],this.openCloseChange=new r.n,this.subscriptions.push(this.smartOpenService.openChange.subscribe(t=>{this.openCloseChange.next(t)}))}handleClick(t){this.smartOpenService.toggleWithEvent(t)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(On))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrPopoverOpenCloseButton",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Zb("click",(function(t){return e.handleClick(t)}))("keydown",(function(t){return e.handleClick(t)})),2&t&&r.Db("clr-smart-open-close",!0)},outputs:{openCloseChange:"clrPopoverOpenCloseChange"}}),t})(),Mn=(()=>{class t{constructor(t,e,n){this.elementRef=t,this.smartEventsService=e,this.smartOpenService=n,this.subscriptions=[],this.closeChange=new r.n,this.subscriptions.push(n.openChange.pipe(Object(f.a)(t=>!t)).subscribe(()=>{this.closeChange.next()}))}handleClick(t){this.smartOpenService.toggleWithEvent(t),this.smartEventsService.setAnchorFocus()}ngAfterViewInit(){this.smartEventsService.closeButtonRef=this.elementRef,this.smartEventsService.setCloseFocus()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(In),r.Lb(On))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrPopoverCloseButton",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Zb("click",(function(t){return e.handleClick(t)}))("keydown",(function(t){return e.handleClick(t)})),2&t&&r.Db("clr-smart-close-button",!0)},outputs:{closeChange:"clrPopoverOnCloseChange"}}),t})(),Bn=(()=>{class t{constructor(t,e){t.anchorButtonRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(In),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrPopoverAnchor",""]],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("clr-anchor",!0)}}),t})(),zn=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[]]}),t})();class Un{}var Hn=function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.ERROR=3]="ERROR",t}({});let Gn=(()=>{class t{constructor(t){this.listener=t,this._loadingState=Hn.DEFAULT}get loadingState(){return this._loadingState}set loadingState(t){!0===t?t=Hn.LOADING:t||(t=Hn.DEFAULT),t!==this._loadingState&&(this._loadingState=t,this.listener&&this.listener.loadingStateChange(t))}ngOnDestroy(){this.loadingState=Hn.DEFAULT}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Un,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrLoading",""]],inputs:{loadingState:["clrLoading","loadingState"]}}),t})();const qn={open:"Open",close:"Close",show:"Show",hide:"Hide",expand:"Expand",collapse:"Collapse",more:"More",select:"Select",selectAll:"Select All",previous:"Previous",next:"Next",current:"Jump to current",info:"Info",success:"Success",warning:"Warning",danger:"Error",rowActions:"Available actions",pickColumns:"Show or hide columns",showColumns:"Show Columns",sortColumn:"Sort Column",firstPage:"First Page",lastPage:"Last Page",nextPage:"Next Page",previousPage:"Previous Page",currentPage:"Current Page",totalPages:"Total Pages",minValue:"Min value",maxValue:"Max value",modalContentStart:"Beginning of Modal Content",modalContentEnd:"End of Modal Content",showColumnsMenuDescription:"Show or hide columns menu",allColumnsSelected:"All columns selected",signpostToggle:"Signpost Toggle",signpostClose:"Signpost Close",loading:"Loading",detailPaneStart:"Start of row details",detailPaneEnd:"End of row details",singleSelectionAriaLabel:"Single selection header",singleActionableAriaLabel:"Single actionable header",detailExpandableAriaLabel:"Toggle more row content",datagridFilterAriaLabel:"Toggle column filter",columnSeparatorAriaLabel:"Column resize handle",columnSeparatorDescription:"Not necessary to use this button",alertCloseButtonAriaLabel:"Close alert",datepickerToggle:"Toggle datepicker",datepickerPreviousMonth:"Previous month",datepickerCurrentMonth:"Current month",datepickerNextMonth:"Next month",datepickerPreviousDecade:"Previous decade",datepickerNextDecade:"Next decade",datepickerCurrentDecade:"Current decade",datepickerSelectMonthText:"Select month, the current month is {CALENDAR_MONTH}",datepickerSelectYearText:"Select year, the current year is {CALENDAR_YEAR}",stackViewChanged:"Value changed.",verticalNavGroupToggle:"Toggle vertical navigation group",verticalNavToggle:"Toggle vertical navigation",timelineStepNotStarted:"Not started",timelineStepCurrent:"Current",timelineStepSuccess:"Completed",timelineStepError:"Error",timelineStepProcessing:"In progress",comboboxDelete:"Delete selected option",comboboxSearching:'Searching for matches for "{INPUT}"',comboboxSelection:"Selection",comboboxSelected:"Selected",comboboxNoResults:"No results",comboboxOpen:"Show options",dategridExpandableBeginningOf:"Beginning of",dategridExpandableEndOf:"End of",dategridExpandableRowContent:"Expandable row content",dategridExpandableRowsHelperText:"Screen reader table commands may not work for viewing expanded content, please use your screen reader's browse mode to read the content exposed by this button"};let Qn=(()=>{class t{constructor(){this._strings=qn}localize(t){this._strings=Object.assign(Object.assign({},this._strings),t)}get keys(){return this._strings}parse(t,e={}){const n=Object.keys(e);let r=t;return n.length&&n.forEach(t=>{r=r.replace(`{${t}}`,e[t])}),r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Wn=0;const $n=new r.q("UNIQUE_ID"),Kn={provide:$n,useFactory:function(){return"clr-id-"+Wn++}};var Zn=function(t){return t[t.BEFORE=-1]="BEFORE",t[t.AFTER=1]="AFTER",t}({});let Jn=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n,zn]]}),t})(),Yn=(()=>{class t{constructor(t,e){this.el=t,this.renderer=e,this.buttonState=Hn,this.state=Hn.DEFAULT,this.clrLoadingChange=new r.n(!1)}loadingStateChange(t){if(t!==this.state){switch(this.state=t,t){case Hn.DEFAULT:this.renderer.removeStyle(this.el.nativeElement,"width"),this.renderer.removeStyle(this.el.nativeElement,"transform"),this.disabled||this.renderer.removeAttribute(this.el.nativeElement,"disabled");break;case Hn.LOADING:this.setExplicitButtonWidth(),this.renderer.setStyle(this.el.nativeElement,"transform","translatez(0)"),this.renderer.setAttribute(this.el.nativeElement,"disabled","");break;case Hn.SUCCESS:this.setExplicitButtonWidth();break;case Hn.ERROR:this.loadingStateChange(Hn.DEFAULT)}this.clrLoadingChange.emit(t)}}setExplicitButtonWidth(){if(this.el.nativeElement&&this.el.nativeElement.getBoundingClientRect){const t=this.el.nativeElement.getBoundingClientRect();this.renderer.setStyle(this.el.nativeElement,"width",t.width+"px")}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.E))},t.\u0275cmp=r.Fb({type:t,selectors:[["button","clrLoading",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Ab("disabled",e.disabled?"":null)},inputs:{disabled:"disabled"},outputs:{clrLoadingChange:"clrLoadingChange"},features:[r.yb([{provide:Un,useExisting:t}])],attrs:O,ngContentSelectors:C,decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"spinner","spinner-inline"],[1,"spinner","spinner-inline","spinner-check"]],template:function(t,e){1&t&&(r.gc(),r.Pb(0,0),r.Bc(1,I,2,1,"span",1),r.Bc(2,T,2,1,"span",1),r.Bc(3,A,2,1,"span",1),r.Ob()),2&t&&(r.hc("ngSwitch",e.state),r.zb(1),r.hc("ngSwitchCase",e.buttonState.LOADING),r.zb(1),r.hc("ngSwitchCase",e.buttonState.SUCCESS),r.zb(1),r.hc("ngSwitchCase",e.buttonState.DEFAULT))},directives:[i.q,i.r],encapsulation:2,data:{animation:[Object(S.k)("defaultButton",[Object(S.j)(":enter",[Object(S.i)({opacity:0}),Object(S.e)("200ms 100ms ease-in",Object(S.i)({opacity:1}))]),Object(S.j)(":leave",[Object(S.i)({opacity:0})])]),Object(S.k)("spinner",[Object(S.j)(":enter",[Object(S.i)({opacity:0}),Object(S.e)("200ms 100ms ease-in",Object(S.i)({opacity:1}))]),Object(S.j)(":leave",[Object(S.i)({opacity:1}),Object(S.e)("100ms ease-out",Object(S.i)({opacity:0}))])]),Object(S.k)("validated",[Object(S.j)(":enter",[Object(S.e)("600ms",Object(S.f)([Object(S.i)({transform:"scale(0,0)",offset:0}),Object(S.i)({opacity:1,offset:.2}),Object(S.i)({transform:"scale(1.2,1.2)",offset:.4}),Object(S.i)({transform:"scale(.9,.9)",offset:.6}),Object(S.i)({transform:"scale(1,1)",offset:1})]))]),Object(S.j)(":leave",[Object(S.i)({opacity:1}),Object(S.e)("100ms ease-out",Object(S.i)({opacity:0}))])])]}}),t})(),Xn=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})(),tr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[Xn,Jn]}),t})(),er=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),nr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)}}),t})();class rr{constructor(t,e,n=0){if(this.injector=e.injector,!this.injector.get(t,null)){const i=this.injector.get(r.j),s=this.injector.get(r.l);e.createComponent(i.resolveComponentFactory(er));const o=i.resolveComponentFactory(t),a=[];a[n]=[s.nativeElement];const c=e.createComponent(o,void 0,void 0,a);e.remove(0),c.instance._dynamic=!0,this.injector=c.injector}}get(t,e){return this.injector.get(t,e)}}let ir=0,sr=(()=>{class t{constructor(){this._id="clr-form-control-"+ ++ir,this._idChange=new a.a(this._id)}get id(){return this._id}set id(t){this._id=t,this._idChange.next(t)}get idChange(){return this._idChange.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),or=(()=>{class t{constructor(){this._controlChanges=new s.a}get controlChanges(){return this._controlChanges.asObservable()}setControl(t){this._controlChanges.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();var ar=function(t){return t.VERTICAL="vertical",t.HORIZONTAL="horizontal",t.COMPACT="compact",t}({});let cr=(()=>{class t{constructor(){this.minLabelSize=1,this.maxLabelSize=12,this.layout=ar.HORIZONTAL,this.layoutValues=Object.keys(ar).map(t=>ar[t]),this._labelSize=2}set labelSize(t){this.labelSizeIsValid(t)&&(this._labelSize=t)}get labelSize(){return this._labelSize}isVertical(){return this.layout===ar.VERTICAL}isHorizontal(){return this.layout===ar.HORIZONTAL}isCompact(){return this.layout===ar.COMPACT}get layoutClass(){return"clr-form-"+this.layout}isValid(t){return this.layoutValues.indexOf(t)>-1}labelSizeIsValid(t){return Number.isInteger(t)&&t>=this.minLabelSize&&t<=this.maxLabelSize}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();var ur=function(t){return t.NONE="NONE",t.VALID="VALID",t.INVALID="INVALID",t}({});let lr=(()=>{class t{constructor(t){this.ngControlService=t,this.subscriptions=[],this._statusChanges=new a.a(ur.NONE),this.subscriptions.push(this.ngControlService.controlChanges.subscribe(t=>{t&&(this.control=t,this.subscriptions.push(this.control.statusChanges.subscribe(()=>{this.triggerStatusChange()})))}))}get statusChanges(){return this._statusChanges.asObservable()}triggerStatusChange(){const t=ur[this.control.status];this._statusChanges.next(this.control.touched&&["VALID","INVALID"].includes(t)?t:ur.NONE)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(or))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),hr=(()=>{class t{constructor(t){this.layoutService=t,this.className=""}controlClass(t=ur.NONE,e=!1,n=""){const r=[this.className,n];return t===ur.VALID&&r.push("clr-success"),t===ur.INVALID&&r.push("clr-error"),e&&this.layoutService&&-1===this.className.indexOf("clr-col")&&r.push(`clr-col-md-${this.layoutService.maxLabelSize-this.layoutService.labelSize} clr-col-12`),r.join(" ").trim()}initControlClass(t,e){e&&e.className&&(this.className=e.className,e.className.split(" ").forEach(n=>{n.startsWith("clr-col")&&t.removeClass(e,n)}))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(cr,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),fr=(()=>{class t{constructor(){this._touched=new s.a}get touchedChange(){return this._touched.asObservable()}markAsTouched(){this._touched.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),dr=(()=>{class t{constructor(t,e,n,r,i,s){this.vcr=t,this.wrapperType=e,this.ngControl=r,this.subscriptions=[],this.index=0,this.renderer=i,this.el=s;try{this.ngControlService=n.get(or),this.ifControlStateService=n.get(lr),this.controlClassService=n.get(hr),this.markControlService=n.get(fr)}catch(o){}this.controlClassService&&this.controlClassService.initControlClass(i,s.nativeElement),this.markControlService&&this.subscriptions.push(this.markControlService.touchedChange.subscribe(()=>{this.ngControl.control.markAsTouched(),this.ngControl.control.updateValueAndValidity()}))}get id(){return this._id}set id(t){this._id=t,this.controlIdService&&(this.controlIdService.id=t)}triggerValidation(){this.ifControlStateService&&(this.ngControl&&!this.ngControl.touched&&this.markControlService.markAsTouched(),this.ifControlStateService.triggerStatusChange())}getProviderFromContainer(t,e){try{return this._containerInjector.get(t,e)}catch(n){return e}}ngOnInit(){this._containerInjector=new rr(this.wrapperType,this.vcr,this.index),this.controlIdService=this._containerInjector.get(sr),this._id?this.controlIdService.id=this._id:this._id=this.controlIdService.id,this.ngControlService&&this.ngControlService.setControl(this.ngControl)}ngAfterViewInit(){this.listenForErrorStateChanges()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}listenForErrorStateChanges(){this.ifControlStateService&&this.subscriptions.push(this.ifControlStateService.statusChanges.pipe(Object(v.a)(ur.NONE),Object(f.a)(()=>this.renderer&&!!this.el),Object(y.a)()).subscribe(t=>this.setAriaDescribedBy(t)))}setAriaDescribedBy(t){this.renderer.setAttribute(this.el.nativeElement,"aria-describedby",this.getAriaDescribedById(t))}getAriaDescribedById(t){if(!this.controlIdService)return"";let e;switch(t){case ur.INVALID:e="-error";break;case ur.VALID:e="-success";break;default:e="-helper"}return this.controlIdService.id.concat(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.N),r.Lb(r.r),r.Lb(E.i),r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,hostVars:1,hostBindings:function(t,e){1&t&&r.Zb("blur",(function(){return e.triggerValidation()})),2&t&&r.Ub("id",e.id)},inputs:{id:"id"}}),t})(),pr=(()=>{class t{constructor(t,e,n,r,i){this.controlIdService=t,this.layoutService=e,this.ngControlService=n,this.renderer=r,this.el=i,this.subscriptions=[],this.enableGrid=!0}get labelText(){return this.el.nativeElement&&this.el.nativeElement.textContent}ngOnInit(){(this.controlIdService||this.ngControlService)&&this.renderer.addClass(this.el.nativeElement,"clr-control-label"),this.enableGrid&&this.layoutService&&!this.layoutService.isVertical()&&this.el.nativeElement&&this.el.nativeElement.className.indexOf("clr-col")<0&&(this.renderer.addClass(this.el.nativeElement,"clr-col-12"),this.renderer.addClass(this.el.nativeElement,"clr-col-md-"+this.layoutService.labelSize)),this.controlIdService&&!this.forAttr&&this.subscriptions.push(this.controlIdService.idChange.subscribe(t=>this.forAttr=t))}disableGrid(){this.enableGrid=!1}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(sr,8),r.Lb(cr,8),r.Lb(or,8),r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["label"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Ab("for",e.forAttr)},inputs:{forAttr:["for","forAttr"]}}),t})(),gr=(()=>{class t{constructor(t){this.controlIdService=t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(sr,8))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-control-success"]],hostVars:3,hostBindings:function(t,e){2&t&&(r.Ub("id",(null==e.controlIdService?null:e.controlIdService.id)+"-success"),r.Db("clr-subtext",!0))},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})(),br=(()=>{class t{constructor(t,e,n,r){this.ifControlStateService=t,this.layoutService=e,this.controlClassService=n,this.ngControlService=r,this.subscriptions=[],this._dynamic=!1,this.subscriptions.push(this.ifControlStateService.statusChanges.subscribe(t=>{this.state=t})),this.subscriptions.push(this.ngControlService.controlChanges.subscribe(t=>{this.control=t}))}get showHelper(){return this.state===ur.NONE||!this.showInvalid&&!this.controlSuccessComponent}get showValid(){return this.state===ur.VALID&&!!this.controlSuccessComponent}get showInvalid(){return this.state===ur.INVALID}controlClass(){return this.controlClassService.controlClass(this.controlSuccessComponent||this.state!==ur.VALID?this.state:ur.NONE,this.addGrid())}addGrid(){return this.layoutService&&!this.layoutService.isVertical()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(lr),r.Lb(cr,8),r.Lb(hr),r.Lb(or))},t.\u0275dir=r.Gb({type:t,contentQueries:function(t,e,n){var i;1&t&&(r.Eb(n,pr,!0),r.Eb(n,gr,!0)),2&t&&(r.mc(i=r.ac())&&(e.label=i.first),r.mc(i=r.ac())&&(e.controlSuccessComponent=i.first))}}),t})(),mr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n]]}),t})();const vr=new r.q("IS_TOGGLE"),yr={provide:vr,useFactory:function(){return new a.a(!1)}};let _r=(()=>{class t{constructor(t){this._dynamic=!1,this.toggle=!1,this.subscriptions=[],this.subscriptions.push(t.subscribe(t=>{this.toggle=t}))}ngOnInit(){this.label&&this.label.disableGrid()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(vr))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-checkbox-wrapper"],["clr-toggle-wrapper"]],contentQueries:function(t,e,n){var i;1&t&&r.vc(n,pr,!0),2&t&&r.mc(i=r.ac())&&(e.label=i.first)},hostVars:4,hostBindings:function(t,e){2&t&&r.Db("clr-checkbox-wrapper",!e.toggle)("clr-toggle-wrapper",e.toggle)},features:[r.yb([sr,yr])],ngContentSelectors:L,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(r.gc(k),r.fc(0),r.fc(1,1),r.Bc(2,x,1,0,"label",0)),2&t&&(r.zb(2),r.hc("ngIf",!e.label))},directives:[i.o,pr],encapsulation:2}),t})(),wr=(()=>{class t extends dr{constructor(t,e,n,r,i,s){super(t,_r,e,n,r,i),this.toggle=s}ngOnInit(){super.ngOnInit();const t=this.getProviderFromContainer(vr,null);t&&null!==this.toggle&&t.next(!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.r),r.Lb(E.i,10),r.Lb(r.E),r.Lb(r.l),r.Wb("clrToggle"))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrCheckbox",""],["","clrToggle",""]],features:[r.wb]}),t})(),Sr=(()=>{class t extends br{constructor(t,e,n,r){super(r,t,e,n),this.layoutService=t,this.controlClassService=e,this.ngControlService=n,this.ifControlStateService=r,this.inline=!1}set clrInline(t){this.inline="string"==typeof t?"false"!==t:!!t}get clrInline(){return this.inline}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(cr,8),r.Lb(hr),r.Lb(or),r.Lb(lr))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-checkbox-container"],["clr-toggle-container"]],hostVars:6,hostBindings:function(t,e){2&t&&r.Db("clr-form-control",!0)("clr-form-control-disabled",null==e.control?null:e.control.disabled)("clr-row",e.addGrid())},inputs:{clrInline:"clrInline"},features:[r.yb([lr,or,hr]),r.wb],ngContentSelectors:M,decls:10,vars:9,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-subtext-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(t,e){1&t&&(r.gc(F),r.fc(0),r.Bc(1,j,1,0,"label",0),r.Rb(2,"div",1),r.fc(3,1),r.Rb(4,"div",2),r.Bc(5,D,1,0,"ng-content",0),r.Bc(6,R,1,0,"clr-icon",3),r.Bc(7,N,1,0,"clr-icon",4),r.Bc(8,P,1,0,"ng-content",0),r.Bc(9,V,1,0,"ng-content",0),r.Qb(),r.Qb()),2&t&&(r.zb(1),r.hc("ngIf",!e.label&&e.addGrid()),r.zb(1),r.Db("clr-control-inline",e.clrInline),r.hc("ngClass",e.controlClass()),r.zb(3),r.hc("ngIf",e.showHelper),r.zb(1),r.hc("ngIf",e.showInvalid),r.zb(1),r.hc("ngIf",e.showValid),r.zb(1),r.hc("ngIf",e.showInvalid),r.zb(1),r.hc("ngIf",e.showValid))},directives:[i.o,i.m,pr,yn],encapsulation:2}),t})(),Er=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n,mr,nr],mr]}),t})(),Cr=0;const Or=new r.q("IF_ACTIVE_ID"),Ir={provide:Or,useFactory:function(){return++Cr}};let Tr=(()=>{class t{constructor(){this._currentChange=new s.a}get currentChange(){return this._currentChange.asObservable()}set current(t){this._current!==t&&(this._current=t,this._currentChange.next(t))}get current(){return this._current}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ar=(()=>{class t{constructor(t,e,n,i){this.ifActiveService=t,this.id=e,this.template=n,this.container=i,this.wasActive=!1,this.activeChange=new r.n(!1),this.checkAndUpdateView(t.current),this.subscription=this.ifActiveService.currentChange.subscribe(t=>{this.checkAndUpdateView(t)})}checkAndUpdateView(t){const e=t===this.id;e!==this.wasActive&&(this.updateView(e),this.activeChange.emit(e),this.wasActive=e)}set active(t){t&&(this.ifActiveService.current=this.id)}get active(){return this.ifActiveService.current===this.id}updateView(t){t?this.container.createEmbeddedView(this.template):this.container.clear()}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Tr),r.Lb(Or),r.Lb(r.L),r.Lb(r.Q))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrIfActive",""]],inputs:{active:["clrIfActive","active"]},outputs:{activeChange:"clrIfActiveChange"}}),t})(),xr=(()=>{class t{constructor(t,e,n){this.toggleService=t,this.template=e,this.container=n,this.openChange=new r.n(!1),this.subscription=this.toggleService.openChange.subscribe(t=>{this.updateView(t),this.openChange.emit(t)})}set open(t){this.toggleService.open=t}get open(){return this.toggleService.open}updateView(t){t?this.container.createEmbeddedView(this.template):this.container.clear()}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(On),r.Lb(r.L),r.Lb(r.Q))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrIfOpen",""]],inputs:{open:["clrIfOpen","open"]},outputs:{openChange:"clrIfOpenChange"}}),t})(),kr=(()=>{class t{constructor(){this.expandable=0,this._loading=!1,this._expanded=!1,this._expandChange=new s.a}get loading(){return this._loading}set loading(t){(t=!!t)!==this._loading&&(this._loading=t)}get expanded(){return this._expanded}set expanded(t){(t=!!t)!==this._expanded&&(this._expanded=t,this._expandChange.next(t))}toggle(){this.expanded=!this._expanded}get expandChange(){return this._expandChange.asObservable()}loadingStateChange(t){switch(t){case Hn.LOADING:this.loading=!0;break;default:this.loading=!1}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Lr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})(),jr=(()=>{class t{constructor(){this._previousFocusTraps=[]}get current(){return this._current}set current(t){this._previousFocusTraps.push(this._current),this._current=t}get nbFocusTrappers(){return this._previousFocusTraps.length}activatePreviousTrapper(){this._current=this._previousFocusTraps.pop()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Dr=(()=>{class t{constructor(t,e,n,r,s){this.el=t,this.injector=e,this.focusTrapsTracker=n,this.renderer=r,this.platformId=s,this.localFocusEscaped=!1,this._config={strict:!0},this.document=this.injector.get(i.d),this.focusTrapsTracker.current=this}set config(t){this._config=Object.assign(this._config,t)}onFocusIn(t){const e=this.el.nativeElement;this.focusTrapsTracker.current!==this||!Object(i.B)(this.platformId)||this.localFocusEscaped||e.contains(t.target)||(t.target===this.topReboundEl&&e.contains(t.relatedTarget)?(this.focusLastFocusable(),this.focusTrapElIfOutside()):t.target===this.bottomReboundEl&&e.contains(t.relatedTarget)?(this.focusFirstFocusable(),this.focusTrapElIfOutside()):this._config.strict?this.el.nativeElement.focus():this.localFocusEscaped=!0)}createFocusableOffScreenEl(){const t=this.document.createElement("span");return this.renderer.setAttribute(t,"tabindex","0"),this.renderer.addClass(t,"offscreen-focus-rebounder"),t}addReboundEls(){if(Object(i.B)(this.platformId)){this.topReboundEl=this.createFocusableOffScreenEl(),this.bottomReboundEl=this.createFocusableOffScreenEl();const t=this.el.nativeElement;this.renderer.insertBefore(t.parentElement,this.topReboundEl,t),t.nextSibling?this.renderer.insertBefore(t.parentNode,this.bottomReboundEl,t.nextSibling):this.renderer.appendChild(t.parentNode,this.bottomReboundEl)}}removeReboundEls(){Object(i.B)(this.platformId)&&this.topReboundEl&&this.bottomReboundEl&&(this.parentElement.removeChild(this.topReboundEl),this.parentElement.removeChild(this.bottomReboundEl),delete this.topReboundEl,delete this.bottomReboundEl)}setPreviousFocus(){this.previousActiveElement&&this.previousActiveElement.focus&&this.previousActiveElement.focus()}ngOnInit(){Object(i.B)(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.el.nativeElement.focus())}ngAfterViewInit(){Object(i.B)(this.platformId)&&(this.previousActiveElement=this.document.activeElement,this.parentElement=this.el.nativeElement.parentElement),this.addReboundEls()}get potentiallyFocusableEls(){return[...this.el.nativeElement.querySelectorAll('[href]:not([tabindex="-1"]), button:not([disabled]):not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"]), select:not([disabled]):not([tabindex="-1"]), textarea:not([disabled]):not([tabindex="-1"]), [contenteditable="true"]:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"]) ')]}focusFirstFocusable(){for(let t=0;t<this.potentiallyFocusableEls.length&&(this.firstFocusableEl=this.focusElement(this.potentiallyFocusableEls[t]),!this.firstFocusableEl);t++);}focusLastFocusable(){for(let t=this.potentiallyFocusableEls.length-1;t>=0&&(this.lastFocusableEl=this.focusElement(this.potentiallyFocusableEls[t]),!this.lastFocusableEl);t--);}focusTrapElIfOutside(){this.el.nativeElement.contains(document.activeElement)||this.el.nativeElement.focus()}focusElement(t){if(t&&t.focus&&(t.focus(),document.activeElement===t))return t}ngOnDestroy(){this.removeReboundEls(),this.setPreviousFocus(),this.focusTrapsTracker.activatePreviousTrapper()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.r),r.Lb(jr),r.Lb(r.E),r.Lb(r.B))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrFocusTrap",""]],hostBindings:function(t,e){1&t&&r.Zb("focusin",(function(t){return e.onFocusIn(t)}),!1,r.pc)},inputs:{config:["clrFocusTrap","config"]}}),t})(),Rr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();function Nr(t){return null!==t&&("string"==typeof t?t.length>=0:"boolean"==typeof t&&t)}let Pr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,nr,Lr,zn,_n,Rr,mr]]}),t})(),Vr=(()=>{class t extends br{}return t.\u0275fac=function(e){return Fr(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-input-container"]],hostVars:6,hostBindings:function(t,e){2&t&&r.Db("clr-form-control",!0)("clr-form-control-disabled",null==e.control?null:e.control.disabled)("clr-row",e.addGrid())},features:[r.yb([lr,or,sr,hr]),r.wb],ngContentSelectors:W,decls:10,vars:7,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[1,"clr-input-wrapper"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(t,e){1&t&&(r.gc(Q),r.fc(0),r.Bc(1,B,1,0,"label",0),r.Rb(2,"div",1),r.Rb(3,"div",2),r.fc(4,1),r.Bc(5,z,1,0,"clr-icon",3),r.Bc(6,U,1,0,"clr-icon",4),r.Qb(),r.Bc(7,H,1,0,"ng-content",0),r.Bc(8,G,1,0,"ng-content",0),r.Bc(9,q,1,0,"ng-content",0),r.Qb()),2&t&&(r.zb(1),r.hc("ngIf",!e.label&&e.addGrid()),r.zb(1),r.hc("ngClass",e.controlClass()),r.zb(3),r.hc("ngIf",e.showInvalid),r.zb(1),r.hc("ngIf",e.showValid),r.zb(1),r.hc("ngIf",e.showHelper),r.zb(1),r.hc("ngIf",e.showInvalid),r.zb(1),r.hc("ngIf",e.showValid))},directives:[i.o,i.m,pr,yn],encapsulation:2}),t})();const Fr=r.Tb(Vr);let Mr=(()=>{class t extends dr{constructor(t,e,n,r,i){super(t,Vr,e,n,r,i),this.index=1}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.r),r.Lb(E.i,10),r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrInput",""]],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("clr-input",!0)},features:[r.wb]}),t})(),Br=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,E.g,_n,mr],mr]}),t})(),zr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,E.g,_n,mr],mr]}),t})(),Ur=(()=>{class t{constructor(){this._dynamic=!1}ngOnInit(){this.label&&this.label.disableGrid()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-radio-wrapper"]],contentQueries:function(t,e,n){var i;1&t&&r.vc(n,pr,!0),2&t&&r.mc(i=r.ac())&&(e.label=i.first)},hostVars:2,hostBindings:function(t,e){2&t&&r.Db("clr-radio-wrapper",!0)},features:[r.yb([sr])],ngContentSelectors:Z,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(r.gc(K),r.fc(0),r.fc(1,1),r.Bc(2,$,1,0,"label",0)),2&t&&(r.zb(2),r.hc("ngIf",!e.label))},directives:[i.o,pr],encapsulation:2}),t})(),Hr=(()=>{class t extends dr{constructor(t,e,n,r,i){super(t,Ur,e,n,r,i)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.r),r.Lb(E.i,10),r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrRadio",""]],features:[r.wb]}),t})(),Gr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,mr,nr,_n],mr]}),t})(),qr=(()=>{class t extends br{constructor(t,e,n,r){super(r,t,e,n),this.layoutService=t,this.controlClassService=e,this.ngControlService=n,this.ifControlStateService=r,this.multi=!1}ngOnInit(){this.subscriptions.push(this.ngControlService.controlChanges.subscribe(t=>{t&&(this.multi=t.valueAccessor instanceof E.r,this.control=t)}))}wrapperClass(){return this.multi?"clr-multiselect-wrapper":"clr-select-wrapper"}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(cr,8),r.Lb(hr),r.Lb(or),r.Lb(lr))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-select-container"]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,E.r,!0),2&t&&r.mc(i=r.ac())&&(e.multiple=i.first)},hostVars:6,hostBindings:function(t,e){2&t&&r.Db("clr-form-control",!0)("clr-form-control-disabled",null==e.control?null:e.control.disabled)("clr-row",e.addGrid())},features:[r.yb([lr,or,sr,hr]),r.wb],ngContentSelectors:it,decls:10,vars:8,consts:[[4,"ngIf"],[1,"clr-control-container",3,"ngClass"],[3,"ngClass"],["class","clr-validate-icon","shape","exclamation-circle","aria-hidden","true",4,"ngIf"],["class","clr-validate-icon","shape","check-circle","aria-hidden","true",4,"ngIf"],["shape","exclamation-circle","aria-hidden","true",1,"clr-validate-icon"],["shape","check-circle","aria-hidden","true",1,"clr-validate-icon"]],template:function(t,e){1&t&&(r.gc(rt),r.fc(0),r.Bc(1,J,1,0,"label",0),r.Rb(2,"div",1),r.Rb(3,"div",2),r.fc(4,1),r.Bc(5,Y,1,0,"clr-icon",3),r.Bc(6,X,1,0,"clr-icon",4),r.Qb(),r.Bc(7,tt,1,0,"ng-content",0),r.Bc(8,et,1,0,"ng-content",0),r.Bc(9,nt,1,0,"ng-content",0),r.Qb()),2&t&&(r.zb(1),r.hc("ngIf",!e.label&&e.addGrid()),r.zb(1),r.hc("ngClass",e.controlClass()),r.zb(1),r.hc("ngClass",e.wrapperClass()),r.zb(2),r.hc("ngIf",e.showInvalid),r.zb(1),r.hc("ngIf",e.showValid),r.zb(1),r.hc("ngIf",e.showHelper),r.zb(1),r.hc("ngIf",e.showInvalid),r.zb(1),r.hc("ngIf",e.showValid))},directives:[i.o,i.m,pr,yn],encapsulation:2}),t})(),Qr=(()=>{class t extends dr{constructor(t,e,n,r,i){super(t,qr,e,n,r,i),this.index=1}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.r),r.Lb(E.i,10),r.Lb(r.E),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrSelect",""]],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("clr-select",!0)},features:[r.wb]}),t})(),Wr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,E.g,_n,mr],mr]}),t})(),$r=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,E.g,_n,mr],mr]}),t})(),Kr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,mr,nr,_n],mr]}),t})(),Zr=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,Br,_n]]}),t})();class Jr{}function Yr(t){return[Kn,t,{provide:Jr,useExisting:t}]}var Xr=function(t){return t.UP="up",t.DOWN="down",t.LEFT="left",t.RIGHT="right",t}({});const ti=new r.q("POPOVER_HOST_ANCHOR");let ei=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ni=(()=>{class t{constructor(t){this.renderer=t,this._unlistenFuncs=[]}get current(){return this._current}reset(t){this._current=t}listenToArrowKeys(t){this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowup",()=>!this.move(Xr.UP))),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowdown",()=>!this.move(Xr.DOWN))),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowleft",()=>!this.move(Xr.LEFT))),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowright",()=>!this.move(Xr.RIGHT)))}registerContainer(t){this.renderer.setAttribute(t,"tabindex","0"),this.listenToArrowKeys(t),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.space",()=>!this.activateCurrent())),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.enter",()=>!this.activateCurrent()))}moveTo(t){void 0!==t&&(this.current&&this.current.blur(),t.focus(),this._current=t)}move(t){let e=!1;if(this.current){const r=this.current[t];r&&(n=r,n&&(n instanceof l.a||"function"==typeof n.lift&&"function"==typeof n.subscribe)?r:Object(c.a)(r)).subscribe(t=>{t&&(this.moveTo(t),e=!0)})}var n;return e}activateCurrent(){return!(!this.current||!this.current.activate||(this.current.activate(),0))}detachListeners(){this._unlistenFuncs.forEach(t=>t())}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.E))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ri={provide:ni,useFactory:function(t,e){return t||new ni(e)},deps:[[new r.A,new r.J,ni],r.E]};let ii=(()=>{class t{get spinnerClass(){return!0}get inlineClass(){return this._inline}set clrInline(t){this._inline=Nr(t)}get inverseClass(){return this._inverse}set clrInverse(t){this._inverse=Nr(t)}get smallClass(){return this._small}set clrSmall(t){this._small=Nr(t)}get mediumClass(){return!this._small&&this._medium}set clrMedium(t){this._medium=Nr(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-spinner"]],hostVars:11,hostBindings:function(t,e){2&t&&(r.Ab("aria-busy",!0),r.Db("spinner",e.spinnerClass)("spinner-inline",e.inlineClass)("spinner-inverse",e.inverseClass)("spinner-sm",e.smallClass)("spinner-md",e.mediumClass))},inputs:{clrInline:"clrInline",clrInverse:"clrInverse",clrSmall:"clrSmall",clrMedium:"clrMedium"},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})(),si=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();var oi=function(t){return t.VERTICAL="vertical",t.HORIZONTAL="horizontal",t.BOTH="both",t}({});let ai=(()=>{class t{constructor(t,e){this.elementRef=t,this.platformId=e}get nativeElement(){return this.elementRef.nativeElement}focus(){Object(i.B)(this.platformId)&&this.elementRef.nativeElement.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.B))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrKeyFocusItem",""]]}),t})(),ci=(()=>{class t{constructor(t){this.elementRef=t,this.direction=oi.VERTICAL,this.focusOnLoad=!1,this.focusChange=new r.n,this._current=0,this.subscriptions=[]}set focusableItems(t){t&&t.length&&(this._focusableItems=t,this.initializeFocus())}get focusableItems(){return this._focusableItems?this._focusableItems:this.clrKeyFocusItems?this.clrKeyFocusItems.toArray():[]}get nativeElement(){return this.elementRef.nativeElement}get current(){return this._current}set current(t){this._current!==t&&(this._current=t)}get currentItem(){return this.focusableItems[this._current]}get currentItemElement(){return this.currentItem.nativeElement?this.currentItem.nativeElement:this.currentItem}focusCurrent(){this.currentItem.focus(),this.focusChange.next(this._current)}moveTo(t){this.positionInRange(t)&&(this.current=t,this.focusCurrent())}ngAfterContentInit(){this.subscriptions.push(this.listenForItemUpdates()),this.initializeFocus()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}handleKeyboardEvent(t){if(this.currentItemElement!==t.target){const e=this.getItemPosition(t.target);this.positionInRange(e)&&(this.current=e)}this.prevKeyPressed(t)&&this.currentFocusIsNotFirstItem()?this.moveTo(this.current-1):this.nextKeyPressed(t)&&this.currentFocusIsNotLastItem()?this.moveTo(this.current+1):t.code===wn.Home?this.moveTo(0):t.code===wn.End&&this.moveTo(this.focusableItems.length-1),Cn(t)}setClickedItemCurrent(t){const e=this.getItemPosition(t.target);e>-1&&this.moveTo(e)}getItemPosition(t){return this._focusableItems?this.focusableItems.indexOf(t):this.focusableItems.map(t=>t.nativeElement).indexOf(t)}positionInRange(t){return t>=0&&t<this.focusableItems.length}currentFocusIsNotFirstItem(){return this._current-1>=0}currentFocusIsNotLastItem(){return this._current+1<this.focusableItems.length}initializeFocus(){this.focusableItems&&this.focusableItems.length&&(this._current>=this.focusableItems.length&&(this._current=this.focusableItems.length-1),this.focusOnLoad&&(this.currentItem.focus(),this.focusChange.next()))}listenForItemUpdates(){return this.clrKeyFocusItems.changes.subscribe(()=>{this.initializeFocus()})}nextKeyPressed(t){const e=En(t.key);switch(this.direction){case oi.VERTICAL:return e===wn.ArrowDown;case oi.HORIZONTAL:return e===wn.ArrowRight;case oi.BOTH:return e===wn.ArrowDown||e===wn.ArrowRight;default:return!1}}prevKeyPressed(t){const e=En(t.key);switch(this.direction){case oi.VERTICAL:return e===wn.ArrowUp;case oi.HORIZONTAL:return e===wn.ArrowLeft;case oi.BOTH:return e===wn.ArrowUp||e===wn.ArrowLeft;default:return!1}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l))},t.\u0275cmp=r.Fb({type:t,selectors:[["","clrKeyFocus",""]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,ai,!0),2&t&&r.mc(i=r.ac())&&(e.clrKeyFocusItems=i)},hostBindings:function(t,e){1&t&&r.Zb("keydown",(function(t){return e.handleKeyboardEvent(t)}))("click",(function(t){return e.setClickedItemCurrent(t)}))},inputs:{direction:["clrDirection","direction"],focusOnLoad:["clrFocusOnLoad","focusOnLoad"],focusableItems:["clrKeyFocus","focusableItems"]},outputs:{focusChange:"clrFocusChange"},attrs:st,ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})(),ui=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})(),li=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,E.g,_n,ui,mr,Lr,zn,si],mr,Lr]}),t})(),hi=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c],mr,Er,li,Pr,Br,zr,Gr,Wr,$r,Kr,Zr]}),t})(),fi=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})(),di=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})(),pi=(()=>{class t{userDefinedWidth(t){t.classList.add("datagrid-cell-width-zero");const e=this.clientRect(t).width;return t.classList.remove("datagrid-cell-width-zero"),e}scrollBarWidth(t){return t.offsetWidth-t.clientWidth}scrollWidth(t){return t.scrollWidth||0}computedHeight(t){return parseInt(getComputedStyle(t).getPropertyValue("height"),10)}clientRect(t){const e=t.getBoundingClientRect();return{top:parseInt(e.top,10),bottom:parseInt(e.bottom,10),left:parseInt(e.left,10),right:parseInt(e.right,10),width:parseInt(e.width,10),height:parseInt(e.height,10)}}minWidth(t){return parseInt(getComputedStyle(t).getPropertyValue("min-width"),10)}focus(t){t.focus()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class gi{constructor(t){this.dragPosition=t.dragPosition,this.group=t.group,this.dragDataTransfer=t.dragDataTransfer,this.dropPointPosition=t.dropPointPosition}}var bi=function(t){return t[t.DRAG_START=0]="DRAG_START",t[t.DRAG_MOVE=1]="DRAG_MOVE",t[t.DRAG_END=2]="DRAG_END",t[t.DRAG_ENTER=3]="DRAG_ENTER",t[t.DRAG_LEAVE=4]="DRAG_LEAVE",t[t.DROP=5]="DROP",t}({});let mi=(()=>{class t{constructor(){this.dragStart=new s.a,this.dragMove=new s.a,this.dragEnd=new s.a,this.drop=new s.a}get dragStarted(){return this.dragStart.asObservable()}get dragMoved(){return this.dragMove.asObservable()}get dragEnded(){return this.dragEnd.asObservable()}get dropped(){return this.drop.asObservable()}broadcast(t){switch(t.type){case bi.DRAG_START:this.dragStart.next(t);break;case bi.DRAG_MOVE:this.dragMove.next(t);break;case bi.DRAG_END:this.dragEnd.next(t);break;case bi.DROP:this.drop.next(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),vi=(()=>{class t{constructor(t,e,n){this.ngZone=t,this.renderer=e,this.eventBus=n,this.listeners=[],this.dragStart=new s.a,this.dragMove=new s.a,this.dragEnd=new s.a,this.hasDragStarted=!1,this.dragStartDelay=0}get dragStarted(){return this.dragStart.asObservable()}get dragMoved(){return this.dragMove.asObservable()}get dragEnded(){return this.dragEnd.asObservable()}get dragStartPosition(){return this.initialPosition}attachDragListeners(t){this.draggableEl=t,this.listeners.push(this.customDragEvent(this.draggableEl,"mousedown","mousemove","mouseup")),this.listeners.push(this.customDragEvent(this.draggableEl,"touchstart","touchmove","touchend"))}detachDragListeners(){this.listeners&&this.listeners.map(t=>t()),this.nestedListeners&&this.nestedListeners.map(t=>t()),this.checkDragStartBoundaryListener&&this.checkDragStartBoundaryListener()}getNativeEventObject(t){return t.hasOwnProperty("changedTouches")?t.changedTouches[0]:t}customDragEvent(t,e,n,r){return this.renderer.listen(t,e,t=>{this.initialPosition={pageX:this.getNativeEventObject(t).pageX,pageY:this.getNativeEventObject(t).pageY},this.nestedListeners=[],this.nestedListeners.push(this.renderer.listen("document","selectstart",t=>{t.preventDefault(),t.stopImmediatePropagation()})),this.ngZone.runOutsideAngular(()=>{this.checkDragStartBoundary(n),this.dragStartDelayTimeout=setTimeout(()=>{this.checkDragStartBoundaryListener&&this.checkDragStartBoundaryListener(),this.hasDragStarted=!0,this.broadcast(t,bi.DRAG_START),this.nestedListeners.push(this.renderer.listen("document",n,t=>{t.stopImmediatePropagation(),this.hasDragStarted&&this.broadcast(t,bi.DRAG_MOVE)}))},this.dragStartDelay)}),this.nestedListeners.push(this.renderer.listen("document",r,t=>{this.hasDragStarted&&(this.hasDragStarted=!1,this.broadcast(t,bi.DRAG_END)),clearTimeout(this.dragStartDelayTimeout),this.nestedListeners.map(t=>t()),this.checkDragStartBoundaryListener&&this.checkDragStartBoundaryListener()}))})}checkDragStartBoundary(t){this.checkDragStartBoundaryListener=this.renderer.listen("document",t,t=>{const e=Math.abs(this.getNativeEventObject(t).pageX-this.initialPosition.pageX),n=Math.abs(this.getNativeEventObject(t).pageY-this.initialPosition.pageY);(e>1||n>1)&&(clearTimeout(this.dragStartDelayTimeout),this.checkDragStartBoundaryListener&&this.checkDragStartBoundaryListener())})}broadcast(t,e){const n=this.generateDragEvent(t,e);switch(n.type){case bi.DRAG_START:this.dragStart.next(n);break;case bi.DRAG_MOVE:this.dragMove.next(n);break;case bi.DRAG_END:this.dragEnd.next(n)}n.ghostElement=this.ghostElement,n.dropPointPosition=this.dropPointPosition,this.eventBus.broadcast(n)}generateDragEvent(t,e){const n=this.getNativeEventObject(t);return{type:e,dragPosition:{pageX:n.pageX,pageY:n.pageY,moveX:n.pageX-this.initialPosition.pageX,moveY:n.pageY-this.initialPosition.pageY},group:this.group,dragDataTransfer:this.dragDataTransfer,ghostElement:this.ghostElement}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.z),r.Vb(r.E),r.Vb(mi))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),yi=(()=>{class t{constructor(t){this.domAdapter=t}capture(t,e){this.draggableElClientRect=this.domAdapter.clientRect(t),this.snapshotDragEvent=e}discard(){delete this.draggableElClientRect,delete this.snapshotDragEvent}get hasDraggableState(){return!!this.snapshotDragEvent&&!!this.draggableElClientRect}get clientRect(){return this.draggableElClientRect}get dragEvent(){return this.snapshotDragEvent}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(pi))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),_i=(()=>{class t{constructor(t,e,n,r,i){if(this.el=t,this.dragEventListener=e,this.draggableSnapshot=n,this.renderer=r,this.ngZone=i,this.subscriptions=[],this.leaveAnimConfig={value:0,params:{top:"0px",left:"0px"}},!this.dragEventListener||!this.draggableSnapshot)throw new Error("The clr-draggable-ghost component can only be used inside of a clrDraggable directive.");this.draggableGhostEl=this.el.nativeElement,this.renderer.addClass(this.draggableGhostEl,"draggable-ghost"),this.dragEventListener.ghostElement=this.draggableGhostEl,this.setDefaultGhostSize(this.draggableGhostEl);const s={top:this.draggableSnapshot.hasDraggableState?this.draggableSnapshot.dragEvent.dragPosition.pageY-this.draggableSnapshot.clientRect.top:0,left:this.draggableSnapshot.hasDraggableState?this.draggableSnapshot.dragEvent.dragPosition.pageX-this.draggableSnapshot.clientRect.left:0};let o=!1;this.subscriptions.push(this.dragEventListener.dragMoved.subscribe(t=>{o||(this.draggableSnapshot.hasDraggableState?this.animateToOnLeave(this.draggableSnapshot.clientRect.top+"px",this.draggableSnapshot.clientRect.left+"px"):this.animateToOnLeave(this.dragEventListener.dragStartPosition.pageY+"px",this.dragEventListener.dragStartPosition.pageY+"px"),o=!0);const e=this.findTopLeftPosition(t.dragPosition,s);this.setPositionStyle(this.draggableGhostEl,e.pageX,e.pageY),this.dragEventListener.dropPointPosition=this.findDropPointPosition(e)}))}setDefaultGhostSize(t){this.draggableSnapshot.hasDraggableState&&this.setSizeStyle(t,this.draggableSnapshot.clientRect.width,this.draggableSnapshot.clientRect.height)}animateToOnLeave(t,e){this.ngZone.run(()=>{this.leaveAnimConfig={value:0,params:{top:t,left:e}}})}findTopLeftPosition(t,e){return{pageX:t.pageX-e.left,pageY:t.pageY-e.top}}findDropPointPosition(t){return this.draggableSnapshot.hasDraggableState?{pageX:t.pageX+this.draggableSnapshot.clientRect.width/2,pageY:t.pageY+this.draggableSnapshot.clientRect.height/2}:t}setSizeStyle(t,e,n){this.renderer.setStyle(t,"width",e+"px"),this.renderer.setStyle(t,"height",n+"px")}setPositionStyle(t,e,n){this.renderer.setStyle(t,"left",e+"px"),this.renderer.setStyle(t,"top",n+"px"),this.renderer.setStyle(t,"visibility","visible")}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(vi,8),r.Lb(yi,8),r.Lb(r.E),r.Lb(r.z))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-draggable-ghost"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Ac("@leaveAnimation",e.leaveAnimConfig)},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2,data:{animation:[Object(S.k)("leaveAnimation",[Object(S.j)(":leave",[Object(S.i)({left:"*",top:"*"}),Object(S.e)("0.2s ease-in-out",Object(S.i)({top:"{{top}}",left:"{{left}}"}))])])]}}),t})(),wi=(()=>{class t{constructor(t,e,n){if(this.template=t,this.container=e,this.dragEventListener=n,this.subscriptions=[],!this.dragEventListener||!this.container)throw new Error("The *clrIfDragged directive can only be used inside of a clrDraggable directive.");this.subscriptions.push(this.dragEventListener.dragStarted.subscribe(()=>{this.container.createEmbeddedView(this.template)})),this.subscriptions.push(this.dragEventListener.dragEnded.subscribe(()=>{this.container.clear()}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.L),r.Lb(r.Q,12),r.Lb(vi,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrIfDragged",""]]}),t})(),Si=(()=>{class t{constructor(t,e){this.dragEventListener=t,this.renderer=e}get defaultHandleEl(){return this._defaultHandleEl}set defaultHandleEl(t){this._defaultHandleEl=t,this._customHandleEl||this.makeElementHandle(this._defaultHandleEl)}makeElementHandle(t){this._defaultHandleEl&&this._defaultHandleEl!==t&&this.renderer.removeClass(this._defaultHandleEl,"drag-handle"),this.dragEventListener.attachDragListeners(t),this.renderer.addClass(t,"drag-handle")}get customHandleEl(){return this._customHandleEl}registerCustomHandle(t){this.dragEventListener.detachDragListeners(),this._customHandleEl=t,this.makeElementHandle(this._customHandleEl)}unregisterCustomHandle(){this.dragEventListener.detachDragListeners(),this.renderer.removeClass(this._customHandleEl,"drag-handle"),delete this._customHandleEl,this._defaultHandleEl&&this.makeElementHandle(this._defaultHandleEl)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(vi),r.Vb(r.E))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ei=(()=>{class t{constructor(t){this.renderer=t}enter(){this.renderer.addClass(document.body,"in-drag")}exit(){this.renderer.removeClass(document.body,"in-drag")}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.E))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ci=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.el=t,this.dragEventListener=e,this.dragHandleRegistrar=n,this.viewContainerRef=i,this.cfr=s,this.injector=o,this.draggableSnapshot=a,this.globalDragMode=c,this.subscriptions=[],this.dragOn=!1,this.dragStartEmitter=new r.n,this.dragMoveEmitter=new r.n,this.dragEndEmitter=new r.n,this.draggableEl=this.el.nativeElement,this.componentFactory=this.cfr.resolveComponentFactory(_i)}set dataTransfer(t){this.dragEventListener.dragDataTransfer=t}set group(t){this.dragEventListener.group=t}set dragStartDelay(t){"number"==typeof t?this.dragEventListener.dragStartDelay=t:"string"==typeof t&&(this.dragEventListener.dragStartDelay=parseInt(t,10)||0)}createDefaultGhost(t){this.draggableSnapshot.capture(this.draggableEl,t),this.viewContainerRef.createComponent(this.componentFactory,0,this.injector,[[this.draggableEl.cloneNode(!0)]])}destroyDefaultGhost(){this.viewContainerRef.clear(),this.draggableSnapshot.discard()}ngAfterContentInit(){this.dragHandleRegistrar.defaultHandleEl=this.draggableEl,this.subscriptions.push(this.dragEventListener.dragStarted.subscribe(t=>{this.globalDragMode.enter(),this.dragOn=!0,this.customGhost||this.createDefaultGhost(t),this.dragStartEmitter.emit(new gi(t))})),this.subscriptions.push(this.dragEventListener.dragMoved.subscribe(t=>{this.dragMoveEmitter.emit(new gi(t))})),this.subscriptions.push(this.dragEventListener.dragEnded.subscribe(t=>{this.globalDragMode.exit(),this.dragOn=!1,this.customGhost||this.destroyDefaultGhost(),this.dragEndEmitter.emit(new gi(t))}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.dragEventListener.detachDragListeners()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(vi),r.Lb(Si),r.Lb(r.Q),r.Lb(r.j),r.Lb(r.r),r.Lb(yi),r.Lb(Ei))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrDraggable",""]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,wi,!0),2&t&&r.mc(i=r.ac())&&(e.customGhost=i.first)},hostVars:4,hostBindings:function(t,e){2&t&&r.Db("draggable",!0)("being-dragged",e.dragOn)},inputs:{dataTransfer:["clrDraggable","dataTransfer"],group:["clrGroup","group"],dragStartDelay:["clrDragStartDelay","dragStartDelay"]},outputs:{dragStartEmitter:"clrDragStart",dragMoveEmitter:"clrDragMove",dragEndEmitter:"clrDragEnd"},features:[r.yb([vi,Si,yi,Ei,pi])]}),t})(),Oi=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})(),Ii=(()=>{class t{constructor(t,e){this.element=t,this.domAdapter=e,this.startHeight=0}get expandAnimation(){return{value:this.clrExpandTrigger,params:{startHeight:this.startHeight}}}animationDone(){this.updateStartHeight()}updateStartHeight(){this.startHeight=this.domAdapter.computedHeight(this.element.nativeElement)||0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(pi))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-expandable-animation"]],hostVars:1,hostBindings:function(t,e){1&t&&r.zc("@expandAnimation.done",(function(){return e.animationDone()})),2&t&&r.Ac("@expandAnimation",e.expandAnimation)},inputs:{clrExpandTrigger:"clrExpandTrigger"},features:[r.yb([pi])],ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},styles:["[_nghost-%COMP%] {\n        display: block;\n      }"],data:{animation:[Object(S.k)("expandAnimation",[Object(S.j)("true <=> false",[Object(S.i)({height:"{{startHeight}}px",overflow:"hidden"}),Object(S.e)("0.2s ease-in-out",Object(S.i)({height:"*"}))])])]}}),t})(),Ti=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();const Ai=new r.q("FOCUS_ON_VIEW_INIT"),xi={provide:Ai,useValue:!0};let ki=(()=>{class t{constructor(t,e,n,r,i){this.el=t,this.platformId=e,this.focusOnViewInit=n,this.renderer=i,this.directFocus=!0,this._isEnabled=this.focusOnViewInit,this.document=r}onFocusout(){this.directFocus||(this.renderer.removeAttribute(this.el.nativeElement,"tabindex"),this.renderer.setStyle(this.el.nativeElement,"outline",null))}set isEnabled(t){this.focusOnViewInit&&"boolean"==typeof t&&(this._isEnabled=t)}ngAfterViewInit(){this.focus()}focus(){Object(i.B)(this.platformId)&&this._isEnabled&&this.document&&this.document.activeElement!==this.el.nativeElement&&(this.el.nativeElement.focus(),this.document.activeElement!==this.el.nativeElement&&(this.directFocus=!1,this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.renderer.setStyle(this.el.nativeElement,"outline","none"),this.el.nativeElement.focus()))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.B),r.Lb(Ai),r.Lb(i.d),r.Lb(r.E))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrFocusOnViewInit",""]],hostBindings:function(t,e){1&t&&r.Zb("focusout",(function(){return e.onFocusout()}))},inputs:{isEnabled:["clrFocusOnViewInit","isEnabled"]}}),t})(),Li=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[xi],imports:[[i.c]]}),t})();class ji{}let Di=(()=>{class t{constructor(){this._change=new s.a,this.nbChanges=0}get change(){return this._change.asObservable()}changeStart(){this.nbChanges++}changeDone(){0==--this.nbChanges&&this._change.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ri=(()=>{class t{constructor(t){this.stateDebouncer=t,this.preventEmit=!1,this.activated=!1,this._size=0,this._change=new s.a,this._sizeChange=new s.a,this._current=1}get size(){return this._size}set size(t){const e=this._size;t!==e&&(this.preventEmit||this.stateDebouncer.changeStart(),this._size=t,this._current=0===t?1:Math.floor(e/t*(this._current-1))+1,this.preventEmit||(this._change.next(this._current),this._sizeChange.next(this._size),this.stateDebouncer.changeDone())),this.preventEmit=!1}get totalItems(){return this._totalItems||0}set totalItems(t){this._totalItems=t,this.current>this.last&&(this.current=this.last)}get last(){return this._last?this._last:this.size>0&&this.totalItems?Math.ceil(this.totalItems/this.size):1}set last(t){this._last=t}get change(){return this._change.asObservable()}get sizeChange(){return this._sizeChange.asObservable()}get current(){return this._current}set current(t){t!==this._current&&(this.stateDebouncer.changeStart(),this._current=t,this._change.next(t),this.stateDebouncer.changeDone())}previous(){this.current>1&&this.current--}next(){this.current<this.last&&this.current++}get firstItem(){return 0===this._totalItems?-1:0===this.size?0:(this.current-1)*this.size}get lastItem(){if(0===this._totalItems)return-1;if(0===this.size)return this.totalItems-1;let t=this.current*this.size-1;return this.totalItems&&(t=Math.min(t,this.totalItems-1)),t}resetPageSize(t=!1){this.preventEmit=t,this.size=0}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Di))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ni=(()=>{class t{constructor(t,e){this._page=t,this.stateDebouncer=e,this._change=new s.a,this._all=[]}get change(){return this._change.asObservable()}hasActiveFilters(){for(const{filter:t}of this._all)if(t&&t.isActive())return!0;return!1}getActiveFilters(){const t=[];for(const{filter:e}of this._all)e&&e.isActive()&&t.push(e);return t}add(t){const e=t.changes.subscribe(()=>this.resetPageAndEmitFilterChange([t]));let n=!1;const r=new Pi(t,()=>{if(n)return;e.unsubscribe();const r=this._all.findIndex(e=>e.filter===t);r>=0&&this._all.splice(r,1),t.isActive()&&this.resetPageAndEmitFilterChange([]),n=!0});return this._all.push(r),t.isActive()&&this.resetPageAndEmitFilterChange([t]),r}accepts(t){for(const{filter:e}of this._all)if(e&&e.isActive()&&!e.accepts(t))return!1;return!0}resetPageAndEmitFilterChange(t){this.stateDebouncer.changeStart(),this._page.current=1,this._change.next(t),this.stateDebouncer.changeDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Ri),r.Vb(Di))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Pi{constructor(t,e){this.filter=t,this.unregister=e}}let Vi=(()=>{class t{constructor(t){this.filters=t}get filter(){return this.registered&&this.registered.filter}setFilter(t){this.deleteFilter(),t instanceof Pi?this.registered=t:t&&(this.registered=this.filters.add(t))}deleteFilter(){this.registered&&(this.registered.unregister(),delete this.registered)}ngOnDestroy(){this.deleteFilter()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ni))},t.\u0275dir=r.Gb({type:t}),t})(),Fi=(()=>{class t extends Vi{constructor(t,e,n,i,s){super(t),this.commonStrings=e,this.smartToggleService=n,this.platformId=i,this.popoverId=s,this.subs=[],this.ariaExpanded=!1,this.smartPosition={axis:Nn.VERTICAL,side:Zn.AFTER,anchor:An.END,content:An.END},this._open=!1,this.openChange=new r.n(!1),this.subs.push(n.openChange.subscribe(t=>{this.open=t,this.ariaExpanded=t}))}get open(){return this._open}set open(t){this.open!==(t=!!t)&&(this.smartToggleService.open=t,this.openChange.emit(t),!t&&Object(i.B)(this.platformId)&&this.anchor.nativeElement.focus(),this._open=t)}set customFilter(t){this.setFilter(t)}get active(){return!!this.filter&&this.filter.isActive()}ngOnDestroy(){super.ngOnDestroy(),this.subs.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ni),r.Lb(Qn),r.Lb(On),r.Lb(r.B),r.Lb($n))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-filter"]],viewQuery:function(t,e){var n;1&t&&r.Ic(ot,!0,r.l),2&t&&r.mc(n=r.ac())&&(e.anchor=n.first)},inputs:{open:["clrDgFilterOpen","open"],customFilter:["clrDgFilter","customFilter"]},outputs:{openChange:"clrDgFilterOpenChange"},features:[r.yb([{provide:ji,useExisting:t},Kn]),r.wb],ngContentSelectors:C,decls:4,vars:12,consts:[["type","button","clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"datagrid-filter-toggle"],["anchor",""],[1,"is-solid"],["class","datagrid-filter","clrFocusTrap","",3,"id",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["clrFocusTrap","",1,"datagrid-filter",3,"id"],[1,"datagrid-filter-close-wrapper"],["type","button","clrPopoverCloseButton","",1,"close"],["shape","close"]],template:function(t,e){1&t&&(r.gc(),r.Rb(0,"button",0,1),r.Mb(2,"clr-icon",2),r.Qb(),r.Bc(3,at,5,2,"div",3)),2&t&&(r.Db("datagrid-filter-open",e.open)("datagrid-filtered",e.active),r.Ab("aria-label",e.commonStrings.keys.datagridFilterAriaLabel)("aria-expanded",e.ariaExpanded)("aria-controls",e.popoverId),r.zb(2),r.Ab("shape",e.active?"filter-grid-circle":"filter-grid"),r.zb(1),r.hc("clrPopoverContent",e.open)("clrPopoverContentAt",e.smartPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0))},directives:[Bn,Fn,yn,Vn,Dr,Mn],encapsulation:2}),t})();class Mi{constructor(t){this.prop=t,t.indexOf(".")>=0&&(this.splitProp=t.split("."))}getPropValue(t){if(this.splitProp){let e=t;for(const t of this.splitProp){if(null==e||void 0===e[t])return;e=e[t]}return e}return t[this.prop]}}class Bi{constructor(t,e=!1){this.prop=t,this.exact=e,this.nestedProp=new Mi(t)}accepts(t,e){const n=this.nestedProp.getPropValue(t);return void 0!==n&&(this.exact?(""+n).toLowerCase()===e:(""+n).toLowerCase().indexOf(e)>=0)}}class zi{constructor(t){this.filterFn=t,this._changes=new s.a,this._lowerCaseValue="",this._rawValue=""}get changes(){return this._changes.asObservable()}get lowerCaseValue(){return this._lowerCaseValue}get value(){return this._rawValue}set value(t){t||(t=""),t!==this._rawValue&&(this._rawValue=t,this._lowerCaseValue=t.toLowerCase().trim(),this._changes.next(t))}isActive(){return!!this.value}accepts(t){return this.filterFn.accepts(t,this.lowerCaseValue)}get state(){return this.filterFn instanceof Bi?{property:this.filterFn.prop,value:this.value}:this}equals(t){return t instanceof zi&&(t.filterFn instanceof Bi?this.filterFn instanceof Bi&&t.filterFn.prop===this.filterFn.prop&&t.value===this.value:t===this)}}let Ui=(()=>{class t extends Vi{constructor(t,e,n){super(t),this.domAdapter=e,this.smartToggleService=n,this.subs=[],this.open=!1,this.filterValueChange=new r.n}set customStringFilter(t){this.setFilter(t instanceof Pi?t:new zi(t)),this.initFilterValue&&(this.value=this.initFilterValue,delete this.initFilterValue)}ngAfterViewInit(){this.subs.push(this.smartToggleService.openChange.subscribe(t=>{this.open=t,setTimeout(()=>{this.domAdapter.focus(this.input.nativeElement)})}))}ngOnDestroy(){super.ngOnDestroy(),this.subs.forEach(t=>t.unsubscribe())}get value(){return this.filter.value}set value(t){this.filter?(t||(t=""),t!==this.filter.value&&(this.filter.value=t,this.filterValueChange.emit(t))):this.initFilterValue=t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ni),r.Lb(pi),r.Lb(On))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-string-filter"]],viewQuery:function(t,e){var n;1&t&&(r.Ic(ct,!0),r.Ic(Fi,!0)),2&t&&(r.mc(n=r.ac())&&(e.input=n.first),r.mc(n=r.ac())&&(e.filterContainer=n.first))},inputs:{customStringFilter:["clrDgStringFilter","customStringFilter"],value:["clrFilterValue","value"]},outputs:{filterValueChange:"clrFilterValueChange"},features:[r.yb([{provide:ji,useExisting:t}]),r.wb],decls:3,vars:3,consts:[[3,"clrDgFilter","clrDgFilterOpen","clrDgFilterOpenChange"],["type","text","name","search",1,"clr-input",3,"ngModel","ngModelChange"],["input",""]],template:function(t,e){1&t&&(r.Rb(0,"clr-dg-filter",0),r.Zb("clrDgFilterOpenChange",(function(t){return e.open=t})),r.Rb(1,"input",1,2),r.Zb("ngModelChange",(function(t){return e.value=t})),r.Qb(),r.Qb()),2&t&&(r.hc("clrDgFilter",e.registered)("clrDgFilterOpen",e.open),r.zb(1),r.hc("ngModel",e.value))},directives:[Fi,E.b,E.j,E.l],encapsulation:2}),t})();class Hi{constructor(t,e=!1){this.prop=t,this.exact=e,this.nestedProp=new Mi(t)}accepts(t,e,n){const r=this.nestedProp.getPropValue(t);return!(null!==e&&r<e||null!==n&&r>n)}}class Gi{constructor(t){this.filterFn=t,this._changes=new s.a,this._low=null,this._high=null}get changes(){return this._changes.asObservable()}get value(){return[this._low,this._high]}set value(t){const e=t[0],n=t[1];e===this._low&&n===this._high||(this._low=e,this._high=n,this._changes.next([this._low,this._high]))}get low(){return this._low}set low(t){t!==this._low&&(this._low=t,this._changes.next([this._low,this._high]))}get high(){return this._high}set high(t){t!==this._high&&(this._high=t,this._changes.next([this._low,this._high]))}isActive(){return null!==this._low||null!==this.high}accepts(t){return this.filterFn.accepts(t,this._low,this._high)}get state(){return this.filterFn instanceof Hi?{property:this.filterFn.prop,low:this._low,high:this._high}:this}equals(t){return t instanceof Gi&&(t.filterFn instanceof Hi?this.filterFn instanceof Hi&&t.filterFn.prop===this.filterFn.prop&&t.low===this._low&&t.high===this._high:t===this)}}let qi=(()=>{class t extends Vi{constructor(t,e,n,i){super(t),this.domAdapter=e,this.commonStrings=n,this.popoverToggleService=i,this.subscriptions=[],this.open=!1,this.filterValueChange=new r.n}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}set customNumericFilter(t){this.setFilter(t instanceof Pi?t:new Gi(t)),this.initFilterValues&&(this.value=this.initFilterValues,delete this.initFilterValues)}ngAfterViewInit(){this.subscriptions.push(this.popoverToggleService.openChange.subscribe(t=>{this.open=t,setTimeout(()=>{this.domAdapter.focus(this.input.nativeElement)})}))}get value(){return[this.filter.low,this.filter.high]}set value(t){this.filter?!t||t[0]===this.filter.low&&t[1]===this.filter.high||(this.filter.low="number"==typeof t[0]?t[0]:null,this.filter.high="number"==typeof t[1]?t[1]:null,this.filterValueChange.emit(t)):this.initFilterValues=t}get low(){return"number"==typeof this.filter.low&&isFinite(this.filter.low)?this.filter.low:null}set low(t){"number"==typeof t&&t!==this.filter.low?(this.filter.low=t,this.filterValueChange.emit([this.filter.low,this.filter.high])):"number"!=typeof t&&(this.filter.low=null,this.filterValueChange.emit([this.filter.low,this.filter.high]))}get high(){return"number"==typeof this.filter.high&&isFinite(this.filter.high)?this.filter.high:null}set high(t){"number"==typeof t&&t!==this.filter.high?(this.filter.high=t,this.filterValueChange.emit([this.filter.low,this.filter.high])):"number"!=typeof t&&(this.filter.high=null,this.filterValueChange.emit([this.filter.low,this.filter.high]))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ni),r.Lb(pi),r.Lb(Qn),r.Lb(On))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-numeric-filter"]],viewQuery:function(t,e){var n;1&t&&(r.Ic(ut,!0),r.Ic(Fi,!0)),2&t&&(r.mc(n=r.ac())&&(e.input=n.first),r.mc(n=r.ac())&&(e.filterContainer=n.first))},inputs:{customNumericFilter:["clrDgNumericFilter","customNumericFilter"],value:["clrFilterValue","value"]},outputs:{filterValueChange:"clrFilterValueChange"},features:[r.yb([{provide:ji,useExisting:t}]),r.wb],decls:6,vars:8,consts:[[3,"clrDgFilter","clrDgFilterOpen","clrDgFilterOpenChange"],["type","number","name","low",1,"datagrid-numeric-filter-input",3,"ngModel","placeholder","ngModelChange"],["input_low",""],[1,"datagrid-filter-input-spacer"],["type","number","name","high",1,"datagrid-numeric-filter-input",3,"ngModel","placeholder","ngModelChange"],["input_high",""]],template:function(t,e){1&t&&(r.Rb(0,"clr-dg-filter",0),r.Zb("clrDgFilterOpenChange",(function(t){return e.open=t})),r.Rb(1,"input",1,2),r.Zb("ngModelChange",(function(t){return e.low=t})),r.Qb(),r.Mb(3,"span",3),r.Rb(4,"input",4,5),r.Zb("ngModelChange",(function(t){return e.high=t})),r.Qb(),r.Qb()),2&t&&(r.hc("clrDgFilter",e.registered)("clrDgFilterOpen",e.open),r.zb(1),r.hc("ngModel",e.low)("placeholder",e.commonStrings.keys.minValue),r.Ab("aria-label",e.commonStrings.keys.minValue),r.zb(3),r.hc("ngModel",e.high)("placeholder",e.commonStrings.keys.maxValue),r.Ab("aria-label",e.commonStrings.keys.maxValue))},directives:[Fi,E.o,E.b,E.j,E.l],encapsulation:2}),t})(),Qi=(()=>{class t{constructor(){this._chocolate=new s.a,this.disableChocolateCheck=!1}get chocolate(){return this._chocolate.asObservable()}ngAfterViewChecked(){this.disableChocolateCheck||this._chocolate.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t}),t})(),Wi=(()=>{class t{constructor(t,e){this.subscription=e.chocolate.subscribe(()=>{this.latestFlavor!==this.flavor&&(e.disableChocolateCheck=!0,t.detectChanges(),e.disableChocolateCheck=!1)})}ngAfterContentChecked(){this.latestFlavor=this.flavor}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.h),r.Lb(Qi))},t.\u0275dir=r.Gb({type:t}),t})(),$i=(()=>{class t{constructor(){this.actionableCount=0}register(){this.actionableCount++}unregister(){this.actionableCount--}get hasActionableRow(){return this.actionableCount>0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ki=(()=>{class t extends Qi{}return t.\u0275fac=function(e){return Zi(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["clr-datagrid"]],features:[r.wb]}),t})();const Zi=r.Tb(Ki);let Ji=(()=>{class t extends Wi{constructor(t,e,n){if(!e)throw new Error("clr-dg-row should only be used inside of a clr-datagrid");super(t,e),this.rowActions=n}get flavor(){return this.rowActions.hasActionableRow}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.h),r.Lb(Ki,8),r.Lb($i))},t.\u0275dir=r.Gb({type:t,selectors:[["clr-datagrid"],["clr-dg-row"]],features:[r.wb]}),t})(),Yi=(()=>{class t{constructor(){this.toggleState=!1,this._state=new a.a(this.toggleState),this._enabled=!1}get enabled(){return this._enabled}set enabled(t){this._enabled=t}get stateChange(){return this._state.asObservable()}close(){this.toggleState=!1,this._state.next(this.toggleState),this.button&&(this.button.focus(),this.button=null)}open(t,e){this.cache=t,this.button=e,this.toggleState=!0,this._state.next(this.toggleState)}toggle(t,e){this.isRowOpen(t)||!t?this.close():this.open(t,e)}get state(){return this.cache}isRowOpen(t){return!(!this.toggleState||this.cache!==t)}get isOpen(){return!0===this.toggleState}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Xi=(()=>{class t{constructor(t){this.detailService=t,this.expandableCount=0}register(){this.expandableCount++}unregister(){this.expandableCount--}get hasExpandableRow(){return!this.detailService.enabled&&this.expandableCount>0}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Yi))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ts=(()=>{class t extends Wi{constructor(t,e,n){if(!e)throw new Error("clr-dg-row should only be used inside of a clr-datagrid");super(t,e),this.expandableCount=n}get flavor(){return this.expandableCount.hasExpandableRow}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.h),r.Lb(Ki,8),r.Lb(Xi))},t.\u0275dir=r.Gb({type:t,selectors:[["clr-datagrid"],["clr-dg-row"]],features:[r.wb]}),t})();class es{constructor(t){this.prop=t,this.nestedProp=new Mi(t)}compare(t,e){let n=this.nestedProp.getPropValue(t),r=this.nestedProp.getPropValue(e);return"string"==typeof n&&(n=n.toLowerCase()),"string"==typeof r&&(r=r.toLowerCase()),null==n?null==r?0:1:null==r||n<r?-1:n>r?1:0}}var ns=function(t){return t[t.UNSORTED=0]="UNSORTED",t[t.ASC=1]="ASC",t[t.DESC=-1]="DESC",t}({});let rs=(()=>{class t{constructor(t){this.stateDebouncer=t,this._reverse=!1,this._change=new s.a}get comparator(){return this._comparator}set comparator(t){this.stateDebouncer.changeStart(),this._comparator=t,this.emitChange(),this.stateDebouncer.changeDone()}get reverse(){return this._reverse}set reverse(t){this.stateDebouncer.changeStart(),this._reverse=t,this.emitChange(),this.stateDebouncer.changeDone()}emitChange(){this._change.next(this)}get change(){return this._change.asObservable()}toggle(t,e){this.stateDebouncer.changeStart(),this.comparator===t?this._reverse=void 0!==e&&e||!this._reverse:(this._comparator=t,this._reverse=void 0!==e&&e),this.emitChange(),this.stateDebouncer.changeDone()}clear(){this.comparator=null}compare(t,e){return(this.reverse?-1:1)*this.comparator.compare(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Di))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),is=(()=>{class t{constructor(){this._dynamic=!1}ngAfterViewInit(){this.columnView=this.templateRef.createEmbeddedView(null)}ngOnDestroy(){this.columnView.destroy()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["dg-wrapped-column"]],viewQuery:function(t,e){var n;1&t&&r.Ic(lt,!0),2&t&&r.mc(n=r.ac())&&(e.templateRef=n.first)},ngContentSelectors:C,decls:2,vars:0,consts:[["columnPortal",""]],template:function(t,e){1&t&&(r.gc(),r.Bc(0,ht,1,0,"ng-template",null,0,r.Cc))},encapsulation:2}),t})(),ss=(()=>{class t extends Vi{constructor(t,e,n,i,s,o){super(e),this._sort=t,this.vcr=n,this.detailService=i,this.changeDetectorRef=s,this.commonStrings=o,this.showSeparator=!0,this.subscriptions=[],this._colType="string",this._sorted=!1,this.sortedChange=new r.n,this._sortOrder=ns.UNSORTED,this.sortOrderChange=new r.n,this.customFilter=!1,this.filterValueChange=new r.n,this.subscriptions.push(this.listenForSortingChanges()),this.subscriptions.push(this.listenForDetailPaneChanges())}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}listenForDetailPaneChanges(){return this.detailService.stateChange.subscribe(t=>{this.showSeparator!==!t&&(this.showSeparator=!t,this.changeDetectorRef.markForCheck())})}listenForSortingChanges(){return this._sort.change.subscribe(t=>{this.changeDetectorRef.markForCheck(),this.sortOrder!==ns.UNSORTED&&t.comparator!==this._sortBy&&(this._sortOrder=ns.UNSORTED,this.sortOrderChange.emit(this._sortOrder),this.sortIcon=null),this.sorted&&t.comparator!==this._sortBy&&(this._sorted=!1,this.sortedChange.emit(!1))})}get colType(){return this._colType}set colType(t){this._colType=t}get field(){return this._field}set field(t){"string"==typeof t&&(this._field=t,this._sortBy||(this._sortBy=new es(t)))}setupDefaultFilter(t,e){"number"===e?this.setFilter(new Gi(new Hi(t))):"string"===e&&this.setFilter(new zi(new Bi(t))),this.filter&&this.initFilterValue&&(this.updateFilterValue=this.initFilterValue,delete this.initFilterValue)}ngOnChanges(t){t.colType&&t.colType.currentValue&&t.colType.currentValue!==t.colType.previousValue&&!this.customFilter&&!this.filter&&this.colType&&this.field&&this.setupDefaultFilter(this.field,this.colType),t.field&&t.field.currentValue&&t.field.currentValue!==t.field.previousValue&&!this.customFilter&&this.colType&&this.setupDefaultFilter(this.field,this.colType)}get sortBy(){return this._sortBy}set sortBy(t){"string"==typeof t?this._sortBy=new es(t):t?this._sortBy=t:this.field?this._sortBy=new es(this.field):delete this._sortBy}get sortable(){return!!this._sortBy}get sorted(){return this._sorted}set sorted(t){!t&&this.sorted?(this._sorted=!1,this._sort.clear()):t&&!this.sorted&&this.sort()}get sortOrder(){return this._sortOrder}set sortOrder(t){if(void 0!==t&&this._sortOrder!==t)switch(t){default:case ns.UNSORTED:this._sort.clear();break;case ns.ASC:this.sort(!1);break;case ns.DESC:this.sort(!0)}}get ariaSort(){switch(this._sortOrder){default:case ns.UNSORTED:return"none";case ns.ASC:return"ascending";case ns.DESC:return"descending"}}sort(t){this.sortable&&(this._sort.toggle(this._sortBy,t),this._sortOrder=this._sort.reverse?ns.DESC:ns.ASC,this.sortIcon=this._sortOrder===ns.DESC?"arrow down":"arrow",this.sortOrderChange.emit(this._sortOrder),this._sorted=!0,this.sortedChange.emit(!0))}set projectedFilter(t){t&&(this.deleteFilter(),this.customFilter=!0)}set updateFilterValue(t){this.filter?this.filter instanceof zi?(t&&"string"==typeof t||(t=""),t!==this.filter.value&&(this.filter.value=t)):this.filter instanceof Gi&&(t&&t instanceof Array||(t=[null,null]),2!==t.length||t[0]===this.filter.value[0]&&t[1]===this.filter.value[1]||(this.filter.value=t)):this.initFilterValue=t}get filterValue(){return this.filter instanceof zi||this.filter instanceof Gi?this.filter.value:null}set filterValue(t){(this.filter instanceof zi||this.filter instanceof Gi)&&(this.updateFilterValue=t,this.filterValueChange.emit(this.filter.value))}ngOnInit(){this.wrappedInjector=new rr(is,this.vcr)}get _view(){return this.wrappedInjector.get(is,this.vcr).columnView}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(rs),r.Lb(Ni),r.Lb(r.Q),r.Lb(Yi),r.Lb(r.h),r.Lb(Qn))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-column"]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,ji,!0),2&t&&r.mc(i=r.ac())&&(e.projectedFilter=i.first)},hostAttrs:["role","columnheader"],hostVars:3,hostBindings:function(t,e){2&t&&(r.Ab("aria-sort",e.ariaSort),r.Db("datagrid-column",!0))},inputs:{colType:["clrDgColType","colType"],field:["clrDgField","field"],updateFilterValue:["clrFilterValue","updateFilterValue"],sortBy:["clrDgSortBy","sortBy"],sorted:["clrDgSorted","sorted"],sortOrder:["clrDgSortOrder","sortOrder"]},outputs:{sortedChange:"clrDgSortedChange",sortOrderChange:"clrDgSortOrderChange",filterValueChange:"clrFilterValueChange"},features:[r.yb([Pn,In,On]),r.wb,r.xb],ngContentSelectors:St,decls:9,vars:5,consts:[[1,"datagrid-column-flex"],["class","datagrid-column-title","type","button",3,"click",4,"ngIf"],[3,"clrDgStringFilter","clrFilterValue","clrFilterValueChange",4,"ngIf"],[3,"clrDgNumericFilter","clrFilterValue","clrFilterValueChange",4,"ngIf"],["columnTitle",""],["class","datagrid-column-title",4,"ngIf"],[4,"ngIf"],["type","button",1,"datagrid-column-title",3,"click"],[4,"ngTemplateOutlet"],["class","sort-icon",4,"ngIf"],[1,"sort-icon"],[3,"clrDgStringFilter","clrFilterValue","clrFilterValueChange"],[3,"clrDgNumericFilter","clrFilterValue","clrFilterValueChange"],[1,"datagrid-column-title"]],template:function(t,e){1&t&&(r.gc(wt),r.Rb(0,"div",0),r.Bc(1,pt,3,3,"button",1),r.fc(2),r.Bc(3,gt,1,2,"clr-dg-string-filter",2),r.Bc(4,bt,1,2,"clr-dg-numeric-filter",3),r.Bc(5,mt,1,0,"ng-template",null,4,r.Cc),r.Bc(7,yt,2,1,"span",5),r.Bc(8,_t,1,0,"clr-dg-column-separator",6),r.Qb()),2&t&&(r.zb(1),r.hc("ngIf",e.sortable),r.zb(2),r.hc("ngIf",e.field&&!e.customFilter&&"string"==e.colType),r.zb(1),r.hc("ngIf",e.field&&!e.customFilter&&"number"==e.colType),r.zb(3),r.hc("ngIf",!e.sortable),r.zb(1),r.hc("ngIf",e.showSeparator))},directives:function(){return[i.o,i.s,yn,Ui,qi,Ps]},encapsulation:2,changeDetection:0}),t})(),os=(()=>{class t{constructor(t,e,n){this._filters=t,this._sort=e,this._page=n,this.loading=!1,this.trackBy=(t,e)=>e,this._smart=!1,this._displayed=[],this._change=new s.a,this._allChanges=new s.a}destroy(){this._filtersSub&&this._filtersSub.unsubscribe(),this._sortSub&&this._sortSub.unsubscribe(),this._pageSub&&this._pageSub.unsubscribe()}get smart(){return this._smart}smartenUp(){this._smart=!0,this._filtersSub=this._filters.change.subscribe(()=>this._filterItems()),this._sortSub=this._sort.change.subscribe(()=>{this._sort.comparator?this._sortItems():this._filterItems()}),this._pageSub=this._page.change.subscribe(()=>this._changePage())}get all(){return this._all}set all(t){this._all=t,this.emitAllChanges(t),this.smart?this._filterItems():(this._displayed=t,this.emitChange())}refresh(){this.smart&&this._filterItems()}get displayed(){return this._displayed}emitChange(){this._change.next(this.displayed)}get change(){return this._change.asObservable()}emitAllChanges(t){this._allChanges.next(t)}get allChanges(){return this._allChanges.asObservable()}get uninitialized(){return!this._all}_filterItems(){this.uninitialized||(this._filtered=this._filters.hasActiveFilters()?this._all.filter(t=>this._filters.accepts(t)):this._all.slice(),this._page.totalItems=this._filtered.length,this._sortItems())}_sortItems(){this.uninitialized||(this._sort.comparator&&this._filtered.sort((t,e)=>this._sort.compare(t,e)),this._changePage())}_changePage(){this.uninitialized||this._page.activated&&0===this._page.size||(this._displayed=this._page.size>0?this._filtered.slice(this._page.firstItem,this._page.lastItem+1):this._filtered,this.emitChange())}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Ni),r.Vb(rs),r.Vb(Ri))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),as=(()=>{class t{constructor(t,e,n,r){this.template=t,this.differs=e,this.items=n,this.vcr=r,this.differ=null,this.subscriptions=[],n.smartenUp(),this.iterableProxy=new i.n(this.vcr,this.template,this.differs),this.subscriptions.push(n.change.subscribe(t=>{this.iterableProxy.ngForOf=t,this.iterableProxy.ngDoCheck()}))}set rawItems(t){this._rawItems=t||[]}set trackBy(t){this.iterableProxy.ngForTrackBy=t}ngDoCheck(){this.differ||(this.differ=this.differs.find(this._rawItems).create(this.iterableProxy.ngForTrackBy)),this.differ&&this.differ.diff(this._rawItems)&&(this.items.all=this._rawItems)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.L),r.Lb(r.s),r.Lb(os),r.Lb(r.Q))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrDgItems","","clrDgItemsOf",""]],inputs:{rawItems:["clrDgItemsOf","rawItems"],trackBy:["clrDgItemsTrackBy","trackBy"]}}),t})(),cs=(()=>{class t{constructor(t){this.items=t}get emptyDatagrid(){return!(this.items.loading||this.items.displayed&&0!==this.items.displayed.length)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(os))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-placeholder"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("datagrid-placeholder-container",!0)},ngContentSelectors:C,decls:4,vars:4,consts:[["role","row",1,"datagrid-placeholder"],["class","datagrid-placeholder-image",4,"ngIf"],["role","gridcell"],[4,"ngIf"],[1,"datagrid-placeholder-image"]],template:function(t,e){1&t&&(r.gc(),r.Rb(0,"div",0),r.Bc(1,Et,1,0,"div",1),r.Rb(2,"span",2),r.Bc(3,Ct,1,0,"ng-content",3),r.Qb(),r.Qb()),2&t&&(r.Db("datagrid-empty",e.emptyDatagrid),r.zb(1),r.hc("ngIf",e.emptyDatagrid),r.zb(2),r.hc("ngIf",e.emptyDatagrid))},directives:[i.o],encapsulation:2}),t})(),us=(()=>{class t{set triggerEl(t){this._triggerEl=t}focusTrigger(){this._triggerEl&&this._triggerEl.focus()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ls=(()=>{class t{constructor(){this._id=new s.a}setId(t){this._id.next(t)}get id(){return this._id.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),hs=(()=>{class t{constructor(t,e,n,r,i,s,o){this.toggleService=t,this.el=e,this.commonStrings=n,this.signpostIdService=r,this.signpostFocusManager=i,this.platformId=o,this.subscriptions=[],this.document=s}ngOnInit(){this.signpostFocusManager.triggerEl=this.el.nativeElement,this.subscriptions.push(this.toggleService.openChange.subscribe(t=>{this.ariaExpanded=t;const e=this.isOpen;this.isOpen=t,!this.isOpen&&e&&this.focusOnClose()}),this.signpostIdService.id.subscribe(t=>this.ariaControl=t))}focusOnClose(){Object(i.B)(this.platformId)&&(this.isOpen||this.document.activeElement!==this.document.body||this.signpostFocusManager.focusTrigger())}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}onSignpostTriggerClick(t){this.toggleService.toggleWithEvent(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(On),r.Lb(r.l),r.Lb(Qn),r.Lb(ls),r.Lb(us),r.Lb(i.d),r.Lb(r.B))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrSignpostTrigger",""]],hostAttrs:[1,"signpost-trigger"],hostVars:5,hostBindings:function(t,e){1&t&&r.Zb("click",(function(t){return e.onSignpostTriggerClick(t)})),2&t&&(r.Ab("aria-label",e.commonStrings.keys.signpostToggle)("aria-expanded",e.ariaExpanded)("aria-controls",e.ariaControl),r.Db("active",e.isOpen))}}),t})(),fs=(()=>{class t{constructor(t){this.commonStrings=t,this.useCustomTrigger=!1}set customTrigger(t){this.useCustomTrigger=!!t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Qn))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-signpost"]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,hs,!0),2&t&&r.mc(i=r.ac())&&(e.customTrigger=i.first)},hostVars:2,hostBindings:function(t,e){2&t&&r.Db("signpost",!0)},features:[r.yb([On,us,{provide:ti,useExisting:r.l},ls])],ngContentSelectors:C,decls:2,vars:1,consts:[[4,"ngIf"],["type","button","clrSignpostTrigger","",1,"signpost-action","btn","btn-small","btn-link"],["shape","info"]],template:function(t,e){1&t&&(r.gc(),r.Bc(0,Ot,3,1,"ng-container",0),r.fc(1)),2&t&&r.hc("ngIf",!e.useCustomTrigger)},directives:[i.o,hs,yn],encapsulation:2}),t})(),ds=(()=>{class t{constructor(){this._dynamic=!1}ngAfterViewInit(){this.cellView=this.templateRef.createEmbeddedView(null)}ngOnDestroy(){this.cellView.destroy()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["dg-wrapped-cell"]],viewQuery:function(t,e){var n;1&t&&r.Ic(It,!0),2&t&&r.mc(n=r.ac())&&(e.templateRef=n.first)},ngContentSelectors:C,decls:2,vars:0,consts:[["cellPortal",""]],template:function(t,e){1&t&&(r.gc(),r.Bc(0,Tt,1,0,"ng-template",null,0,r.Cc))},encapsulation:2}),t})(),ps=(()=>{class t{constructor(t){this.vcr=t}ngOnInit(){this.wrappedInjector=new rr(ds,this.vcr)}get _view(){return this.wrappedInjector.get(ds,this.vcr).cellView}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-cell"]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,fs,!1),2&t&&r.mc(i=r.ac())&&(e.signpost=i)},hostAttrs:["role","gridcell"],hostVars:4,hostBindings:function(t,e){2&t&&r.Db("datagrid-cell",!0)("datagrid-signpost-trigger",e.signpost.length>0)},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})();var gs=function(t){return t[t.DISPLAY=0]="DISPLAY",t[t.CALCULATE=1]="CALCULATE",t}({}),bs=function(t){return t[t.ALIGN_COLUMNS=0]="ALIGN_COLUMNS",t[t.CALCULATE_MODE_ON=1]="CALCULATE_MODE_ON",t[t.CALCULATE_MODE_OFF=2]="CALCULATE_MODE_OFF",t[t.CLEAR_WIDTHS=3]="CLEAR_WIDTHS",t[t.COMPUTE_COLUMN_WIDTHS=4]="COMPUTE_COLUMN_WIDTHS",t}({});let ms=(()=>{class t{constructor(){this._renderStep=new s.a,this.alreadySized=!1}get renderStep(){return this._renderStep.asObservable()}filterRenderSteps(t){return this.renderStep.pipe(Object(f.a)(e=>t===e))}resize(){this._renderStep.next(bs.CALCULATE_MODE_ON),this.alreadySized&&this._renderStep.next(bs.CLEAR_WIDTHS),this._renderStep.next(bs.COMPUTE_COLUMN_WIDTHS),this._renderStep.next(bs.ALIGN_COLUMNS),this.alreadySized=!0,this._renderStep.next(bs.CALCULATE_MODE_OFF)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),vs=(()=>{class t{constructor(t){this.subscriptions=[],this._view=new a.a(gs.DISPLAY),this.subscriptions.push(t.filterRenderSteps(bs.CALCULATE_MODE_ON).subscribe(()=>this._view.next(gs.CALCULATE))),this.subscriptions.push(t.filterRenderSteps(bs.CALCULATE_MODE_OFF).subscribe(()=>this._view.next(gs.DISPLAY)))}get view(){return this._view.asObservable()}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(ms))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();var ys=function(t){return t[t.None=0]="None",t[t.Single=1]="Single",t[t.Multi=2]="Multi",t}({});let _s=0,ws=(()=>{class t{constructor(t,e){this._items=t,this._filters=e,this.preserveSelection=!1,this.prevSelectionRefs=[],this.lockedRefs=[],this._selectionType=ys.None,this.rowSelectionMode=!1,this.subscriptions=[],this._change=new s.a,this.id="clr-dg-selection"+_s++,this.subscriptions.push(this._filters.change.subscribe(()=>{this._selectable&&!this.preserveSelection&&this.clearSelection()})),this.subscriptions.push(this._items.allChanges.subscribe(t=>{const e=[];switch(this.selectionType){case ys.None:break;case ys.Single:{let n;const r=this._items.trackBy;let i=!1;if(this.currentSingle&&!this.prevSingleSelectionRef&&this._items.all&&this._items.trackBy){const t=this._items.all.findIndex(t=>t===this.currentSingle);this.prevSingleSelectionRef=this._items.trackBy(t,this.currentSingle)}t.forEach((t,s)=>{const o=r(s,t);this.prevSingleSelectionRef===o&&(n=t,i=!0),this.lockedRefs.indexOf(o)>-1&&e.push(o)}),this._items.smart&&!n&&(i=!0),setTimeout(()=>{i&&(this.currentSingle=n)},0);break}case ys.Multi:{let n=this.current.slice();const r=this._items.trackBy;let i=!1;this.current.length>0&&this.prevSelectionRefs.length!==this.current.length&&this._items.all&&this._items.trackBy&&(this.prevSelectionRefs=[],this.current.forEach(t=>{const e=this._items.all.findIndex(e=>e===t);this.prevSelectionRefs.push(this._items.trackBy(e,t))})),t.forEach((t,n)=>{const i=r(n,t);this.lockedRefs.indexOf(i)>-1&&e.push(i)}),n.length>0&&(t.forEach((t,e)=>{const s=r(e,t),o=this.prevSelectionRefs.indexOf(s);o>-1&&(n[o]=t,i=!0)}),this._items.smart&&(n=n.filter(e=>t.indexOf(e)>-1),this.current.length!==n.length&&(i=!0)),setTimeout(()=>{i&&(this.current=n)},0));break}}this.lockedRefs=e}))}clearSelection(){this.current.length=0,this.prevSelectionRefs=[],this._currentSingle=null,this.prevSingleSelectionRef=null,this.emitChange()}get selectionType(){return this._selectionType}set selectionType(t){t!==this.selectionType&&(this._selectionType=t,t===ys.None?delete this.current:this.updateCurrent([],!1))}get _selectable(){return this._selectionType===ys.Multi||this._selectionType===ys.Single}destroy(){this.subscriptions.forEach(t=>t.unsubscribe())}get currentSingle(){return this._currentSingle}set currentSingle(t){if(t!==this._currentSingle){if(this._currentSingle=t,this._items.all&&this._items.trackBy&&t){const e=this._items.all.findIndex(e=>e===t);this.prevSingleSelectionRef=this._items.trackBy(e,t)}this.emitChange()}}get current(){return this._current}set current(t){this.updateCurrent(t,!0)}updateCurrent(t,e){this._current=t,e&&this.emitChange()}emitChange(){this._selectionType===ys.Single?this._change.next(this.currentSingle):this._selectionType===ys.Multi&&this._change.next(this.current)}get change(){return this._change.asObservable()}isSelected(t){return this._selectionType===ys.Single?this.currentSingle===t:this._selectionType===ys.Multi&&this.current.indexOf(t)>=0}selectItem(t){if(this.current.push(t),this._items.trackBy&&this._items.all){const e=this._items.all.findIndex(e=>e===t);this.prevSelectionRefs.push(this._items.trackBy(e,t))}}deselectItem(t){if(this.current.splice(t,1),this._items.trackBy&&t<this.prevSelectionRefs.length){const e=this.prevSelectionRefs.splice(t,1);this.lockedRefs=this.lockedRefs.filter(t=>t!==e[0])}}setSelected(t,e){const n=this.current?this.current.indexOf(t):-1;switch(this._selectionType){case ys.None:case ys.Single:break;case ys.Multi:n>=0&&!e?(this.deselectItem(n),this.emitChange()):n<0&&e&&(this.selectItem(t),this.emitChange())}}isAllSelected(){if(this._selectionType!==ys.Multi||!this._items.displayed)return!1;const t=this._items.displayed.filter(t=>!1===this.isLocked(t));return!(t.length<1)&&t.filter(t=>this.current.indexOf(t)>-1).length===t.length}canItBeLocked(){return this._selectionType!==ys.None&&Array.isArray(this._items.all)}lockItem(t,e){if(this.canItBeLocked()){const n=this._items.trackBy(this._items.all.findIndex(e=>e===t),t);!0===e?this.lockedRefs.push(n):this.lockedRefs=this.lockedRefs.filter(t=>n!==t)}}isLocked(t){if(this.canItBeLocked()){const e=this._items.trackBy(this._items.all.findIndex(e=>e===t),t);return this.lockedRefs.indexOf(e)>-1}return!1}toggleAll(){this._selectionType!==ys.None&&this._selectionType!==ys.Single&&(this.isAllSelected()?this._items.displayed.forEach(t=>{const e=this.current.indexOf(t);e>-1&&!1===this.isLocked(t)&&this.deselectItem(e)}):this._items.displayed.forEach(t=>{this.current.indexOf(t)<0&&!1===this.isLocked(t)&&this.selectItem(t)}),this.emitChange())}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(os),r.Vb(Ni))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ss=(()=>{class t{constructor(){this._dynamic=!1}ngAfterViewInit(){this.rowView=this.templateRef.createEmbeddedView(null)}ngOnDestroy(){this.rowView.destroy()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["dg-wrapped-row"]],viewQuery:function(t,e){var n;1&t&&r.Ic(At,!0),2&t&&r.mc(n=r.ac())&&(e.templateRef=n.first)},ngContentSelectors:C,decls:2,vars:0,consts:[["rowPortal",""]],template:function(t,e){1&t&&(r.gc(),r.Bc(0,xt,1,0,"ng-template",null,0,r.Cc))},encapsulation:2}),t})(),Es=0,Cs=(()=>{class t extends kr{constructor(){super(),this.expandableId="",this._replace=new a.a(!1),this._animate=new s.a,Es++,this.expandableId="clr-dg-expandable-row-"+Es}get expanded(){return this._expanded}set expanded(t){(t=!!t)!==this._expanded&&(this._expanded=t,this._animate.next(),this._expandChange.next(t))}loadingStateChange(t){super.loadingStateChange(t),t!==Hn.LOADING&&this._animate.next()}get replace(){return this._replace.asObservable()}setReplace(t){this._replace.next(t)}get animate(){return this._animate.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Os=0,Is=(()=>{class t{constructor(t,e,n,i,s,o,a,c,u,l){this.selection=t,this.rowActionService=e,this.globalExpandable=n,this.expand=i,this.detailService=s,this.displayMode=o,this.vcr=a,this.renderer=c,this.el=u,this.commonStrings=l,this.SELECTION_TYPE=ys,this.expandAnimationTrigger=!1,this._selected=!1,this.selectedChanged=new r.n(!1),this.expandedChange=new r.n(!1),this._detailOpenLabel="",this._detailCloseLabel="",this.subscriptions=[],this.displayCells=!1,Os++,this.id="clr-dg-row"+Os,this.radioId="clr-dg-row-rd"+Os,this.checkboxId="clr-dg-row-cb"+Os,this.expandableId=i.expandableId,this.subscriptions.push(Object(h.a)(this.expand.replace,this.expand.expandChange).subscribe(([t,e])=>{t&&e?(this.replaced=!0,this.renderer.addClass(this.el.nativeElement,"datagrid-row-replaced")):(this.replaced=!1,this.renderer.removeClass(this.el.nativeElement,"datagrid-row-replaced"))}))}get selected(){return this.selection.selectionType===ys.None?this._selected:this.selection.isSelected(this.item)}set selected(t){this.selection.selectionType===ys.None?this._selected=t:this.selection.setSelected(this.item,t)}set clrDgSelectable(t){this.selection.lockItem(this.item,!1===t)}get clrDgSelectable(){return!this.selection.isLocked(this.item)}toggle(t=!this.selected){t!==this.selected&&(this.selected=t,this.selectedChanged.emit(t))}get expanded(){return this.expand.expanded}set expanded(t){this.expand.expanded=t}toggleExpand(){this.expand.expandable&&(this.expandAnimation.updateStartHeight(),this.expanded=!this.expanded,this.expandedChange.emit(this.expanded))}set clrDgDetailOpenLabel(t){this._detailOpenLabel=t}get clrDgDetailOpenLabel(){return this._detailOpenLabel?this._detailOpenLabel:this.commonStrings.keys.open}set clrDgDetailCloseLabel(t){this._detailCloseLabel=t}get clrDgDetailCloseLabel(){return this._detailCloseLabel?this._detailCloseLabel:this.commonStrings.keys.close}ngAfterContentInit(){this.dgCells.changes.subscribe(()=>{this.dgCells.forEach(t=>{t._view.destroyed||this._scrollableCells.insert(t._view)})})}ngAfterViewInit(){this.subscriptions.push(this.displayMode.view.subscribe(t=>{for(let e=this._scrollableCells.length;e>0;e--)this._scrollableCells.detach();for(let e=this._calculatedCells.length;e>0;e--)this._calculatedCells.detach();t===gs.CALCULATE?(this.displayCells=!1,this.dgCells.forEach(t=>{t._view.destroyed||this._calculatedCells.insert(t._view)})):(this.displayCells=!0,this.dgCells.forEach(t=>{t._view.destroyed||this._scrollableCells.insert(t._view)}))}),this.expand.animate.subscribe(()=>{this.expandAnimationTrigger=!this.expandAnimationTrigger}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}ngOnInit(){this.wrappedInjector=new rr(Ss,this.vcr)}get _view(){return this.wrappedInjector.get(Ss,this.vcr).rowView}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ws),r.Lb($i),r.Lb(Xi),r.Lb(Cs),r.Lb(Yi),r.Lb(vs),r.Lb(r.Q),r.Lb(r.E),r.Lb(r.l),r.Lb(Qn))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-row"]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,ps,!1),2&t&&r.mc(i=r.ac())&&(e.dgCells=i)},viewQuery:function(t,e){var n;1&t&&(r.Ic(Ii,!0),r.Ic(kt,!0),r.Ic(Lt,!0,r.Q),r.Ic(jt,!0,r.Q),r.Ic(Dt,!0,r.Q)),2&t&&(r.mc(n=r.ac())&&(e.expandAnimation=n.first),r.mc(n=r.ac())&&(e.detailButton=n.first),r.mc(n=r.ac())&&(e._stickyCells=n.first),r.mc(n=r.ac())&&(e._scrollableCells=n.first),r.mc(n=r.ac())&&(e._calculatedCells=n.first))},hostAttrs:["role","rowgroup"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Ab("aria-owns",e.id),r.Db("datagrid-row",!0)("datagrid-selected",e.selected))},inputs:{selected:["clrDgSelected","selected"],clrDgSelectable:"clrDgSelectable",expanded:["clrDgExpanded","expanded"],clrDgDetailOpenLabel:"clrDgDetailOpenLabel",clrDgDetailCloseLabel:"clrDgDetailCloseLabel",item:["clrDgItem","item"]},outputs:{selectedChanged:"clrDgSelectedChange",expandedChange:"clrDgExpandedChange"},features:[r.yb([Cs,{provide:kr,useExisting:Cs},{provide:Un,useExisting:Cs}])],ngContentSelectors:oe,decls:9,vars:3,consts:[["class","datagrid-row-clickable",4,"ngIf"],[3,"clrExpandTrigger",4,"ngIf"],[4,"ngIf"],["detail",""],["rowContent",""],["calculatedCells",""],[1,"datagrid-row-clickable"],[3,"clrExpandTrigger"],[3,"ngTemplateOutlet"],["role","row",1,"datagrid-row-master","datagrid-row-flex",3,"id"],[1,"datagrid-row-sticky"],["stickyCells",""],["class","datagrid-select datagrid-fixed-column datagrid-cell","role","gridcell",3,"ngClass",4,"ngIf"],["class","datagrid-row-actions datagrid-fixed-column datagrid-cell","role","gridcell",4,"ngIf"],["class","datagrid-expandable-caret datagrid-fixed-column datagrid-cell","role","gridcell",4,"ngIf"],["class","datagrid-detail-caret datagrid-fixed-column datagrid-cell",4,"ngIf"],[1,"datagrid-row-scrollable",3,"ngClass"],[1,"datagrid-scrolling-cells"],["scrollableCells",""],["role","gridcell",1,"datagrid-select","datagrid-fixed-column","datagrid-cell",3,"ngClass"],["clrCheckbox","","type","checkbox",3,"ngModel","id","ngModelChange"],["type","radio","clrRadio","",3,"id","name","value","ngModel","checked","ngModelChange"],["role","gridcell",1,"datagrid-row-actions","datagrid-fixed-column","datagrid-cell"],["role","gridcell",1,"datagrid-expandable-caret","datagrid-fixed-column","datagrid-cell"],["type","button","class","datagrid-expandable-caret-button",3,"click",4,"ngIf"],["clrSmall","",4,"ngIf"],["type","button",1,"datagrid-expandable-caret-button",3,"click"],["shape","caret",1,"datagrid-expandable-caret-icon"],["clrSmall",""],[1,"datagrid-detail-caret","datagrid-fixed-column","datagrid-cell"],["type","button","aria-haspopup","dialog",1,"datagrid-detail-caret-button",3,"click"],["detailButton",""],["shape","angle-double",1,"datagrid-detail-caret-icon"]],template:function(t,e){1&t&&(r.gc(se),r.Bc(0,Ft,3,2,"label",0),r.Bc(1,Bt,2,2,"clr-expandable-animation",1),r.Bc(2,Ut,1,1,void 0,2),r.Bc(3,Ht,1,0,"ng-template",null,3,r.Cc),r.Bc(5,ie,16,13,"ng-template",null,4,r.Cc),r.Nb(7,null,5)),2&t&&(r.hc("ngIf",e.selection.rowSelectionMode),r.zb(1),r.hc("ngIf",!e.selection.rowSelectionMode&&e.expand.expandable),r.zb(1),r.hc("ngIf",!e.selection.rowSelectionMode&&!e.expand.expandable))},directives:[i.o,pr,Ii,i.s,i.m,E.a,wr,E.j,E.l,E.p,E.b,Hr,yn,ii],encapsulation:2}),t})(),Ts=(()=>{class t{constructor(t,e,n,r){this.filters=t,this.sort=e,this.page=n,this.debouncer=r,this.change=this.debouncer.change.pipe(Object(w.a)(()=>this.state))}get state(){const t={};this.page.size>0&&(t.page={from:this.page.firstItem,to:this.page.lastItem,size:this.page.size,current:this.page.current}),this.sort.comparator&&(t.sort=this.sort.comparator instanceof es?{by:this.sort.comparator.prop,reverse:this.sort.reverse}:{by:this.sort.comparator,reverse:this.sort.reverse});const e=this.filters.getActiveFilters();if(e.length>0){t.filters=[];for(const n of e)t.filters.push(n.state?n.state:n)}return t}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Ni),r.Vb(rs),r.Vb(Ri),r.Vb(Di))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),As=(()=>{class t{constructor(t){this.platformId=t}get tableRef(){return this._tableRef}set tableRef(t){this._tableRef=t}set table(t){Object(i.B)(this.platformId)&&t.nativeElement&&(this.tableRef=t.nativeElement.querySelector(".datagrid-table"))}getColumnDragHeight(){return this.tableRef?this.tableRef.clientHeight+"px":null}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.B))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();var xs=function(t){return t[t.WIDTH=0]="WIDTH",t[t.HIDDEN=1]="HIDDEN",t}({});const ks=t=>xs[t],Ls=t=>t===parseInt(t,10),js=Object.keys(xs).map(ks).filter(Ls);let Ds=(()=>{class t{constructor(){this.columns=[],this._cache=[]}cache(){this._cache=this.columns.map(t=>{const e=Object.assign({},t.value);return delete e.changes,e})}hasCache(){return!!this._cache.length}resetToLastCache(){this._cache.forEach((t,e)=>{this.columns[e].next(Object.assign(Object.assign({},t),{changes:js}))}),this._cache=[]}get columnStates(){return this.columns.map(t=>t.value)}get hasHideableColumns(){return this.columnStates.filter(t=>t.hideable).length>0}emitStateChangeAt(t,e){this.columns[t]&&this.emitStateChange(this.columns[t],e)}emitStateChange(t,e){t.next(Object.assign(Object.assign({},t.value),e))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Rs=(()=>{class t{constructor(t,e,n,i,s,o,a,c,u,l,h,f,d){this.organizer=t,this.items=e,this.expandableRows=n,this.selection=i,this.rowActionService=s,this.stateProvider=o,this.displayMode=a,this.renderer=c,this.detailService=u,this.el=h,this.page=f,this.commonStrings=d,this.SELECTION_TYPE=ys,this.refresh=new r.n(!1),this.selectedChanged=new r.n(!1),this.singleSelectedChanged=new r.n(!1),this.clrDgSingleSelectionAriaLabel=this.commonStrings.keys.singleSelectionAriaLabel,this.clrDgSingleActionableAriaLabel=this.commonStrings.keys.singleActionableAriaLabel,this.clrDetailExpandableAriaLabel=this.commonStrings.keys.detailExpandableAriaLabel,this._subscriptions=[],this.detailService.id=l}get loading(){return this.items.loading}set loading(t){this.items.loading=t}dataChanged(){this.items.refresh()}set selected(t){this.selection.selectionType=t?ys.Multi:ys.None,this.selection.updateCurrent(t,!1)}set singleSelected(t){this.selection.selectionType=ys.Single,t?this.selection.currentSingle=t:this.selection.currentSingle&&(this.selection.currentSingle=null)}set clrDgPreserveSelection(t){this.selection.preserveSelection=t}set rowSelectionMode(t){this.selection.rowSelectionMode=t}get allSelected(){return this.selection.isAllSelected()}set allSelected(t){this.selection.toggleAll()}ngAfterContentInit(){this.items.smart||(this.items.all=this.rows.map(t=>t.item)),this._subscriptions.push(this.rows.changes.subscribe(()=>{this.items.smart||(this.items.all=this.rows.map(t=>t.item)),this.rows.forEach(t=>{this._displayedRows.insert(t._view)})}))}ngAfterViewInit(){this.refresh.emit(this.stateProvider.state),this._subscriptions.push(this.stateProvider.change.subscribe(t=>this.refresh.emit(t)),this.selection.change.subscribe(t=>{this.selection.selectionType===ys.Single?this.singleSelectedChanged.emit(t):this.selection.selectionType===ys.Multi&&this.selectedChanged.emit(t)}),this.page.change.subscribe(()=>{this.datagridTable.nativeElement.focus()}),this.displayMode.view.subscribe(t=>{for(let e=this._projectedDisplayColumns.length;e>0;e--)this._projectedDisplayColumns.detach();for(let e=this._projectedCalculationColumns.length;e>0;e--)this._projectedCalculationColumns.detach();for(let e=this._calculationRows.length;e>0;e--)this._calculationRows.detach();for(let e=this._displayedRows.length;e>0;e--)this._displayedRows.detach();t===gs.DISPLAY?(this.renderer.removeClass(this.el.nativeElement,"datagrid-calculate-mode"),this.columns.forEach(t=>{this._projectedDisplayColumns.insert(t._view)}),this.rows.forEach(t=>{this._displayedRows.insert(t._view)})):(this.renderer.addClass(this.el.nativeElement,"datagrid-calculate-mode"),this.columns.forEach(t=>{this._projectedCalculationColumns.insert(t._view)}),this.rows.forEach(t=>{this._calculationRows.insert(t._view)}))}))}ngOnDestroy(){this._subscriptions.forEach(t=>t.unsubscribe())}resize(){this.organizer.resize()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ms),r.Lb(os),r.Lb(Xi),r.Lb(ws),r.Lb($i),r.Lb(Ts),r.Lb(vs),r.Lb(r.E),r.Lb(Yi),r.Lb($n),r.Lb(r.l),r.Lb(Ri),r.Lb(Qn))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-datagrid"]],contentQueries:function(t,e,n){var i;1&t&&(r.Eb(n,as,!0),r.Eb(n,cs,!0),r.Eb(n,ss,!1),r.Eb(n,Is,!1)),2&t&&(r.mc(i=r.ac())&&(e.iterator=i.first),r.mc(i=r.ac())&&(e.placeholder=i.first),r.mc(i=r.ac())&&(e.columns=i),r.mc(i=r.ac())&&(e.rows=i))},viewQuery:function(t,e){var n;1&t&&(r.Ic(ae,!0,r.Q),r.Ic(ce,!0,r.l),r.Ic(ue,!0,r.Q),r.Ic(le,!0,r.Q),r.Ic(he,!0,r.Q),r.Ic(fe,!0,r.Q)),2&t&&(r.mc(n=r.ac())&&(e.scrollableColumns=n.first),r.mc(n=r.ac())&&(e.datagridTable=n.first),r.mc(n=r.ac())&&(e._projectedDisplayColumns=n.first),r.mc(n=r.ac())&&(e._projectedCalculationColumns=n.first),r.mc(n=r.ac())&&(e._displayedRows=n.first),r.mc(n=r.ac())&&(e._calculationRows=n.first))},hostVars:4,hostBindings:function(t,e){2&t&&r.Db("datagrid-host",!0)("datagrid-detail-open",e.detailService.isOpen)},inputs:{clrDgSingleSelectionAriaLabel:"clrDgSingleSelectionAriaLabel",clrDgSingleActionableAriaLabel:"clrDgSingleActionableAriaLabel",clrDetailExpandableAriaLabel:"clrDetailExpandableAriaLabel",loading:["clrDgLoading","loading"],selected:["clrDgSelected","selected"],singleSelected:["clrDgSingleSelected","singleSelected"],clrDgPreserveSelection:"clrDgPreserveSelection",rowSelectionMode:["clrDgRowSelection","rowSelectionMode"]},outputs:{refresh:"clrDgRefresh",selectedChanged:"clrDgSelectedChange",singleSelectedChanged:"clrDgSingleSelectedChange"},features:[r.yb([ws,rs,Ni,Ri,os,ms,$i,Xi,Di,Yi,Kn,Ts,As,Ds,vs])],ngContentSelectors:_e,decls:32,vars:7,consts:[[1,"datagrid-outer-wrapper"],[1,"datagrid-inner-wrapper"],[1,"datagrid"],["datagrid",""],[1,"datagrid-table-wrapper"],["role","grid","tabindex","-1",1,"datagrid-table"],["datagridTable",""],["role","rowgroup",1,"datagrid-header"],["role","row",1,"datagrid-row"],[1,"datagrid-row-master","datagrid-row-flex"],[1,"datagrid-row-sticky"],["role","columnheader","class","datagrid-column datagrid-select datagrid-fixed-column",4,"ngIf"],["role","columnheader","class","datagrid-column datagrid-row-actions datagrid-fixed-column",4,"ngIf"],["role","columnheader","class","datagrid-column datagrid-expandable-caret datagrid-fixed-column",4,"ngIf"],[1,"datagrid-row-scrollable"],["projectedDisplayColumns",""],["displayedRows",""],[4,"ngIf"],["class","datagrid-spinner",4,"ngIf"],[1,"datagrid-calculation-table"],[1,"datagrid-calculation-header"],["projectedCalculationColumns",""],["calculationRows",""],["role","columnheader",1,"datagrid-column","datagrid-select","datagrid-fixed-column"],[1,"datagrid-column-title"],["clrCheckbox","","type","checkbox",3,"ngModel","ngModelChange"],[1,"datagrid-column-separator"],["role","columnheader",1,"datagrid-column","datagrid-row-actions","datagrid-fixed-column"],["role","columnheader",1,"datagrid-column","datagrid-expandable-caret","datagrid-fixed-column"],[1,"datagrid-spinner"],["clrMedium",""]],template:function(t,e){1&t&&(r.gc(ye),r.fc(0),r.Rb(1,"div",0),r.Rb(2,"div",1),r.Rb(3,"div",2,3),r.Rb(5,"div",4),r.Rb(6,"div",5,6),r.Rb(8,"div",7),r.Rb(9,"div",8),r.Rb(10,"div",9),r.Rb(11,"div",10),r.Bc(12,de,4,2,"div",11),r.Bc(13,pe,2,1,"div",11),r.Bc(14,ge,2,1,"div",12),r.Bc(15,be,2,1,"div",13),r.Qb(),r.Rb(16,"div",14),r.Nb(17,null,15),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Nb(19,null,16),r.fc(21,1),r.Bc(22,me,1,0,"clr-dg-placeholder",17),r.Qb(),r.Qb(),r.Qb(),r.fc(23,2),r.Bc(24,ve,3,0,"div",18),r.Qb(),r.fc(25,3),r.Qb(),r.Rb(26,"div",19),r.Rb(27,"div",20),r.Nb(28,null,21),r.Qb(),r.Nb(30,null,22),r.Qb()),2&t&&(r.zb(3),r.Ab("aria-hidden",!!e.detailService.isOpen||null),r.zb(9),r.hc("ngIf",e.selection.selectionType===e.SELECTION_TYPE.Multi),r.zb(1),r.hc("ngIf",e.selection.selectionType===e.SELECTION_TYPE.Single),r.zb(1),r.hc("ngIf",e.rowActionService.hasActionableRow),r.zb(1),r.hc("ngIf",e.expandableRows.hasExpandableRow||e.detailService.enabled),r.zb(7),r.hc("ngIf",!e.placeholder),r.zb(2),r.hc("ngIf",e.loading))},directives:[i.o,E.a,wr,E.j,E.l,cs,ii],encapsulation:2}),t})(),Ns=(()=>{class t{constructor(t,e,n){this.el=t,this.domAdapter=e,this.organizer=n,this._resizedBy=0}get resizedBy(){return this._resizedBy}get minColumnWidth(){return this.domAdapter.minWidth(this.el.nativeElement)||96}get maxResizeRange(){return this.widthBeforeResize-this.minColumnWidth}startResize(){this._resizedBy=0,this.isWithinMaxResizeRange=!0,this.widthBeforeResize=this.domAdapter.clientRect(this.el.nativeElement).width}endResize(){this.organizer.resize()}get widthAfterResize(){return this.widthBeforeResize+this._resizedBy}calculateResize(t){t<-this.maxResizeRange?(this._resizedBy=-this.maxResizeRange,this.isWithinMaxResizeRange=!1):(this._resizedBy=t,this.isWithinMaxResizeRange=!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.l),r.Vb(pi),r.Vb(ms))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ps=(()=>{class t{constructor(t,e,n,r,i,s,o){this.columnResizerService=t,this.renderer=e,this.ngZone=n,this.tableSizeService=r,this.commonString=i,this.document=s,this.columnSeparatorId=o,this.resizeStartedOnKeyDown=!1,this.unlisteners=[]}get resizeTrackerEl(){return this.resizeTrackerRef.nativeElement}get columnHandleEl(){return this.columnHandleRef.nativeElement}ngAfterViewInit(){this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(this.columnHandleEl,"keydown",t=>{this.showTrackerOnFirstKeyDown(t),this.moveTrackerOnKeyDown(t)})),this.unlisteners.push(this.renderer.listen(this.columnHandleEl,"keyup",t=>{this.hideTrackerOnKeyUp(t)}))})}get descriptionId(){return this.columnSeparatorId+"-aria-describedby"}showTracker(){this.columnResizerService.startResize();const t=this.tableSizeService.getColumnDragHeight();this.renderer.setStyle(this.resizeTrackerEl,"height",t),this.renderer.setStyle(this.resizeTrackerEl,"display","block")}moveTracker(t){this.columnResizerService.calculateResize(t),this.renderer.setStyle(this.resizeTrackerEl,"transform",`translateX(${this.columnResizerService.resizedBy}px)`),this.renderer.setStyle(this.document.body,"cursor","col-resize"),this.redFlagTracker()}hideTracker(){this.columnResizerService.endResize(),this.renderer.setStyle(this.resizeTrackerEl,"display","none"),this.renderer.setStyle(this.resizeTrackerEl,"transform","translateX(0px)"),this.renderer.setStyle(this.document.body,"cursor","auto")}showTrackerOnFirstKeyDown(t){this.resizeStartedOnKeyDown||!this.isArrowLeftKeyEvent(t)&&!this.isArrowRightKeyEvent(t)||(this.resizeStartedOnKeyDown=!0,this.renderer.addClass(this.resizeTrackerEl,"on-arrow-key-resize"),this.showTracker())}moveTrackerOnKeyDown(t){this.isArrowLeftKeyEvent(t)?this.moveTracker(this.columnResizerService.resizedBy-12):this.isArrowRightKeyEvent(t)&&this.moveTracker(this.columnResizerService.resizedBy+12)}hideTrackerOnKeyUp(t){this.resizeStartedOnKeyDown&&(this.isArrowLeftKeyEvent(t)||this.isArrowRightKeyEvent(t))&&(this.resizeStartedOnKeyDown=!1,this.renderer.removeClass(this.resizeTrackerEl,"on-arrow-key-resize"),this.hideTracker(),this.columnHandleEl.focus())}redFlagTracker(){this.isWithinMaxResizeRange!==this.columnResizerService.isWithinMaxResizeRange&&(this.isWithinMaxResizeRange=this.columnResizerService.isWithinMaxResizeRange,this.isWithinMaxResizeRange?this.renderer.removeClass(this.resizeTrackerEl,"exceeded-max"):this.renderer.addClass(this.resizeTrackerEl,"exceeded-max"))}isArrowLeftKeyEvent(t){return t.key===wn.ArrowLeft||t.key===Sn.ArrowLeft}isArrowRightKeyEvent(t){return t.key===wn.ArrowRight||t.key===Sn.ArrowRight}ngOnDestroy(){this.unlisteners.forEach(t=>t())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ns),r.Lb(r.E),r.Lb(r.z),r.Lb(As),r.Lb(Qn),r.Lb(i.d),r.Lb($n))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-column-separator"]],viewQuery:function(t,e){var n;1&t&&(r.Ic(we,!0),r.Ic(Se,!0)),2&t&&(r.mc(n=r.ac())&&(e.resizeTrackerRef=n.first),r.mc(n=r.ac())&&(e.columnHandleRef=n.first))},hostVars:2,hostBindings:function(t,e){2&t&&r.Db("datagrid-column-separator",!0)},features:[r.yb([Kn])],decls:6,vars:5,consts:[["type","button","clrDraggable","",1,"datagrid-column-handle",3,"clrGroup","clrDragStart","clrDragMove","clrDragEnd"],["columnHandle",""],[1,"clr-sr-only"],[1,"datagrid-column-resize-tracker"],["resizeTracker",""]],template:function(t,e){1&t&&(r.Rb(0,"button",0,1),r.Zb("clrDragStart",(function(){return e.showTracker()}))("clrDragMove",(function(t){return e.moveTracker(t.dragPosition.moveX)}))("clrDragEnd",(function(){return e.hideTracker()})),r.Qb(),r.Rb(2,"span",2),r.Dc(3),r.Qb(),r.Mb(4,"div",3,4)),2&t&&(r.hc("clrGroup",e.columnSeparatorId),r.Ab("aria-label",e.commonString.keys.columnSeparatorAriaLabel)("aria-describedby",e.descriptionId),r.zb(2),r.Ab("id",e.descriptionId),r.zb(1),r.Fc(" ",e.commonString.keys.columnSeparatorDescription," "))},directives:[Ci],encapsulation:2}),t})(),Vs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-column-toggle-title"]],ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})(),Fs=(()=>{class t{constructor(t){this.columnsService=t,this.allSelected=new r.n}get clrAllSelected(){return this.allSelected.asObservable()}hideableColumns(){return this.columnsService.columns.filter(t=>t.value.hideable)}get allHideablesVisible(){return 0===this.hideableColumns().filter(t=>t.value.hidden).length}selectAll(){this.hideableColumns().forEach(t=>this.columnsService.emitStateChange(t,{hidden:!1,changes:[xs.HIDDEN]})),this.allSelected.next(!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ds))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-column-toggle-button"]],outputs:{clrAllSelected:"clrAllSelected"},ngContentSelectors:C,decls:2,vars:1,consts:[["type","button",1,"btn","btn-sm","btn-link","switch-button",3,"disabled","click"]],template:function(t,e){1&t&&(r.gc(),r.Rb(0,"button",0),r.Zb("click",(function(){return e.selectAll()})),r.fc(1),r.Qb()),2&t&&r.hc("disabled",e.allHideablesVisible)},encapsulation:2}),t})(),Ms=(()=>{class t{constructor(t,e,n,r,i,s){this.commonStrings=t,this.columnsService=e,this.columnSwitchId=n,this.platformId=r,this.zone=i,this.popoverId=s,this.smartPosition={axis:Nn.VERTICAL,side:Zn.BEFORE,anchor:An.START,content:An.START}}get allColumnsVisible(){return this._allColumnsVisible}set allColumnsVisible(t){this._allColumnsVisible=t}get hideableColumnStates(){return this.columnsService.columns.filter(t=>t.value.hideable).map(t=>t.value)}get hasOnlyOneVisibleColumn(){return 0==this.columnsService.columns.length-this.hideableColumnStates.length&&1===this.hideableColumnStates.filter(t=>!t.hidden).length}toggleColumnState(t,e){const n=this.columnsService.columns.filter(e=>e.value===t)[0];this.columnsService.emitStateChange(n,{hidden:e,changes:[xs.HIDDEN]})}toggleSwitchPanel(){this.openState=!this.openState,this.openState&&Object(i.B)(this.platformId)&&this.menuDescriptionElement&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.menuDescriptionElement.nativeElement.focus()})})}allColumnsSelected(){this.allSelectedElement.nativeElement.focus()}trackByFn(t){return t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Qn),r.Lb(Ds),r.Lb($n),r.Lb(r.B),r.Lb(r.z),r.Lb($n))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-column-toggle"]],contentQueries:function(t,e,n){var i;1&t&&(r.Eb(n,Vs,!0),r.Eb(n,Fs,!0)),2&t&&(r.mc(i=r.ac())&&(e.customToggleTitle=i.first),r.mc(i=r.ac())&&(e.customToggleButton=i.first))},viewQuery:function(t,e){var n;1&t&&(r.Ic(Ee,!0,r.l),r.Ic(Ce,!0,r.l)),2&t&&(r.mc(n=r.ac())&&(e.menuDescriptionElement=n.first),r.mc(n=r.ac())&&(e.allSelectedElement=n.first))},hostVars:4,hostBindings:function(t,e){2&t&&r.Db("column-switch-wrapper",!0)("active",e.openState)},features:[r.yb([Kn,In,Pn,On])],ngContentSelectors:Le,decls:3,vars:7,consts:[["role","button","type","button","clrPopoverAnchor","","clrPopoverOpenCloseButton","",1,"btn","btn-sm","btn-link","column-toggle--action"],["shape","view-columns"],["class","column-switch","role","dialog","clrFocusTrap","",3,"id",4,"clrPopoverContent","clrPopoverContentAt","clrPopoverContentOutsideClickToClose","clrPopoverContentScrollToClose"],["role","dialog","clrFocusTrap","",1,"column-switch",3,"id"],[1,"switch-header"],["tabindex","-1",1,"clr-sr-only"],["menuDescription",""],["allSelected",""],[4,"ngIf"],["clrPopoverCloseButton","","type","button",1,"btn","btn-sm","btn-link","toggle-switch-close-button"],["shape","close"],[1,"switch-content","list-unstyled"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"switch-footer"],[3,"clrAllSelected",4,"ngIf"],["clrCheckbox","","type","checkbox",3,"disabled","ngModel","ngModelChange"],[3,"ngTemplateOutlet"],[3,"clrAllSelected"]],template:function(t,e){1&t&&(r.gc(ke),r.Rb(0,"button",0),r.Mb(1,"clr-icon",1),r.Qb(),r.Bc(2,xe,17,9,"div",2)),2&t&&(r.Ab("aria-controls",e.popoverId)("aria-owns",e.popoverId),r.zb(1),r.Ab("title",e.commonStrings.keys.pickColumns),r.zb(1),r.hc("clrPopoverContent",e.openState)("clrPopoverContentAt",e.smartPosition)("clrPopoverContentOutsideClickToClose",!0)("clrPopoverContentScrollToClose",!0))},directives:function(){return[Bn,Fn,yn,Vn,Dr,i.o,Mn,i.n,Ws,_r,E.a,wr,E.j,E.l,pr,i.s,Fs]},encapsulation:2}),t})(),Bs=(()=>{class t{constructor(t,e){this.detailService=t,this.commonStrings=e}get titleId(){return this.detailService.id+"-title"}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Yi),r.Lb(Qn))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-detail-header"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("datagrid-detail-header",!0)},ngContentSelectors:C,decls:5,vars:2,consts:[["clrFocusOnViewInit","",1,"datagrid-detail-header-title",3,"id"],[1,"datagrid-detail-pane-close"],["type","button",1,"btn","btn-link",3,"click"],["size","24","shape","times"]],template:function(t,e){1&t&&(r.gc(),r.Rb(0,"div",0),r.fc(1),r.Qb(),r.Rb(2,"div",1),r.Rb(3,"button",2),r.Zb("click",(function(){return e.detailService.close()})),r.Mb(4,"clr-icon",3),r.Qb(),r.Qb()),2&t&&(r.hc("id",e.titleId),r.zb(3),r.Ab("aria-label",e.commonStrings.keys.close))},directives:[ki,yn],encapsulation:2}),t})(),zs=(()=>{class t{constructor(t,e){this.detailService=t,this.commonStrings=e}closeCheck(){this.detailService.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Yi),r.Lb(Qn))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-detail"]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,Bs,!0),2&t&&r.mc(i=r.ac())&&(e.header=i.first)},hostVars:2,hostBindings:function(t,e){1&t&&r.Zb("keyup.esc",(function(){return e.closeCheck()}),!1,r.pc),2&t&&r.Db("datagrid-detail-pane",!0)},ngContentSelectors:C,decls:1,vars:1,consts:[["class","datagrid-detail-pane-content","role","dialog","aria-modal","true",3,"clrFocusTrap","id",4,"ngIf"],["role","dialog","aria-modal","true",1,"datagrid-detail-pane-content",3,"clrFocusTrap","id"],[1,"clr-sr-only"]],template:function(t,e){1&t&&(r.gc(),r.Bc(0,De,6,6,"div",0)),2&t&&r.hc("ngIf",e.detailService.isOpen)},directives:[i.o,Dr],encapsulation:2}),t})(),Us=(()=>{class t{constructor(t,e,n){this.templateRef=t,this.viewContainer=e,this.detailService=n,this.subscriptions=[],this.skip=!1,this.stateChange=new r.n(null),this.detailService.enabled=!0}set state(t){this.skip||this.detailService.toggle(t),this.skip=!1}ngOnInit(){this.subscriptions.push(this.detailService.stateChange.subscribe(t=>{this.togglePanel(!0===t)}))}togglePanel(t){let e=null;this.viewContainer.clear(),!0===t&&(this.viewContainer.createEmbeddedView(this.templateRef,{$implicit:this.detailService.state}),this.skip=!0,e=this.detailService.state),this.stateChange.emit(e)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.L),r.Lb(r.Q),r.Lb(Yi))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrIfDetail",""]],inputs:{state:["clrIfDetail","state"]},outputs:{stateChange:"clrIfDetailChange"}}),t})(),Hs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-detail-body"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("datagrid-detail-body",!0)},ngContentSelectors:C,decls:2,vars:0,consts:[[1,"clr-dg-detail-body-wrapper"]],template:function(t,e){1&t&&(r.gc(),r.Rb(0,"div",0),r.fc(1),r.Qb())},encapsulation:2}),t})(),Gs=(()=>{class t{constructor(t,e,n){this.selection=t,this.detailService=e,this.columnsService=n,this.SELECTION_TYPE=ys}get hasHideableColumns(){return this.columnsService.hasHideableColumns}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ws),r.Lb(Yi),r.Lb(Ds))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-footer"]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,Ms,!0),2&t&&r.mc(i=r.ac())&&(e.toggle=i.first)},hostVars:2,hostBindings:function(t,e){2&t&&r.Db("datagrid-footer",!0)},ngContentSelectors:Fe,decls:3,vars:2,consts:[[4,"ngIf"],[1,"clr-form-control-disabled"],[1,"datagrid-footer-select"],["clrCheckbox","","type","checkbox","checked","checked","disabled",""],[1,"datagrid-footer-description"]],template:function(t,e){1&t&&(r.gc(Ve),r.Bc(0,Re,6,1,"ng-container",0),r.Bc(1,Pe,5,1,"ng-container",0),r.fc(2)),2&t&&(r.hc("ngIf",e.selection.selectionType===e.SELECTION_TYPE.Multi&&e.selection.current.length>0),r.zb(1),r.hc("ngIf",!e.detailService.isOpen))},directives:[i.o,_r,wr,pr,Ms],encapsulation:2}),t})();const qs=new r.q("COLUMN_STATE"),Qs={provide:qs,useFactory:function(){return new a.a({changes:[]})}};let Ws=(()=>{class t{constructor(t){this._items=t}set trackBy(t){this._items&&(this._items.trackBy=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(os,8))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngForTrackBy",""]],inputs:{trackBy:["ngForTrackBy","trackBy"]}}),t})(),$s=(()=>{class t{constructor(t){this.page=t}ngOnInit(){this.pageSizeOptions&&0!==this.pageSizeOptions.length||(this.pageSizeOptions=[this.page.size])}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ri))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-page-size"]],inputs:{pageSizeOptions:["clrPageSizeOptions","pageSizeOptions"]},ngContentSelectors:C,decls:4,vars:4,consts:[[1,"clr-select-wrapper"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(t,e){1&t&&(r.gc(),r.fc(0),r.Rb(1,"div",0),r.Rb(2,"select",1),r.Zb("ngModelChange",(function(t){return e.page.size=t})),r.Bc(3,Me,2,2,"option",2),r.Qb(),r.Qb()),2&t&&(r.zb(2),r.Db("clr-page-size-select",!0),r.hc("ngModel",e.page.size),r.zb(1),r.hc("ngForOf",e.pageSizeOptions))},directives:[E.q,E.j,E.l,i.n,E.n,E.s],encapsulation:2}),t})(),Ks=(()=>{class t{constructor(t,e,n){this.page=t,this.commonStrings=e,this.detailService=n,this.currentChanged=new r.n(!1),this.page.activated=!0}ngOnInit(){this.page.size||(this.page.size=10),this._pageSubscription=this.page.change.subscribe(t=>this.currentChanged.emit(t))}ngOnDestroy(){this.page.resetPageSize(!0),this._pageSubscription&&this._pageSubscription.unsubscribe()}get pageSize(){return this.page.size}set pageSize(t){"number"==typeof t&&(this.page.size=t)}get totalItems(){return this.page.totalItems}set totalItems(t){"number"==typeof t&&(this.page.totalItems=t)}get lastPage(){return this.page.last}set lastPage(t){"number"==typeof t&&(this.page.last=t)}get currentPage(){return this.page.current}set currentPage(t){"number"==typeof t&&(this.page.current=t)}previous(){this.page.previous()}next(){this.page.next()}get firstItem(){return this.page.firstItem}get lastItem(){return this.page.lastItem}get middlePages(){const t=[];return this.page.current>1&&t.push(this.page.current-1),t.push(this.page.current),this.page.current<this.page.last&&t.push(this.page.current+1),t}updateCurrentPage(t){const e=parseInt(t.target.value,10);isNaN(e)||(this.page.current=e<1?1:e>this.page.last?this.page.last:e),this.currentPageInputRef.nativeElement.value=this.page.current}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ri),r.Lb(Qn),r.Lb(Yi))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dg-pagination"]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,$s,!0),2&t&&r.mc(i=r.ac())&&(e._pageSizeComponent=i.first)},viewQuery:function(t,e){var n;1&t&&r.Ic(Be,!0),2&t&&r.mc(n=r.ac())&&(e.currentPageInputRef=n.first)},hostVars:2,hostBindings:function(t,e){2&t&&r.Db("pagination",!0)},inputs:{pageSize:["clrDgPageSize","pageSize"],totalItems:["clrDgTotalItems","totalItems"],lastPage:["clrDgLastPage","lastPage"],currentPage:["clrDgPage","currentPage"],disableCurrentPageInput:["clrDgPageInputDisabled","disableCurrentPageInput"]},outputs:{currentChanged:"clrDgPageChange"},ngContentSelectors:$e,decls:2,vars:2,consts:[[4,"ngIf"],["class","pagination-size",4,"ngIf"],[1,"pagination-description"],["class","pagination-list",4,"ngIf"],[1,"pagination-size"],[1,"pagination-list"],["type","button",1,"pagination-first",3,"disabled","click"],["shape","step-forward-2 down"],["type","button",1,"pagination-previous",3,"disabled","click"],["shape","angle left"],["type","text","class","pagination-current clr-input",3,"size","value","keydown.enter","blur",4,"ngIf","ngIfElse"],["readOnly",""],["type","button",1,"pagination-next",3,"disabled","click"],["shape","angle right"],["type","button",1,"pagination-last",3,"disabled","click"],["shape","step-forward-2 up"],["type","text",1,"pagination-current","clr-input",3,"size","value","keydown.enter","blur"],["currentPageInput",""],[1,"pagination-description-compact"]],template:function(t,e){1&t&&(r.gc(We),r.Bc(0,qe,5,2,"ng-container",0),r.Bc(1,Qe,10,8,"ng-container",0)),2&t&&(r.hc("ngIf",!e.detailService.isOpen),r.zb(1),r.hc("ngIf",e.detailService.isOpen))},directives:[i.o,yn],encapsulation:2}),t})();const Zs="datagrid-fixed-width",Js="datagrid-hidden-column";let Ys=(()=>{class t{constructor(t,e,n){this.el=t,this.renderer=e,this.subscriptions=[],this.subscriptions.push(n.filterRenderSteps(bs.CLEAR_WIDTHS).subscribe(()=>this.clearWidth()))}set columnState(t){this.stateSubscription&&this.stateSubscription.unsubscribe(),this.runAllChanges=js,this.stateSubscription=t.subscribe(t=>this.stateChanges(t))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.stateSubscription&&this.stateSubscription.unsubscribe()}stateChanges(t){this.runAllChanges&&(t.changes=this.runAllChanges,delete this.runAllChanges),t.changes&&t.changes.length&&t.changes.forEach(e=>{switch(e){case xs.WIDTH:this.setWidth(t);break;case xs.HIDDEN:this.setHidden(t)}})}clearWidth(){this.renderer.removeClass(this.el.nativeElement,Zs),this.renderer.setStyle(this.el.nativeElement,"width",null)}setWidth(t){t.strictWidth?this.renderer.addClass(this.el.nativeElement,Zs):this.renderer.removeClass(this.el.nativeElement,Zs),this.renderer.setStyle(this.el.nativeElement,"width",t.width+"px")}setHidden(t){t.hidden?this.renderer.addClass(this.el.nativeElement,Js):this.renderer.removeClass(this.el.nativeElement,Js)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.E),r.Lb(ms))},t.\u0275dir=r.Gb({type:t,selectors:[["clr-dg-cell"]]}),t})(),Xs=(()=>{class t{constructor(t,e,n,i,s,o,a){this.el=t,this.renderer=e,this.organizer=n,this.domAdapter=i,this.columnResizerService=s,this.columnsService=o,this.columnState=a,this.resizeEmitter=new r.n,this.widthSet=!1,this.autoSet=!1,this.subscriptions=[],this.subscriptions.push(this.organizer.filterRenderSteps(bs.CLEAR_WIDTHS).subscribe(()=>this.clearWidth())),this.subscriptions.push(a.subscribe(t=>this.stateChanges(t)))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}stateChanges(t){t.changes&&t.changes.length&&t.changes.forEach(e=>{switch(e){case xs.WIDTH:this.setWidth(t);break;case xs.HIDDEN:this.setHidden(t)}})}clearWidth(){this.widthSet&&!this.columnResizerService.resizedBy&&this.renderer.setStyle(this.el.nativeElement,"width",null),this.autoSet&&this.renderer.removeClass(this.el.nativeElement,Zs)}detectStrictWidth(){return this.columnResizerService.resizedBy?this.columnResizerService.widthAfterResize:this.autoSet?0:this.domAdapter.userDefinedWidth(this.el.nativeElement)}computeWidth(t){let e=t;return e||(e=this.domAdapter.scrollWidth(this.el.nativeElement)),e}getColumnWidthState(){const t=this.detectStrictWidth();return{width:this.computeWidth(t),strictWidth:t}}setColumnState(t){this.columnsService.columns[t]=this.columnState}setWidth(t){t.strictWidth?(this.columnResizerService.resizedBy&&(this.resizeEmitter.emit(t.width),this.renderer.setStyle(this.el.nativeElement,"width",t.width+"px"),this.widthSet=!1),this.renderer.addClass(this.el.nativeElement,Zs),this.autoSet=!1):(this.renderer.removeClass(this.el.nativeElement,Zs),this.renderer.setStyle(this.el.nativeElement,"width",t.width+"px"),this.widthSet=!0,this.autoSet=!0)}setHidden(t){t.hidden?this.renderer.addClass(this.el.nativeElement,Js):this.renderer.removeClass(this.el.nativeElement,Js)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.E),r.Lb(ms),r.Lb(pi),r.Lb(Ns),r.Lb(Ds),r.Lb(qs))},t.\u0275dir=r.Gb({type:t,selectors:[["clr-dg-column"]],outputs:{resizeEmitter:"clrDgColumnResize"},features:[r.yb([Ns,Qs])]}),t})(),to=(()=>{class t{userDefinedWidth(t){return 0}scrollBarWidth(t){return 0}scrollWidth(t){return 0}computedHeight(t){return 0}clientRect(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}minWidth(t){return 0}focus(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),eo=(()=>{class t{constructor(t){this.columnsService=t,this.subscriptions=[]}ngAfterContentInit(){this.setColumnState(),this.subscriptions.push(this.cells.changes.subscribe(()=>{this.setColumnState()}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}setColumnState(){this.cells.length===this.columnsService.columns.length&&this.cells.forEach((t,e)=>{this.columnsService.columns[e]&&(t.columnState=this.columnsService.columns[e])})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ds))},t.\u0275dir=r.Gb({type:t,selectors:[["clr-dg-row"],["clr-dg-row-detail"]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,Ys,!1),2&t&&r.mc(i=r.ac())&&(e.cells=i)}}),t})();const no=t=>Object(i.B)(t)?new pi:new to;let ro=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.organizer=t,this.items=e,this.page=n,this.domAdapter=r,this.el=i,this.renderer=s,this.detailService=o,this.tableSizeService=a,this.columnsService=c,this._heightSet=!1,this.subscriptions=[],this.columnsSizesStable=!1,this.shouldStabilizeColumns=!0,this.subscriptions.push(this.organizer.filterRenderSteps(bs.COMPUTE_COLUMN_WIDTHS).subscribe(()=>this.computeHeadersWidth())),this.subscriptions.push(this.page.sizeChange.subscribe(()=>{this._heightSet&&this.resetDatagridHeight()})),this.subscriptions.push(this.detailService.stateChange.subscribe(t=>this.toggleDetailPane(t))),this.subscriptions.push(this.items.change.subscribe(()=>this.shouldStabilizeColumns=!0))}ngAfterContentInit(){this.setupColumns(),this.subscriptions.push(this.headers.changes.subscribe(()=>{this.setupColumns(),this.columnsSizesStable=!1,this.stabilizeColumns()}))}ngAfterViewInit(){this.tableSizeService.table=this.el}ngAfterViewChecked(){this.shouldStabilizeColumns&&this.stabilizeColumns(),this.shouldComputeHeight()&&setTimeout(()=>{this.computeDatagridHeight()})}setupColumns(){this.headers.forEach((t,e)=>t.setColumnState(e)),this.columnsService.columns.splice(this.headers.length),this.rows.forEach(t=>t.setColumnState())}shouldComputeHeight(){return!this._heightSet&&this.page.size>0&&this.items.displayed.length===this.page.size}toggleDetailPane(t){this.headers&&(t&&!this.columnsService.hasCache()?(this.columnsService.cache(),this.headers.forEach((e,n)=>{n>0&&this.columnsService.emitStateChangeAt(n,{changes:[xs.HIDDEN],hidden:t})})):t||this.columnsService.resetToLastCache())}computeDatagridHeight(){const t=this.domAdapter.clientRect(this.el.nativeElement).height;this.renderer.setStyle(this.el.nativeElement,"height",t+"px"),this._heightSet=!0}resetDatagridHeight(){this.renderer.setStyle(this.el.nativeElement,"height",""),this._heightSet=!1}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}computeHeadersWidth(){const t=this.headers.length;let e=!0;this.headers.forEach((n,r)=>{const i=Object.assign({changes:[xs.WIDTH]},n.getColumnWidthState());i.strictWidth||(e=!1),t===r+1&&e&&(i.strictWidth=0),this.columnsService.emitStateChangeAt(r,i)})}stabilizeColumns(){this.shouldStabilizeColumns=!1,this.columnsSizesStable||this.items.displayed.length>0&&(this.organizer.resize(),this.columnsSizesStable=!0)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(ms),r.Lb(os),r.Lb(Ri),r.Lb(pi),r.Lb(r.l),r.Lb(r.E),r.Lb(Yi),r.Lb(As),r.Lb(Ds))},t.\u0275dir=r.Gb({type:t,selectors:[["clr-datagrid"]],contentQueries:function(t,e,n){var i;1&t&&(r.Eb(n,Xs,!1),r.Eb(n,eo,!0)),2&t&&(r.mc(i=r.ac())&&(e.headers=i),r.mc(i=r.ac())&&(e.rows=i))},features:[r.yb([{provide:pi,useFactory:no,deps:[r.B]}])]}),t})(),io=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n,hi,E.g,fi,Lr,di,Ti,Oi,si,zn,Rr,Li]]}),t})(),so=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,E.g,_n,Ti]]}),t})(),oo=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n,fi]]}),t})(),ao=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[io,so,oo]}),t})();class co{static linkParent(t,e,n){t.forEach(t=>t[n]=e)}static linkVertical(t,e=!0){t.forEach((e,n)=>{n>0&&(e.up=t[n-1]),n<t.length-1&&(e.down=t[n+1])}),e&&t.length>1&&(t[0].up=t[t.length-1],t[t.length-1].down=t[0])}}function uo(t,e,n){return l.a.create(r=>{e(r);const i=t.subscribe(r);return()=>{i.unsubscribe(),n&&n(r)}})}let lo=(()=>{class t{constructor(t,e,n,r,i,s){this.id=t,this.renderer=e,this.parent=n,this.toggleService=r,this.focusService=i,this.platformId=s,this._unlistenFuncs=[],this.focusBackOnTrigger=!1,this.resetChildren(),this.moveToFirstItemWhenOpen(),this.parent||this.handleRootFocus()}moveToFirstItemWhenOpen(){this.toggleService.openChange.subscribe(t=>{t&&this.toggleService.originalEvent&&setTimeout(()=>{this.focusService.moveTo(this),this.focusService.move(this.parent?Xr.RIGHT:Xr.DOWN)})})}handleRootFocus(){this.toggleService.openChange.subscribe(t=>{t||(this.focusService.reset(this),this.focusBackOnTrigger&&this.focus()),this.focusBackOnTrigger=t})}get trigger(){return this._trigger}set trigger(t){this._trigger=t,this.parent?this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowright",t=>this.toggleService.toggleWithEvent(t))):(this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowup",t=>this.toggleService.toggleWithEvent(t))),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.arrowdown",t=>this.toggleService.toggleWithEvent(t))),this.focusService.listenToArrowKeys(t))}get container(){return this._container}set container(t){this._container=t,this._unlistenFuncs.push(this.renderer.listen(t,"keydown.tab",t=>this.toggleService.toggleWithEvent(t))),this.parent?this._unlistenFuncs.push(this.renderer.listen(t,"keydown.esc",t=>{this.focusService.move(Xr.LEFT),t.stopPropagation()})):(this.focusService.registerContainer(t),this._unlistenFuncs.push(this.renderer.listen(t,"keydown.esc",t=>this.toggleService.toggleWithEvent(t))),this._unlistenFuncs.push(this.renderer.listen(t,"blur",e=>{this.children.pipe(Object(_.a)(1)).subscribe(t=>t.forEach(t=>t.blur()));const n=e.relatedTarget||document.activeElement;n&&Object(i.B)(this.platformId)&&(t.contains(n)||n===this.trigger)||(this.focusBackOnTrigger=!1,this.toggleService.open=!1)})))}focus(){this.trigger&&Object(i.B)(this.platformId)&&this.trigger.focus()}blur(){this.trigger&&Object(i.B)(this.platformId)&&this.trigger.blur()}activate(){Object(i.B)(this.platformId)&&this.trigger.click()}openAndGetChildren(){return uo(this.children,()=>this.toggleService.open=!0)}closeAndGetThis(){return uo(Object(c.a)(this),()=>this.toggleService.open=!1)}resetChildren(){this.children=new u.a(1),this.parent?this.right=this.openAndGetChildren().pipe(Object(w.a)(t=>t[0])):(this.down=this.openAndGetChildren().pipe(Object(w.a)(t=>t[0])),this.up=this.openAndGetChildren().pipe(Object(w.a)(t=>t[t.length-1])))}addChildren(t){co.linkVertical(t),this.parent&&co.linkParent(t,this.closeAndGetThis(),Xr.LEFT),this.children.next(t)}ngOnDestroy(){this._unlistenFuncs.forEach(t=>t()),this.focusService.detachListeners()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb($n),r.Vb(r.E),r.Vb(t,12),r.Vb(On),r.Vb(ni),r.Vb(r.B))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const ho=Yr(lo);let fo=(()=>{class t{constructor(){this._changes=new s.a}get changes(){return this._changes.asObservable()}closeMenus(){this._changes.next(!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const po={provide:fo,useFactory:function(t){return t||new fo},deps:[[new r.A,new r.J,fo]]};let go=(()=>{class t{constructor(t,e,n,r){this.parent=t,this.toggleService=e,this.cdr=n,this.subscriptions=[],this.isMenuClosable=!0,this.subscriptions.push(r.changes.subscribe(t=>this.toggleService.open=t)),this.subscriptions.push(e.openChange.subscribe(()=>this.cdr.markForCheck()))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(t,12),r.Lb(On),r.Lb(r.h),r.Lb(fo))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dropdown"]],hostVars:4,hostBindings:function(t,e){2&t&&r.Db("dropdown",!0)("open",e.toggleService.open)},inputs:{isMenuClosable:["clrCloseMenuOnItemClick","isMenuClosable"]},features:[r.yb([po,{provide:ti,useExisting:r.l},ri,On,ho])],ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})();const bo=[Kn,{provide:Jr,useClass:(()=>{class t{constructor(t,e,n,r){this.id=t,this.el=e,this.renderer=n,this.platformId=r,this.disabled=!1,n.setAttribute(e.nativeElement,"id",t),n.setAttribute(e.nativeElement,"tabindex","-1")}focus(){Object(i.B)(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","0"),this.el.nativeElement.focus(),this.el.nativeElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))}blur(){Object(i.B)(this.platformId)&&(this.renderer.setAttribute(this.el.nativeElement,"tabindex","-1"),this.el.nativeElement.blur())}activate(){Object(i.B)(this.platformId)&&this.el.nativeElement.click()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb($n),r.Vb(r.l),r.Vb(r.E),r.Vb(r.B))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})()}];let mo=(()=>{class t{constructor(t,e,n,r,i){this.dropdown=t,this.el=e,this._dropdownService=n,this.renderer=r,this.focusableItem=i,this.setByDeprecatedDisabled=!1}set disabled(t){this.focusableItem.disabled=!!t||""===t}get disabled(){return this.focusableItem.disabled}set disabledDeprecated(t){this.focusableItem.disabled=!!t||""===t,this.setByDeprecatedDisabled=!0}get disabledDeprecated(){return this.focusableItem.disabled}set dropdownItemId(t){this.focusableItem.id=t}get dropdownItemId(){return this.focusableItem.id}ngAfterViewInit(){this.unlisten=this.renderer.listen(this.el.nativeElement,"click",()=>this.onDropdownItemClick())}onDropdownItemClick(){this.dropdown.isMenuClosable&&!this.el.nativeElement.classList.contains("disabled")&&this._dropdownService.closeMenus()}ngOnDestroy(){this.unlisten()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(go),r.Lb(r.l),r.Lb(fo),r.Lb(r.E),r.Lb(Jr))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrDropdownItem",""]],hostVars:8,hostBindings:function(t,e){2&t&&(r.Ab("role","menuitem")("aria-disabled",e.disabled)("disabled",e.disabled&&e.setByDeprecatedDisabled?"":null)("id",e.dropdownItemId),r.Db("disabled",e.disabled)("dropdown-item",!0))},inputs:{disabled:["clrDisabled","disabled"],disabledDeprecated:["disabled","disabledDeprecated"],dropdownItemId:["id","dropdownItemId"]},features:[r.yb([bo])]}),t})();var vo=function(t){return t[t.RIGHT_CENTER=0]="RIGHT_CENTER",t[t.RIGHT_TOP=1]="RIGHT_TOP",t[t.RIGHT_BOTTOM=2]="RIGHT_BOTTOM",t[t.TOP_CENTER=3]="TOP_CENTER",t[t.TOP_RIGHT=4]="TOP_RIGHT",t[t.TOP_LEFT=5]="TOP_LEFT",t[t.BOTTOM_CENTER=6]="BOTTOM_CENTER",t[t.BOTTOM_RIGHT=7]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=8]="BOTTOM_LEFT",t[t.LEFT_CENTER=9]="LEFT_CENTER",t[t.LEFT_TOP=10]="LEFT_TOP",t[t.LEFT_BOTTOM=11]="LEFT_BOTTOM",t}({});const yo="absolute",_o="scroll",wo="auto";class So{constructor(t){this.element=t,this.scrollableElements=[],this.boundOnScrollListener=this.emitScrollEvent.bind(this),t.style.position=yo,t.style.top=0,t.style.bottom="auto",t.style.left=0,t.style.right="auto"}anchor(t,e,n,{offsetX:r=0,offsetY:i=0,useAnchorParent:s=!1}={}){this.addScrollEventListeners(t),s&&(t=t.parentNode),t.style.position="static";const o=t.getBoundingClientRect(),a=this.element.getBoundingClientRect();let c=o.left-a.left+r,u=o.top-a.top+i;switch(e){case vo.LEFT_TOP:case vo.TOP_LEFT:break;case vo.TOP_CENTER:c+=o.width/2;break;case vo.TOP_RIGHT:case vo.RIGHT_TOP:c+=o.width;break;case vo.LEFT_BOTTOM:case vo.BOTTOM_LEFT:u+=o.height;break;case vo.BOTTOM_CENTER:u+=o.height,c+=o.width/2;break;case vo.BOTTOM_RIGHT:case vo.RIGHT_BOTTOM:u+=o.height,c+=o.width;break;case vo.LEFT_CENTER:u+=o.height/2;break;case vo.RIGHT_CENTER:u+=o.height/2,c+=o.width}switch(n){case vo.LEFT_TOP:case vo.TOP_LEFT:break;case vo.TOP_CENTER:c-=a.width/2;break;case vo.TOP_RIGHT:case vo.RIGHT_TOP:c-=a.width;break;case vo.LEFT_BOTTOM:case vo.BOTTOM_LEFT:u-=a.height;break;case vo.BOTTOM_CENTER:u-=a.height,c-=a.width/2;break;case vo.BOTTOM_RIGHT:case vo.RIGHT_BOTTOM:u-=a.height,c-=a.width;break;case vo.LEFT_CENTER:u-=a.height/2;break;case vo.RIGHT_CENTER:u-=a.height/2,c-=a.width}const l=getComputedStyle(this.element),h=parseInt(l.marginLeft,10),f=parseInt(l.marginRight,10),d=parseInt(l.marginTop,10),p=parseInt(l.marginBottom,10);switch(e){case vo.LEFT_TOP:case vo.TOP_LEFT:case vo.TOP_RIGHT:case vo.RIGHT_TOP:n!==vo.BOTTOM_RIGHT&&n!==vo.RIGHT_BOTTOM||(u-=p,c-=f),n!==vo.BOTTOM_LEFT&&n!==vo.LEFT_BOTTOM||(u-=d,c+=h),n!==vo.TOP_LEFT&&n!==vo.LEFT_TOP||(u+=d,c+=h),n!==vo.TOP_RIGHT&&n!==vo.RIGHT_TOP||(u+=d,c-=f);break;case vo.LEFT_BOTTOM:case vo.BOTTOM_LEFT:case vo.BOTTOM_RIGHT:case vo.RIGHT_BOTTOM:n!==vo.BOTTOM_LEFT&&n!==vo.LEFT_BOTTOM||(u-=p,c+=h),n!==vo.BOTTOM_RIGHT&&n!==vo.RIGHT_BOTTOM||(u-=p,c-=f),n!==vo.TOP_LEFT&&n!==vo.LEFT_TOP||(u+=d,c+=h),n!==vo.TOP_RIGHT&&n!==vo.RIGHT_TOP||(u+=d,c-=f);break;case vo.TOP_CENTER:u-=p,c+=h,c-=f;break;case vo.BOTTOM_CENTER:u+=d,c+=h,c-=f;break;case vo.LEFT_CENTER:u+=d,u-=p,c-=f;break;case vo.RIGHT_CENTER:u+=d,u-=p,c+=h}return this.element.style.transform=`translateX(${Math.round(c)}px) translateY(${Math.round(u)}px)`,this._scroll.asObservable()}release(){this.element.style.transform="",this.removeScrollEventListeners()}isPositioned(t){const e=getComputedStyle(t).position;return"relative"===e||e===yo||"fixed"===e}emitScrollEvent(){this._scroll.next()}addScrollEventListeners(t){this._scroll=new s.a;const e=t;let n=t;for(;n&&n!==document&&(this.scrolls(n)&&(n.addEventListener("scroll",this.boundOnScrollListener),this.scrollableElements.push(n)),n===e||!this.isPositioned(n));)n=n.parentNode}removeScrollEventListeners(){for(const t of this.scrollableElements)t.removeEventListener("scroll",this.boundOnScrollListener);this.scrollableElements.length=0,this._scroll&&(this._scroll.complete(),delete this._scroll)}scrolls(t){const e=getComputedStyle(t);return e.overflowX===_o||e.overflowX===wo||e.overflowY===_o||e.overflowY===wo}}let Eo=(()=>{class t{constructor(t,e){this.parentHost=e,this.updateAnchor=!1,this.popoverOptions={},this.closeOnOutsideClick=!1,this.el=t.get(r.l),this.toggleService=t.get(On),this.renderer=t.get(r.E),this.anchorElem=e.nativeElement,this.popoverInstance=new So(this.el.nativeElement),this.subscription=this.toggleService.openChange.subscribe(t=>{t?(this.anchor(),this.attachESCListener()):(this.release(),this.detachESCListener())}),this.toggleService.open&&(this.anchor(),this.attachESCListener())}anchor(){this.updateAnchor=!0,this.ignore=this.toggleService.originalEvent}release(){this.detachOutsideClickListener(),this.popoverInstance.release()}ngAfterViewChecked(){this.updateAnchor&&(this.updateAnchor=!1,this.popoverInstance.anchor(this.anchorElem,this.anchorPoint,this.popoverPoint,this.popoverOptions).subscribe(()=>{this.toggleService.open=!1}),this.attachOutsideClickListener())}ngOnDestroy(){this.release(),this.detachESCListener(),this.subscription.unsubscribe()}get isOffScreen(){return!this.toggleService.open}attachESCListener(){this.popoverOptions.ignoreGlobalESCListener||(this.documentESCListener=this.renderer.listen("document","keydown",t=>{t&&t.key&&("Escape"!==t.key&&"Esc"!==t.key||(this.toggleService.open=!1))}))}detachESCListener(){this.documentESCListener&&(this.documentESCListener(),delete this.documentESCListener)}attachOutsideClickListener(){this.closeOnOutsideClick&&(this.hostClickListener=this.renderer.listen(this.el.nativeElement,"click",t=>this.ignore=t),this.ignoredElement&&(this.ignoredElementClickListener=this.renderer.listen(this.ignoredElement,"click",t=>this.ignore=t)),this.documentClickListener=this.renderer.listen("document","click",t=>{t===this.ignore?delete this.ignore:this.toggleService.open=!1}))}detachOutsideClickListener(){this.closeOnOutsideClick&&(this.hostClickListener&&(this.hostClickListener(),delete this.hostClickListener),this.ignoredElementClickListener&&(this.ignoredElementClickListener(),delete this.ignoredElementClickListener),this.documentClickListener&&(this.documentClickListener(),delete this.documentClickListener))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.r),r.Lb(r.l,4))},t.\u0275dir=r.Gb({type:t,hostVars:2,hostBindings:function(t,e){2&t&&r.Db("is-off-screen",e.isOffScreen)}}),t})(),Co=(()=>{class t extends Eo{constructor(t,e,n,r){if(!e)throw new Error("clr-dropdown-menu should only be used inside of a clr-dropdown");super(t,e),n?(this.anchorPoint=vo.RIGHT_TOP,this.popoverPoint=vo.LEFT_TOP):(this.anchorPoint=vo.BOTTOM_LEFT,this.popoverPoint=vo.LEFT_TOP),this.popoverOptions.allowMultipleOpen=!0,this.popoverOptions.ignoreGlobalESCListener=!0,this.closeOnOutsideClick=!0,this.focusHandler=r}set position(t){switch(t){case"top-right":this.anchorPoint=vo.TOP_RIGHT,this.popoverPoint=vo.RIGHT_BOTTOM;break;case"top-left":this.anchorPoint=vo.TOP_LEFT,this.popoverPoint=vo.LEFT_BOTTOM;break;case"bottom-right":this.anchorPoint=vo.BOTTOM_RIGHT,this.popoverPoint=vo.RIGHT_TOP;break;case"bottom-left":this.anchorPoint=vo.BOTTOM_LEFT,this.popoverPoint=vo.LEFT_TOP;break;case"right-top":this.anchorPoint=vo.RIGHT_TOP,this.popoverPoint=vo.LEFT_TOP;break;case"right-bottom":this.anchorPoint=vo.RIGHT_BOTTOM,this.popoverPoint=vo.LEFT_BOTTOM;break;case"left-top":this.anchorPoint=vo.LEFT_TOP,this.popoverPoint=vo.RIGHT_TOP;break;case"left-bottom":this.anchorPoint=vo.LEFT_BOTTOM,this.popoverPoint=vo.RIGHT_BOTTOM;break;default:this.anchorPoint=vo.BOTTOM_LEFT,this.popoverPoint=vo.LEFT_TOP}}ngAfterContentInit(){this.focusHandler.container=this.el.nativeElement,this.items.changes.subscribe(()=>this.focusHandler.addChildren(this.items.toArray())),this.items.notifyOnChanges()}ngOnDestroy(){super.ngOnDestroy(),this.focusHandler.resetChildren()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.r),r.Lb(ti,8),r.Lb(t,12),r.Lb(lo))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-dropdown-menu"]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,Jr,!1),2&t&&r.mc(i=r.ac())&&(e.items=i)},hostVars:3,hostBindings:function(t,e){2&t&&(r.Ab("role","menu"),r.Db("dropdown-menu",!0))},inputs:{position:["clrPosition","position"]},features:[r.wb],ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})(),Oo=(()=>{class t{constructor(t,e,n,r){this.toggleService=e,this.isRootLevelToggle=!0,t.parent&&(this.isRootLevelToggle=!1),r.trigger=n.nativeElement}get active(){return this.toggleService.open}onDropdownTriggerClick(t){this.toggleService.toggleWithEvent(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(go),r.Lb(On),r.Lb(r.l),r.Lb(lo))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrDropdownTrigger",""],["","clrDropdownToggle",""]],hostVars:10,hostBindings:function(t,e){1&t&&r.Zb("click",(function(t){return e.onDropdownTriggerClick(t)})),2&t&&(r.Ab("aria-haspopup","menu")("aria-expanded",e.active),r.Db("dropdown-toggle",e.isRootLevelToggle)("dropdown-item",!e.isRootLevelToggle)("expandable",!e.isRootLevelToggle)("active",e.active))}}),t})(),Io=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c],Lr,_n]}),t})();const To=["info","warning","danger","success"];let Ao=(()=>{class t{constructor(t){this.commonStrings=t,this.defaultIconShape="info-circle",this._alertIconShape="",this._alertType="info"}get alertType(){return this._alertType}set alertType(t){To.indexOf(t)>-1&&(this._alertType=t)}get alertIconShape(){return""===this._alertIconShape?this.iconInfoFromType(this._alertType).shape:this._alertIconShape}set alertIconShape(t){t?t!==this._alertIconShape&&(this._alertIconShape=t):this._alertIconShape=""}get alertIconTitle(){return this.iconInfoFromType(this._alertType).title}iconInfoFromType(t){const e={shape:"",cssClass:"",title:""};switch(t){case"warning":e.shape="exclamation-triangle",e.cssClass="alert-warning",e.title=this.commonStrings.keys.warning;break;case"danger":e.shape="exclamation-circle",e.cssClass="alert-danger",e.title=this.commonStrings.keys.danger;break;case"success":e.shape="check-circle",e.cssClass="alert-success",e.title=this.commonStrings.keys.success;break;default:e.shape=this.defaultIconShape,e.cssClass="alert-info",e.title=this.commonStrings.keys.info}return e}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Qn))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),xo=(()=>{class t{constructor(){this._change=new s.a}get changes(){return this._change.asObservable()}get current(){return this._current}set current(t){t!==this._current&&(this._current=t,this._change.next(t))}get activeAlerts(){return this.allAlerts&&this.allAlerts.filter(t=>!t._closed)}get currentAlert(){return this.activeAlerts&&this.activeAlerts[this.current]}set currentAlert(t){this.current=this.activeAlerts.indexOf(t)}get count(){return this.activeAlerts&&this.activeAlerts.length||0}manage(t){this.subscription&&this.subscription.unsubscribe(),this.allAlerts=t,this.current="number"==typeof this._current?this._current:0,this._change.next(this.current),this.subscription=this.allAlerts.changes.subscribe(()=>{this.current>=this.allAlerts.length&&(this.current=Math.max(0,this.allAlerts.length-1))})}next(){this.current=this.current===this.activeAlerts.length-1?0:this.current+1}previous(){0!==this.activeAlerts.length&&(this.current=0===this.current?this.activeAlerts.length-1:this.current-1)}close(){this.previous()}destroy(){this.subscription&&this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),ko=(()=>{class t{constructor(t,e,n,i){this.iconService=t,this.cdr=e,this.multiAlertService=n,this.commonStrings=i,this.subscriptions=[],this.isSmall=!1,this.closable=!0,this.isAppLevel=!1,this.clrCloseButtonAriaLabel=this.commonStrings.keys.alertCloseButtonAriaLabel,this._closed=!1,this._closedChanged=new r.n(!1)}ngOnInit(){this.multiAlertService&&this.subscriptions.push(this.multiAlertService.changes.subscribe(()=>{this.hidden=this.multiAlertService.currentAlert!==this}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}set alertType(t){this.iconService.alertType=t}get alertType(){return this.iconService.alertType}set alertIconShape(t){this.iconService.alertIconShape=t}get alertClass(){return this.iconService.iconInfoFromType(this.iconService.alertType).cssClass}set hidden(t){t!==this._hidden&&(this._hidden=t,this.cdr.detectChanges())}get hidden(){return this._hidden}close(){this.closable&&(this._closed=!0,this.multiAlertService&&this.multiAlertService.close(),this._closedChanged.emit(!0))}open(){this._closed=!1,this._closedChanged.emit(!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ao),r.Lb(r.h),r.Lb(xo,8),r.Lb(Qn))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-alert"]],inputs:{isSmall:["clrAlertSizeSmall","isSmall"],closable:["clrAlertClosable","closable"],isAppLevel:["clrAlertAppLevel","isAppLevel"],clrCloseButtonAriaLabel:"clrCloseButtonAriaLabel",_closed:["clrAlertClosed","_closed"],alertType:["clrAlertType","alertType"],alertIconShape:["clrAlertIcon","alertIconShape"]},outputs:{_closedChanged:"clrAlertClosedChange"},features:[r.yb([Ao])],ngContentSelectors:C,decls:1,vars:1,consts:[["class","alert",3,"ngClass","alert-hidden","alert-sm","alert-app-level",4,"ngIf"],[1,"alert",3,"ngClass"],[1,"alert-items"],["type","button","class","close",3,"click",4,"ngIf"],["type","button",1,"close",3,"click"],["shape","close"]],template:function(t,e){1&t&&(r.gc(),r.Bc(0,Ze,4,8,"div",0)),2&t&&r.hc("ngIf",!e._closed)},directives:[i.o,i.m,yn],styles:["[_nghost-%COMP%] { display: block; }"]}),t})(),Lo=(()=>{class t{constructor(t){this.iconService=t}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ao))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-alert-item"]],hostAttrs:[1,"alert-item"],ngContentSelectors:C,decls:3,vars:2,consts:[[1,"alert-icon-wrapper"],[1,"alert-icon"]],template:function(t,e){1&t&&(r.gc(),r.Rb(0,"div",0),r.Mb(1,"clr-icon",1),r.Qb(),r.fc(2)),2&t&&(r.zb(1),r.Ab("shape",e.iconService.alertIconShape)("title",e.iconService.alertIconTitle))},directives:[yn],encapsulation:2}),t})(),jo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["",8,"alert-text"]]}),t})(),Do=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n,Io]]}),t})(),Ro=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[Do]}),t})(),No=(()=>{class t{}return t.NAV_LEVEL_1=1,t.NAV_LEVEL_2=2,t.NAV_CLOSE_ALL="NAV_CLOSE_ALL",t.NAV_OPEN="NAV_OPEN",t.NAV_CLOSE="NAV_CLOSE",t.NAV_TOGGLE="NAV_TOGGLE",t.NAV_CLASS_HAMBURGER_MENU="open-hamburger-menu",t.NAV_CLASS_OVERFLOW_MENU="open-overflow-menu",t.NAV_CLASS_TRIGGER_1="header-hamburger-trigger",t.NAV_CLASS_TRIGGER_2="header-overflow-trigger",t.NAV_CLASS_LEVEL_1="clr-nav-level-1",t.NAV_CLASS_LEVEL_2="clr-nav-level-2",t})();class Po{constructor(t,e){this._controlCode=t,this._navLevel=e}get controlCode(){return this._controlCode}get navLevel(){return this._navLevel}}let Vo=(()=>{class t{constructor(){this.responsiveNavList=[],this.registerNavSubject=new u.a,this.controlNavSubject=new s.a,this.closeAllNavs()}get registeredNavs(){return this.registerNavSubject.asObservable()}get navControl(){return this.controlNavSubject.asObservable()}registerNav(t){t&&!this.isNavRegistered(t)&&(this.responsiveNavList.push(t),this.registerNavSubject.next(this.responsiveNavList))}isNavRegistered(t){return this.responsiveNavList.indexOf(t)>-1&&(console.error("Multiple clr-nav-level "+t+" attributes found. Please make sure that only one exists"),!0)}unregisterNav(t){const e=this.responsiveNavList.indexOf(t);e>-1&&(this.responsiveNavList.splice(e,1),this.registerNavSubject.next(this.responsiveNavList))}sendControlMessage(t,e){const n=new Po(t,e);this.controlNavSubject.next(n)}closeAllNavs(){const t=new Po(No.NAV_CLOSE_ALL,-999);this.controlNavSubject.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Fo=(()=>{class t{constructor(t,e){this.elRef=t,this.responsiveNavService=e}ngOnInit(){this._classList=this.elRef.nativeElement.classList,this._subscription=this.responsiveNavService.navControl.subscribe({next:t=>{this.processMessage(t)}})}processMessage(t){let e=No.NAV_CLASS_HAMBURGER_MENU;t.controlCode===No.NAV_CLOSE_ALL?(this._classList.remove(No.NAV_CLASS_HAMBURGER_MENU),this._classList.remove(No.NAV_CLASS_OVERFLOW_MENU)):t.navLevel===No.NAV_LEVEL_1?this.controlNav(t.controlCode,e):t.navLevel===No.NAV_LEVEL_2&&(e=No.NAV_CLASS_OVERFLOW_MENU,this.controlNav(t.controlCode,e))}controlNav(t,e){t===No.NAV_OPEN?this._classList.add(e):t===No.NAV_CLOSE?this._classList.remove(e):t===No.NAV_TOGGLE&&this._classList.toggle(e)}ngOnDestroy(){this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(Vo))},t.\u0275dir=r.Gb({type:t,selectors:[["clr-main-container"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("main-container",!0)}}),t})(),Mo=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n]]}),t})(),Bo=(()=>{class t extends Qi{}return t.\u0275fac=function(e){return zo(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["clr-main-container"]],features:[r.wb]}),t})();const zo=r.Tb(Bo);let Uo=(()=>{class t extends Wi{constructor(t,e,n){if(!e)throw new Error("clr-header should only be used inside of a clr-main-container");super(t,e),this.responsiveNavService=n}get flavor(){return this.responsiveNavService.responsiveNavList.reduce((t,e)=>t+e,0)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.h),r.Lb(Bo,8),r.Lb(Vo))},t.\u0275dir=r.Gb({type:t,selectors:[["clr-header"]],features:[r.wb]}),t})(),Ho=(()=>{class t{constructor(t,e){this.responsiveNavService=t,this.commonStrings=e,this.isNavLevel1OnPage=!1,this.isNavLevel2OnPage=!1,this.openNavLevel=null,this.responsiveNavCodes=No,this._subscription=this.responsiveNavService.registeredNavs.subscribe({next:t=>{this.initializeNavTriggers(t)}})}resetNavTriggers(){this.isNavLevel1OnPage=!1,this.isNavLevel2OnPage=!1}initializeNavTriggers(t){this.resetNavTriggers(),t.length>2?console.error("More than 2 Nav Levels detected."):t.forEach(t=>{t===No.NAV_LEVEL_1?this.isNavLevel1OnPage=!0:t===No.NAV_LEVEL_2&&(this.isNavLevel2OnPage=!0)})}closeOpenNav(){this.responsiveNavService.closeAllNavs()}toggleNav(t){this.openNavLevel=this.openNavLevel===t?null:t,this.responsiveNavService.sendControlMessage(No.NAV_TOGGLE,t)}ngOnDestroy(){this._subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Vo),r.Lb(Qn))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-header"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("header",!0)},ngContentSelectors:C,decls:4,vars:2,consts:[["type","button","class","header-hamburger-trigger",3,"click",4,"ngIf"],["type","button","class","header-overflow-trigger",3,"click",4,"ngIf"],[1,"header-backdrop",3,"click"],["type","button",1,"header-hamburger-trigger",3,"click"],["type","button",1,"header-overflow-trigger",3,"click"]],template:function(t,e){1&t&&(r.gc(),r.Bc(0,Je,2,1,"button",0),r.fc(1),r.Bc(2,Ye,2,1,"button",1),r.Rb(3,"div",2),r.Zb("click",(function(){return e.closeOpenNav()})),r.Qb()),2&t&&(r.hc("ngIf",e.isNavLevel1OnPage),r.zb(2),r.hc("ngIf",e.isNavLevel2OnPage))},directives:[i.o],encapsulation:2}),t})(),Go=(()=>{class t{constructor(t,e){this.responsiveNavService=t,this.elementRef=e}ngOnInit(){this.level===No.NAV_LEVEL_1||this.level===No.NAV_LEVEL_2?(this.responsiveNavService.registerNav(this.level),this.addNavClass(this.level)):console.error("Nav Level can only be 1 or 2")}addNavClass(t){const e=this.elementRef.nativeElement.classList;t===No.NAV_LEVEL_1?e.add(No.NAV_CLASS_LEVEL_1):t===No.NAV_LEVEL_2&&e.add(No.NAV_CLASS_LEVEL_2)}get level(){return this._level}get responsiveNavCodes(){return No}open(){this.responsiveNavService.sendControlMessage(No.NAV_OPEN,this.level)}close(){this.responsiveNavService.sendControlMessage(No.NAV_CLOSE,this.level)}onMouseClick(t){let e=t;const n=this.elementRef.nativeElement;for(;e;){if(e===n)return;if(e.classList.contains("nav-link"))return void this.close();e=e.parentNode}}ngOnDestroy(){this.responsiveNavService.unregisterNav(this.level)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Vo),r.Lb(r.l))},t.\u0275dir=r.Gb({type:t,selectors:[["","clr-nav-level",""]],hostBindings:function(t,e){1&t&&r.Zb("click",(function(t){return e.onMouseClick(t.target)}))},inputs:{_level:["clr-nav-level","_level"]}}),t})(),qo=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n,Io]]}),t})(),Qo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var n;1&t&&r.Ic(r.L,!0),2&t&&r.mc(n=r.ac())&&(e.template=n.first)},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.Bc(0,Xe,1,0,"ng-template"))},encapsulation:2}),t})(),Wo=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})(),$o=(()=>{class t extends Qi{}return t.\u0275fac=function(e){return Ko(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["clr-tabs"]],features:[r.wb]}),t})();const Ko=r.Tb($o);let Zo=(()=>{class t extends Wi{constructor(t,e,n,r){if(!e)throw new Error("clrTabLink and clr-tab-content should only be used inside of a clr-tabs");super(t,e),this.ifActive=r,this.id=n}get flavor(){return this.ifActive.current===this.id}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.h),r.Lb($o,8),r.Lb(Or),r.Lb(Tr))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrTabLink",""],["clr-tab-content"]],features:[r.wb]}),t})();var Jo=function(t){return t.HORIZONTAL="horizontal",t.VERTICAL="vertical",t}({});let Yo=(()=>{class t{constructor(){this._children=[],this.layout=Jo.HORIZONTAL}register(t){this._children.push(t)}get children(){return this._children}get activeTab(){return this.children.find(t=>t.active)}get overflowTabs(){return this.layout===Jo.VERTICAL?[]:this.children.filter(t=>!0===t.tabLink.inOverflow)}unregister(t){const e=this.children.indexOf(t);e>-1&&this.children.splice(e,1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Xo=0,ta=(()=>{class t{constructor(t,e,n,r){this.ifActiveService=t,this.id=e,this.ariaService=n,this.tabsService=r,this.tabContentId||(this.tabContentId="clr-tab-content-"+Xo++)}set templateRef(t){this.viewRef=this.tabsService.tabContentViewContainer.createEmbeddedView(t)}get ariaLabelledBy(){return this.ariaService.ariaLabelledBy}get tabContentId(){return this.ariaService.ariaControls}set tabContentId(t){this.ariaService.ariaControls=t}get active(){return this.ifActiveService.current===this.id}ngOnDestroy(){const t=this.tabsService.tabContentViewContainer.indexOf(this.viewRef);t>-1&&this.tabsService.tabContentViewContainer.remove(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Tr),r.Lb(Or),r.Lb(ei),r.Lb(Yo))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-tab-content"]],viewQuery:function(t,e){var n;1&t&&r.wc(tn,!0),2&t&&r.mc(n=r.ac())&&(e.templateRef=n.first)},inputs:{tabContentId:["id","tabContentId"]},ngContentSelectors:C,decls:2,vars:0,consts:[["tabContentProjectedRef",""],["role","tabpanel",1,"tab-content",3,"id","hidden"]],template:function(t,e){1&t&&(r.gc(),r.Bc(0,en,2,7,"ng-template",null,0,r.Cc))},encapsulation:2}),t})(),ea=0;const na=new r.q("TABS_ID"),ra={provide:na,useFactory:function(){return"clr-tabs-"+ea++}};let ia=0,sa=(()=>{class t{constructor(t,e,n,r,i,s,o,a){this.ifActiveService=t,this.id=e,this.ariaService=n,this.el=r,this.cfr=i,this.viewContainerRef=s,this.tabsService=o,this.tabsId=a,this.tabLinkId||(this.tabLinkId="clr-tab-link-"+ia++);const c=this.cfr.resolveComponentFactory(Qo);this.templateRefContainer=this.viewContainerRef.createComponent(c,void 0,void 0,[[this.el.nativeElement]]).instance}set inOverflow(t){this._inOverflow=t}get inOverflow(){return this._inOverflow&&this.tabsService.layout!==Jo.VERTICAL}get addLinkClasses(){return!this.inOverflow}get ariaControls(){return this.ariaService.ariaControls}get tabLinkId(){return this.ariaService.ariaLabelledBy}set tabLinkId(t){this.ariaService.ariaLabelledBy=t}activate(){this.ifActiveService.current=this.id}get active(){return this.ifActiveService.current===this.id}get tabindex(){return this.active?0:-1}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Tr),r.Lb(Or),r.Lb(ei),r.Lb(r.l),r.Lb(r.j),r.Lb(r.Q),r.Lb(Yo),r.Lb(na))},t.\u0275dir=r.Gb({type:t,selectors:[["","clrTabLink",""]],hostAttrs:["role","tab","type","button"],hostVars:13,hostBindings:function(t,e){1&t&&r.Zb("click",(function(){return e.activate()})),2&t&&(r.Ub("id",e.tabLinkId),r.Ab("aria-hidden",!1)("aria-controls",e.ariaControls)("aria-selected",e.active)("tabindex",e.tabindex),r.Db("btn",!0)("btn-link",e.addLinkClasses)("nav-link",e.addLinkClasses)("active",e.active))},inputs:{tabLinkId:["id","tabLinkId"],inOverflow:["clrTabLinkInOverflow","inOverflow"]}}),t})(),oa=(()=>{class t{constructor(t,e,n){this.ifActiveService=t,this.id=e,this.tabsService=n,n.register(this)}ngOnDestroy(){this.tabsService.unregister(this)}get active(){return this.ifActiveService.current===this.id}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Tr),r.Lb(Or),r.Lb(Yo))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-tab"]],contentQueries:function(t,e,n){var i;1&t&&(r.vc(n,sa,!0),r.vc(n,ta,!0)),2&t&&(r.mc(i=r.ac())&&(e.tabLink=i.first),r.mc(i=r.ac())&&(e.tabContent=i.first))},features:[r.yb([Ir,ei])],ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})(),aa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-tab-overflow-content"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("dropdown-menu",!0)},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})(),ca=(()=>{class t{constructor(t,e,n,r,i){this.ifActiveService=t,this.toggleService=e,this.tabsService=n,this.tabsId=r,this.commonStrings=i,this.subscriptions=[],this._tabLinkDirectives=[],this.tabLinkElements=[],this._mousedown=!1}get overflowPosition(){return this._tabLinkDirectives.filter(t=>!t.inOverflow).length}set tabContentViewContainer(t){this.tabsService.tabContentViewContainer=t}set layout(t){Object.keys(Jo).map(t=>Jo[t]).indexOf(t)>=0&&(this.tabsService.layout=t)}get layout(){return this.tabsService.layout}get tabLinkDirectives(){return this._tabLinkDirectives}get activeTabInOverflow(){return this.tabsService.overflowTabs.indexOf(this.tabsService.activeTab)>-1}get activeTabPosition(){return this._tabLinkDirectives.findIndex(t=>t.active)}get tabIds(){return this.tabsService.children.map(t=>t.tabLink.tabLinkId).join(" ")}get isCurrentInOverflow(){return this.keyFocus.current>=this.overflowPosition}get isVertical(){return this.layout===Jo.VERTICAL}toggleOverflowOnPosition(t){this.toggleService.open=t>=this.overflowPosition}set tabOverflowEl(t){this._tabOverflowEl=t&&t.nativeElement,this.toggleService.open&&t&&this.keyFocus.focusCurrent()}resetKeyFocusCurrentToActive(t){this.keyFocus.nativeElement.contains(t.relatedTarget)||this.keyFocus.current===this.activeTabPosition||(this.keyFocus.current=this.activeTabPosition)}toggleOverflowOnClick(){this.keyFocus.moveTo(this.isCurrentInOverflow&&this.toggleService.open?this.overflowPosition-1:this.overflowPosition),this._mousedown=!1}openOverflowOnFocus(){this._mousedown||this.toggleService.open||this.keyFocus.moveTo(this.activeTabPosition)}closeOnFocusOut(t){this._tabOverflowEl.contains(t.relatedTarget)||!this.toggleService.open||this._mousedown||(this.toggleService.open=!1,this.tabLinkElements[this.activeTabPosition]===t.relatedTarget&&(this.keyFocus.current=this.activeTabPosition))}closeOnEscapeKey(){this.keyFocus.moveTo(this.overflowPosition-1)}closeOnOutsideClick(t,e){t.target===e||e.contains(t.target)||!this._tabOverflowEl.contains(t.target)&&this.isCurrentInOverflow&&this.keyFocus.moveTo(this.overflowPosition-1)}listenForTabLinkChanges(){return this.tabs.changes.pipe(Object(v.a)(this.tabs.map(t=>t.tabLink))).subscribe(()=>{this._tabLinkDirectives=this.tabs.map(t=>t.tabLink),this.tabLinkElements=this._tabLinkDirectives.map(t=>t.el.nativeElement)})}ngAfterContentInit(){this.subscriptions.push(this.listenForTabLinkChanges()),void 0===this.ifActiveService.current&&this.tabLinkDirectives[0]&&this.tabLinkDirectives[0].activate(),this.keyFocus.current=this.activeTabPosition}ngOnDestroy(){this.subscriptions.forEach(t=>{t.unsubscribe()})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Tr),r.Lb(On),r.Lb(Yo),r.Lb(na),r.Lb(Qn))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-tabs"]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,oa,!1),2&t&&r.mc(i=r.ac())&&(e.tabs=i)},viewQuery:function(t,e){var n;1&t&&(r.wc(nn,!0,r.Q),r.Ic(aa,!0,r.l),r.wc(ci,!0)),2&t&&(r.mc(n=r.ac())&&(e.tabContentViewContainer=n.first),r.mc(n=r.ac())&&(e.tabOverflowEl=n.first),r.mc(n=r.ac())&&(e.keyFocus=n.first))},hostVars:2,hostBindings:function(t,e){2&t&&r.Db("tabs-vertical",e.isVertical)},inputs:{layout:["clrLayout","layout"]},features:[r.yb([Tr,On,Yo,ra])],decls:5,vars:4,consts:[["role","tablist","clrDirection","both",1,"nav",3,"clrKeyFocus","clrFocusChange","focusout"],[4,"ngFor","ngForOf"],[4,"ngIf"],["tabContentViewContainer",""],["role","presentation",1,"nav-item"],[3,"ngTemplateOutlet"],["role","presentation",1,"tabs-overflow","bottom-right"],["role","application",1,"nav-item"],["type","button","aria-hidden","true",1,"btn","btn-link","nav-link","dropdown-toggle",3,"mousedown","focus","click"],["tabOverflowTrigger",""],["shape","ellipsis-horizontal"],[3,"keydown.esc","click","focusout",4,"ngIf"],[3,"keydown.esc","click","focusout"],[3,"ngTemplateOutlet",4,"ngIf"]],template:function(t,e){1&t&&(r.Rb(0,"ul",0),r.Zb("clrFocusChange",(function(t){return e.toggleOverflowOnPosition(t)}))("focusout",(function(t){return e.resetKeyFocusCurrentToActive(t)})),r.Bc(1,sn,2,1,"ng-container",1),r.Bc(2,un,7,11,"ng-container",2),r.Qb(),r.Nb(3,null,3)),2&t&&(r.hc("clrKeyFocus",e.tabLinkElements),r.Ab("aria-owns",e.tabIds),r.zb(1),r.hc("ngForOf",e.tabLinkDirectives),r.zb(1),r.hc("ngIf",e.tabsService.overflowTabs.length>0))},directives:[ci,i.n,i.o,i.s,yn,aa],encapsulation:2}),t})(),ua=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,Lr,_n,Wo,ui],Lr]}),t})(),la=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n,Lr,Li],Lr,_n,Li]}),t})(),ha=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[Mo,qo,ua,la]}),t})(),fa=(()=>{class t{constructor(t){this._document=t}stopScrolling(){this._document.body.classList.add("no-scrolling")}resumeScrolling(){this._document.body.classList.contains("no-scrolling")&&this._document.body.classList.remove("no-scrolling")}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(i.d))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),da=(()=>{class t{constructor(t,e,n){this._scrollingService=t,this.commonStrings=e,this.modalId=n,this._open=!1,this._openChanged=new r.n(!1),this.closable=!0,this.staticBackdrop=!0,this.skipAnimation="false",this.bypassScrollService=!1,this.stopClose=!1,this.altClose=new r.n(!1)}ngOnChanges(t){!this.bypassScrollService&&t&&t.hasOwnProperty("_open")&&(t._open.currentValue?this._scrollingService.stopScrolling():this._scrollingService.resumeScrolling())}ngOnDestroy(){this._scrollingService.resumeScrolling()}open(){this._open||(this._open=!0,this._openChanged.emit(!0))}close(){this.stopClose?this.altClose.emit(!1):this.closable&&this._open&&(this._open=!1,this.focusTrap.setPreviousFocus())}fadeDone(t){"void"===t.toState&&this._openChanged.emit(!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(fa),r.Lb(Qn),r.Lb($n))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-modal"]],viewQuery:function(t,e){var n;1&t&&r.Ic(Dr,!0),2&t&&r.mc(n=r.ac())&&(e.focusTrap=n.first)},hostVars:2,hostBindings:function(t,e){1&t&&r.Zb("keyup.escape",(function(){return e.close()}),!1,r.oc),2&t&&r.Db("open",e._open)},inputs:{_open:["clrModalOpen","_open"],closable:["clrModalClosable","closable"],staticBackdrop:["clrModalStaticBackdrop","staticBackdrop"],skipAnimation:["clrModalSkipAnimation","skipAnimation"],bypassScrollService:["clrModalOverrideScrollService","bypassScrollService"],stopClose:["clrModalPreventClose","stopClose"],size:["clrModalSize","size"]},outputs:{_openChanged:"clrModalOpenChange",altClose:"clrModalAlternateClose"},features:[r.yb([Kn],[fa]),r.xb],ngContentSelectors:dn,decls:1,vars:1,consts:[["clrFocusTrap","","class","modal",4,"ngIf"],["clrFocusTrap","",1,"modal"],["role","dialog","aria-modal","true",1,"modal-dialog"],[1,"clr-sr-only"],[1,"modal-content-wrapper"],[1,"modal-content"],[1,"modal-header--accessible"],["clrFocusOnViewInit","",1,"modal-title-wrapper",3,"id"],["type","button","class","close",3,"click",4,"ngIf"],["aria-hidden","true",1,"modal-backdrop",3,"click"],["type","button",1,"close",3,"click"],["shape","close"]],template:function(t,e){1&t&&(r.gc(fn),r.Bc(0,hn,16,14,"div",0)),2&t&&r.hc("ngIf",e._open)},directives:[i.o,Dr,ki,yn],styles:["[_nghost-%COMP%] {\n        display: none;\n      }\n      .open[_nghost-%COMP%] {\n        display: inline;\n      }"],data:{animation:[Object(S.k)("fadeDown",[Object(S.j)("* => false",[Object(S.i)({opacity:0,transform:"translate(0, -25%)"}),Object(S.e)("0.2s ease-in-out")]),Object(S.j)("false => *",[Object(S.e)("0.2s ease-in-out",Object(S.i)({opacity:0,transform:"translate(0, -25%)"}))])]),Object(S.k)("fade",[Object(S.j)("void => *",[Object(S.i)({opacity:0}),Object(S.e)("0.2s ease-in-out",Object(S.i)({opacity:.85}))]),Object(S.j)("* => void",[Object(S.e)("0.2s ease-in-out",Object(S.i)({opacity:0}))])])]}}),t})(),pa=(()=>{class t{constructor(){this.tabindex=0}mouseDown(){delete this.tabindex}mouseUp(){this.tabindex=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["",8,"modal-body"]],hostVars:1,hostBindings:function(t,e){1&t&&r.Zb("mousedown",(function(){return e.mouseDown()}))("mouseup",(function(){return e.mouseUp()})),2&t&&r.Ab("tabindex",e.tabindex)}}),t})(),ga=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n,Rr,Li],_n,Li]}),t})(),ba=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n,Li],Lr]}),t})(),ma=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c],Lr,_n]}),t})(),va=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[Io,ba,ma]}),t})(),ya=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,ga,Do]]}),t})(),_a=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n]]}),t})(),wa=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n,_a],_a]}),t})(),Sa=(()=>{class t{constructor(){this.externalId="",this.max=100,this._value=0}set id(t){this._ID=t,this.externalId=null}get id(){return this._ID}get value(){return this._value}set value(t){this._value=t}get progressClass(){return!0}get labeledClass(){return this._labeled}set clrLabeled(t){this._labeled=Nr(t)}get fadeClass(){return this._fade}set clrFade(t){this._fade=Nr(t)}get loopClass(){return this._loop}set clrLoop(t){this._loop=Nr(t)}get successClass(){return this._success}set clrSuccess(t){this._success=Nr(t)}get dangerClass(){return this._danger}set clrDanger(t){this._danger=Nr(t)}get flashClass(){return this._flash}set clrFlash(t){this._flash=Nr(t)}get flashDangerClass(){return this._flashDanger}set clrFlashDanger(t){this._flashDanger=Nr(t)}displayStringValue(){return this._labeled}get displayValue(){return this.displayval?this.displayval:(this.value||0)+"%"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-progress-bar"]],hostVars:17,hostBindings:function(t,e){2&t&&(r.Ab("id",e.externalId),r.Db("progress",e.progressClass)("labeled",e.labeledClass)("progress-fade",e.fadeClass)("loop",e.loopClass)("success",e.successClass)("danger",e.dangerClass)("flash",e.flashClass)("flash-danger",e.flashDangerClass))},inputs:{max:["clrMax","max"],id:"id",value:["clrValue","value"],clrLabeled:"clrLabeled",clrFade:"clrFade",clrLoop:"clrLoop",clrSuccess:"clrSuccess",clrDanger:"clrDanger",clrFlash:"clrFlash",clrFlashDanger:"clrFlashDanger",displayval:["clrDisplayval","displayval"]},decls:2,vars:5,consts:[[3,"id"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Mb(0,"progress",0),r.Bc(1,pn,2,1,"span",1)),2&t&&(r.hc("id",e.id),r.Ab("max",e.max)("value",e.value)("data-displayval",e.displayValue),r.zb(1),r.hc("ngIf",e.displayStringValue()))},directives:[i.o],encapsulation:2}),t})(),Ea=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();var Ca=function(t){return t.HORIZONTAL="horizontal",t.VERTICAL="vertical",t}({}),Oa=function(t){return t.NOT_STARTED="not-started",t.CURRENT="current",t.PROCESSING="processing",t.SUCCESS="success",t.ERROR="error",t}({});let Ia=(()=>{class t{constructor(t){this.attributeMap=new Map,this.attributeMap.set(Oa.NOT_STARTED,{iconShape:"circle",ariaLabel:t.keys.timelineStepNotStarted}),this.attributeMap.set(Oa.CURRENT,{iconShape:"dot-circle",ariaLabel:t.keys.timelineStepCurrent}),this.attributeMap.set(Oa.PROCESSING,{iconShape:void 0,ariaLabel:t.keys.timelineStepProcessing}),this.attributeMap.set(Oa.SUCCESS,{iconShape:"success-standard",ariaLabel:t.keys.timelineStepSuccess}),this.attributeMap.set(Oa.ERROR,{iconShape:"error-standard",ariaLabel:t.keys.timelineStepError})}getAriaLabel(t){return this.attributeMap.get(t).ariaLabel}getIconShape(t){return this.attributeMap.get(t).iconShape}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Qn))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),Ta=(()=>{class t{constructor(){this.layout=Ca.HORIZONTAL}get isVertical(){return this.layout===Ca.VERTICAL}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-timeline"]],hostVars:4,hostBindings:function(t,e){2&t&&r.Db("clr-timeline",!0)("clr-timeline-vertical",e.isVertical)},inputs:{layout:["clrLayout","layout"]},features:[r.yb([Ia])],ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})(),Aa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-timeline-step-title"]],hostVars:3,hostBindings:function(t,e){2&t&&(r.Ab("aria-hidden",!0),r.Db("clr-timeline-step-title",!0))},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})(),xa=(()=>{class t{constructor(t,e){this.iconAttributeService=t,this.platformId=e,this.state=Oa.NOT_STARTED}ngAfterContentInit(){this.stepTitle&&Object(i.B)(this.platformId)&&(this.stepTitleText=this.stepTitle.nativeElement.innerText)}get iconAriaCurrent(){return this.state===Oa.CURRENT}get iconAriaLabel(){return this.iconAttributeService.getAriaLabel(this.state)}get iconShape(){return this.iconAttributeService.getIconShape(this.state)}get isProcessing(){return this.state===Oa.PROCESSING}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Ia),r.Lb(r.B))},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-timeline-step"]],contentQueries:function(t,e,n){var i;1&t&&r.Eb(n,Aa,!0,r.l),2&t&&r.mc(i=r.ac())&&(e.stepTitle=i.first)},hostVars:2,hostBindings:function(t,e){2&t&&r.Db("clr-timeline-step",!0)},inputs:{state:["clrState","state"]},ngContentSelectors:vn,decls:9,vars:3,consts:[[1,"clr-sr-only"],[4,"ngIf","ngIfElse"],[1,"clr-timeline-step-body"],["processing",""],["clrMedium",""]],template:function(t,e){if(1&t&&(r.gc(mn),r.fc(0),r.Rb(1,"span",0),r.Dc(2),r.Qb(),r.Bc(3,gn,2,3,"ng-container",1),r.Rb(4,"div",2),r.fc(5,1),r.fc(6,2),r.Qb(),r.Bc(7,bn,1,1,"ng-template",null,3,r.Cc)),2&t){const t=r.nc(8);r.zb(2),r.Ec(e.stepTitleText),r.zb(1),r.hc("ngIf",!e.isProcessing)("ngIfElse",t)}},directives:[i.o,yn,ii],encapsulation:2}),t})(),ka=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-timeline-step-description"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("clr-timeline-step-description",!0)},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})(),La=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["clr-timeline-step-header"]],hostVars:2,hostBindings:function(t,e){2&t&&r.Db("clr-timeline-step-header",!0)},ngContentSelectors:C,decls:1,vars:0,template:function(t,e){1&t&&(r.gc(),r.fc(0))},encapsulation:2}),t})(),ja=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[i.c,_n,si],_n,si]}),t})(),Da=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[Ro,ao,_n,ga,fi,Lr,Rr,Li,tr,hi,ha,va,ya,Oi,wa,si,Ea,zn,ja]}),t})()},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},AytR:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={production:!0,firebase:{apiKey:"AIzaSyDsfuR7dGyYFuXCzq1TFChCP-K6iqjTimA",authDomain:"data-course-261609.firebaseapp.com",databaseURL:"https://data-course-261609.firebaseio.com",projectId:"data-course-261609",storageBucket:"data-course-261609.appspot.com",messagingSenderId:"26810996853",appId:"1:26810996853:web:68eaf158951b103202003c",measurementId:"G-RLF2LDRQSR"},version:n("kiQV").version}},Ce4a:function(t,e,n){"use strict";var r=n("Ju5/");e.a=r.a.Uint8Array},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},DlmY:function(t,e,n){"use strict";var r=n("Y7yP"),i=Object(r.a)(Object,"create"),s=Object.prototype.hasOwnProperty,o=Object.prototype.hasOwnProperty;function a(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}a.prototype.clear=function(){this.__data__=i?i(null):{},this.size=0},a.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},a.prototype.get=function(t){var e=this.__data__;if(i){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return s.call(e,t)?e[t]:void 0},a.prototype.has=function(t){var e=this.__data__;return i?void 0!==e[t]:o.call(e,t)},a.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?"__lodash_hash_undefined__":e,this};var c=a,u=n("nLtN"),l=n("3cmB"),h=function(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map};function f(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}f.prototype.clear=function(){this.size=0,this.__data__={hash:new c,map:new(l.a||u.a),string:new c}},f.prototype.delete=function(t){var e=h(this,t).delete(t);return this.size-=e?1:0,e},f.prototype.get=function(t){return h(this,t).get(t)},f.prototype.has=function(t){return h(this,t).has(t)},f.prototype.set=function(t,e){var n=h(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},e.a=f},EUcb:function(t,e,n){"use strict";e.a=function(t){return null!=t&&"object"==typeof t}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new c(t,this.total))}}class c extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},IzLi:function(t,e,n){"use strict";e.a=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},JX91:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("LRne"),i=n("0EUg");function s(...t){return Object(i.a)()(Object(r.a)(...t))}var o=n("z+Ro");function a(...t){const e=t[t.length-1];return Object(o.a)(e)?(t.pop(),n=>s(t,n,e)):e=>s(t,e)}},Js68:function(t,e,n){"use strict";e.a=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},"Ju5/":function(t,e,n){"use strict";var r=n("XqMk"),i="object"==typeof self&&self&&self.Object===Object&&self,s=r.a||i||Function("return this")();e.a=s},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},L3Qv:function(t,e,n){"use strict";e.a=function(){return!1}},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},LvDl:function(t,e,n){(function(t){var r;(function(){var i,s="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,u=128,l=1/0,h=9007199254740991,f=NaN,d=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],g="[object Arguments]",b="[object Array]",m="[object Boolean]",v="[object Date]",y="[object Error]",_="[object Function]",w="[object GeneratorFunction]",S="[object Map]",E="[object Number]",C="[object Object]",O="[object Promise]",I="[object RegExp]",T="[object Set]",A="[object String]",x="[object Symbol]",k="[object WeakMap]",L="[object ArrayBuffer]",j="[object DataView]",D="[object Float32Array]",R="[object Float64Array]",N="[object Int8Array]",P="[object Int16Array]",V="[object Int32Array]",F="[object Uint8Array]",M="[object Uint8ClampedArray]",B="[object Uint16Array]",z="[object Uint32Array]",U=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,W=RegExp(q.source),$=RegExp(Q.source),K=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+|\s+$/g,it=/^\s+/,st=/\s+$/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,vt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,_t=/['\n\r\u2028\u2029\\]/g,wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St="a-z\\xdf-\\xf6\\xf8-\\xff",Et="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ot="["+Ct+"]",It="["+wt+"]",Tt="\\d+",At="["+St+"]",xt="[^\\ud800-\\udfff"+Ct+Tt+"\\u2700-\\u27bf"+St+Et+"]",kt="\\ud83c[\\udffb-\\udfff]",Lt="[^\\ud800-\\udfff]",jt="(?:\\ud83c[\\udde6-\\uddff]){2}",Dt="[\\ud800-\\udbff][\\udc00-\\udfff]",Rt="["+Et+"]",Nt="(?:"+At+"|"+xt+")",Pt="(?:"+Rt+"|"+xt+")",Vt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ft="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Mt="(?:"+It+"|"+kt+")?",Bt="[\\ufe0e\\ufe0f]?",zt=Bt+Mt+"(?:\\u200d(?:"+[Lt,jt,Dt].join("|")+")"+Bt+Mt+")*",Ut="(?:"+["[\\u2700-\\u27bf]",jt,Dt].join("|")+")"+zt,Ht="(?:"+[Lt+It+"?",It,jt,Dt,"[\\ud800-\\udfff]"].join("|")+")",Gt=RegExp("['\u2019]","g"),qt=RegExp(It,"g"),Qt=RegExp(kt+"(?="+kt+")|"+Ht+zt,"g"),Wt=RegExp([Rt+"?"+At+"+"+Vt+"(?="+[Ot,Rt,"$"].join("|")+")",Pt+"+"+Ft+"(?="+[Ot,Rt+Nt,"$"].join("|")+")",Rt+"?"+Nt+"+"+Vt,Rt+"+"+Ft,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Tt,Ut].join("|"),"g"),$t=RegExp("[\\u200d\\ud800-\\udfff"+wt+"\\ufe0e\\ufe0f]"),Kt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jt=-1,Yt={};Yt[D]=Yt[R]=Yt[N]=Yt[P]=Yt[V]=Yt[F]=Yt[M]=Yt[B]=Yt[z]=!0,Yt[g]=Yt[b]=Yt[L]=Yt[m]=Yt[j]=Yt[v]=Yt[y]=Yt[_]=Yt[S]=Yt[E]=Yt[C]=Yt[I]=Yt[T]=Yt[A]=Yt[k]=!1;var Xt={};Xt[g]=Xt[b]=Xt[L]=Xt[j]=Xt[m]=Xt[v]=Xt[D]=Xt[R]=Xt[N]=Xt[P]=Xt[V]=Xt[S]=Xt[E]=Xt[C]=Xt[I]=Xt[T]=Xt[A]=Xt[x]=Xt[F]=Xt[M]=Xt[B]=Xt[z]=!0,Xt[y]=Xt[_]=Xt[k]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ne=parseInt,re="object"==typeof global&&global&&global.Object===Object&&global,ie="object"==typeof self&&self&&self.Object===Object&&self,se=re||ie||Function("return this")(),oe=e&&!e.nodeType&&e,ae=oe&&"object"==typeof t&&t&&!t.nodeType&&t,ce=ae&&ae.exports===oe,ue=ce&&re.process,le=function(){try{return ae&&ae.require&&ae.require("util").types||ue&&ue.binding&&ue.binding("util")}catch(t){}}(),he=le&&le.isArrayBuffer,fe=le&&le.isDate,de=le&&le.isMap,pe=le&&le.isRegExp,ge=le&&le.isSet,be=le&&le.isTypedArray;function me(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ve(t,e,n,r){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function ye(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function _e(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function we(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Se(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Ee(t,e){return!(null==t||!t.length)&&De(t,e,0)>-1}function Ce(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Oe(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Ie(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Te(t,e,n,r){var i=-1,s=null==t?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Ae(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function xe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ke=Ve("length");function Le(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function je(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function De(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):je(t,Ne,n)}function Re(t,e,n,r){for(var i=n-1,s=t.length;++i<s;)if(r(t[i],e))return i;return-1}function Ne(t){return t!=t}function Pe(t,e){var n=null==t?0:t.length;return n?Be(t,e)/n:f}function Ve(t){return function(e){return null==e?i:e[t]}}function Fe(t){return function(e){return null==t?i:t[e]}}function Me(t,e,n,r,i){return i(t,(function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)})),n}function Be(t,e){for(var n,r=-1,s=t.length;++r<s;){var o=e(t[r]);o!==i&&(n=n===i?o:n+o)}return n}function ze(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ue(t){return function(e){return t(e)}}function He(t,e){return Oe(e,(function(e){return t[e]}))}function Ge(t,e){return t.has(e)}function qe(t,e){for(var n=-1,r=t.length;++n<r&&De(e,t[n],0)>-1;);return n}function Qe(t,e){for(var n=t.length;n--&&De(e,t[n],0)>-1;);return n}function We(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var $e=Fe({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),Ke=Fe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ze(t){return"\\"+te[t]}function Je(t){return $t.test(t)}function Ye(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Xe(t,e){return function(n){return t(e(n))}}function tn(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n];o!==e&&o!==a||(t[n]=a,s[i++]=n)}return s}function en(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function nn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function rn(t){return Je(t)?function(t){for(var e=Qt.lastIndex=0;Qt.test(t);)++e;return e}(t):ke(t)}function sn(t){return Je(t)?function(t){return t.match(Qt)||[]}(t):function(t){return t.split("")}(t)}var on=Fe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),an=function t(e){var n,r=(e=null==e?se:an.defaults(se.Object(),e,an.pick(se,Zt))).Array,wt=e.Date,St=e.Error,Et=e.Function,Ct=e.Math,Ot=e.Object,It=e.RegExp,Tt=e.String,At=e.TypeError,xt=r.prototype,kt=Ot.prototype,Lt=e["__core-js_shared__"],jt=Et.prototype.toString,Dt=kt.hasOwnProperty,Rt=0,Nt=(n=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Pt=kt.toString,Vt=jt.call(Ot),Ft=se._,Mt=It("^"+jt.call(Dt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bt=ce?e.Buffer:i,zt=e.Symbol,Ut=e.Uint8Array,Ht=Bt?Bt.allocUnsafe:i,Qt=Xe(Ot.getPrototypeOf,Ot),$t=Ot.create,te=kt.propertyIsEnumerable,re=xt.splice,ie=zt?zt.isConcatSpreadable:i,oe=zt?zt.iterator:i,ae=zt?zt.toStringTag:i,ue=function(){try{var t=as(Ot,"defineProperty");return t({},"",{}),t}catch(e){}}(),le=e.clearTimeout!==se.clearTimeout&&e.clearTimeout,ke=wt&&wt.now!==se.Date.now&&wt.now,Fe=e.setTimeout!==se.setTimeout&&e.setTimeout,cn=Ct.ceil,un=Ct.floor,ln=Ot.getOwnPropertySymbols,hn=Bt?Bt.isBuffer:i,fn=e.isFinite,dn=xt.join,pn=Xe(Ot.keys,Ot),gn=Ct.max,bn=Ct.min,mn=wt.now,vn=e.parseInt,yn=Ct.random,_n=xt.reverse,wn=as(e,"DataView"),Sn=as(e,"Map"),En=as(e,"Promise"),Cn=as(e,"Set"),On=as(e,"WeakMap"),In=as(Ot,"create"),Tn=On&&new On,An={},xn=Ps(wn),kn=Ps(Sn),Ln=Ps(En),jn=Ps(Cn),Dn=Ps(On),Rn=zt?zt.prototype:i,Nn=Rn?Rn.valueOf:i,Pn=Rn?Rn.toString:i;function Vn(t){if(ta(t)&&!Ho(t)&&!(t instanceof zn)){if(t instanceof Bn)return t;if(Dt.call(t,"__wrapped__"))return Vs(t)}return new Bn(t)}var Fn=function(){function t(){}return function(e){if(!Xo(e))return{};if($t)return $t(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Mn(){}function Bn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function zn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Gn;++e<n;)this.add(t[e])}function Qn(t){var e=this.__data__=new Hn(t);this.size=e.size}function Wn(t,e){var n=Ho(t),r=!n&&Uo(t),i=!n&&!r&&Wo(t),s=!n&&!r&&!i&&ca(t),o=n||r||i||s,a=o?ze(t.length,Tt):[],c=a.length;for(var u in t)!e&&!Dt.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ps(u,c))||a.push(u);return a}function $n(t){var e=t.length;return e?t[Gr(0,e-1)]:i}function Kn(t,e){return Ls(Oi(t),ir(e,0,t.length))}function Zn(t){return Ls(Oi(t))}function Jn(t,e,n){(n!==i&&!Mo(t[e],n)||n===i&&!(e in t))&&nr(t,e,n)}function Yn(t,e,n){var r=t[e];Dt.call(t,e)&&Mo(r,n)&&(n!==i||e in t)||nr(t,e,n)}function Xn(t,e){for(var n=t.length;n--;)if(Mo(t[n][0],e))return n;return-1}function tr(t,e,n,r){return ur(t,(function(t,i,s){e(r,t,n(t),s)})),r}function er(t,e){return t&&Ii(e,ka(e),t)}function nr(t,e,n){"__proto__"==e&&ue?ue(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function rr(t,e){for(var n=-1,s=e.length,o=r(s),a=null==t;++n<s;)o[n]=a?i:Oa(t,e[n]);return o}function ir(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function sr(t,e,n,r,s,o){var a,c=1&e,u=2&e,l=4&e;if(n&&(a=s?n(t,r,s,o):n(t)),a!==i)return a;if(!Xo(t))return t;var h=Ho(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return Oi(t,a)}else{var f=ls(t),d=f==_||f==w;if(Wo(t))return yi(t,c);if(f==C||f==g||d&&!s){if(a=u||d?{}:fs(t),!c)return u?function(t,e){return Ii(t,us(t),e)}(t,function(t,e){return t&&Ii(e,La(e),t)}(a,t)):function(t,e){return Ii(t,cs(t),e)}(t,er(a,t))}else{if(!Xt[f])return s?t:{};a=function(t,e,n){var r=t.constructor;switch(e){case L:return _i(t);case m:case v:return new r(+t);case j:return function(t,e){var n=e?_i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case D:case R:case N:case P:case V:case F:case M:case B:case z:return wi(t,n);case S:return new r;case E:case A:return new r(t);case I:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case T:return new r;case x:return Nn?Ot(Nn.call(t)):{}}}(t,f,c)}}o||(o=new Qn);var p=o.get(t);if(p)return p;o.set(t,a),sa(t)?t.forEach((function(r){a.add(sr(r,e,n,r,t,o))})):ea(t)&&t.forEach((function(r,i){a.set(i,sr(r,e,n,i,t,o))}));var b=h?i:(l?u?ts:Xi:u?La:ka)(t);return ye(b||t,(function(r,i){b&&(r=t[i=r]),Yn(a,i,sr(r,e,n,i,t,o))})),a}function or(t,e,n){var r=n.length;if(null==t)return!r;for(t=Ot(t);r--;){var s=n[r],o=t[s];if(o===i&&!(s in t)||!(0,e[s])(o))return!1}return!0}function ar(t,e,n){if("function"!=typeof t)throw new At(s);return Ts((function(){t.apply(i,n)}),e)}function cr(t,e,n,r){var i=-1,s=Ee,o=!0,a=t.length,c=[],u=e.length;if(!a)return c;n&&(e=Oe(e,Ue(n))),r?(s=Ce,o=!1):e.length>=200&&(s=Ge,o=!1,e=new qn(e));t:for(;++i<a;){var l=t[i],h=null==n?l:n(l);if(l=r||0!==l?l:0,o&&h==h){for(var f=u;f--;)if(e[f]===h)continue t;c.push(l)}else s(e,h,r)||c.push(l)}return c}Vn.templateSettings={escape:K,evaluate:Z,interpolate:J,variable:"",imports:{_:Vn}},(Vn.prototype=Mn.prototype).constructor=Vn,(Bn.prototype=Fn(Mn.prototype)).constructor=Bn,(zn.prototype=Fn(Mn.prototype)).constructor=zn,Un.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Un.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Un.prototype.get=function(t){var e=this.__data__;if(In){var n=e[t];return n===o?i:n}return Dt.call(e,t)?e[t]:i},Un.prototype.has=function(t){var e=this.__data__;return In?e[t]!==i:Dt.call(e,t)},Un.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=In&&e===i?o:e,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=Xn(e,t);return!(n<0||(n==e.length-1?e.pop():re.call(e,n,1),--this.size,0))},Hn.prototype.get=function(t){var e=this.__data__,n=Xn(e,t);return n<0?i:e[n][1]},Hn.prototype.has=function(t){return Xn(this.__data__,t)>-1},Hn.prototype.set=function(t,e){var n=this.__data__,r=Xn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Un,map:new(Sn||Hn),string:new Un}},Gn.prototype.delete=function(t){var e=ss(this,t).delete(t);return this.size-=e?1:0,e},Gn.prototype.get=function(t){return ss(this,t).get(t)},Gn.prototype.has=function(t){return ss(this,t).has(t)},Gn.prototype.set=function(t,e){var n=ss(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(t){return this.__data__.set(t,o),this},qn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Qn.prototype.get=function(t){return this.__data__.get(t)},Qn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!Sn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(t,e),this.size=n.size,this};var ur=xi(mr),lr=xi(vr,!0);function hr(t,e){var n=!0;return ur(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function fr(t,e,n){for(var r=-1,s=t.length;++r<s;){var o=t[r],a=e(o);if(null!=a&&(c===i?a==a&&!aa(a):n(a,c)))var c=a,u=o}return u}function dr(t,e){var n=[];return ur(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function pr(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=ds),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?pr(a,e-1,n,r,i):Ie(i,a):r||(i[i.length]=a)}return i}var gr=ki(),br=ki(!0);function mr(t,e){return t&&gr(t,e,ka)}function vr(t,e){return t&&br(t,e,ka)}function yr(t,e){return Se(e,(function(e){return Zo(t[e])}))}function _r(t,e){for(var n=0,r=(e=gi(e,t)).length;null!=t&&n<r;)t=t[Ns(e[n++])];return n&&n==r?t:i}function wr(t,e,n){var r=e(t);return Ho(t)?r:Ie(r,n(t))}function Sr(t){return null==t?t===i?"[object Undefined]":"[object Null]":ae&&ae in Ot(t)?function(t){var e=Dt.call(t,ae),n=t[ae];try{t[ae]=i;var r=!0}catch(o){}var s=Pt.call(t);return r&&(e?t[ae]=n:delete t[ae]),s}(t):function(t){return Pt.call(t)}(t)}function Er(t,e){return t>e}function Cr(t,e){return null!=t&&Dt.call(t,e)}function Or(t,e){return null!=t&&e in Ot(t)}function Ir(t,e,n){for(var s=n?Ce:Ee,o=t[0].length,a=t.length,c=a,u=r(a),l=1/0,h=[];c--;){var f=t[c];c&&e&&(f=Oe(f,Ue(e))),l=bn(f.length,l),u[c]=!n&&(e||o>=120&&f.length>=120)?new qn(c&&f):i}f=t[0];var d=-1,p=u[0];t:for(;++d<o&&h.length<l;){var g=f[d],b=e?e(g):g;if(g=n||0!==g?g:0,!(p?Ge(p,b):s(h,b,n))){for(c=a;--c;){var m=u[c];if(!(m?Ge(m,b):s(t[c],b,n)))continue t}p&&p.push(b),h.push(g)}}return h}function Tr(t,e,n){var r=null==(t=Es(t,e=gi(e,t)))?t:t[Ns($s(e))];return null==r?i:me(r,t,n)}function Ar(t){return ta(t)&&Sr(t)==g}function xr(t,e,n,r,s){return t===e||(null==t||null==e||!ta(t)&&!ta(e)?t!=t&&e!=e:function(t,e,n,r,s,o){var a=Ho(t),c=Ho(e),u=a?b:ls(t),l=c?b:ls(e),h=(u=u==g?C:u)==C,f=(l=l==g?C:l)==C,d=u==l;if(d&&Wo(t)){if(!Wo(e))return!1;a=!0,h=!1}if(d&&!h)return o||(o=new Qn),a||ca(t)?Ji(t,e,n,r,s,o):function(t,e,n,r,i,s,o){switch(n){case j:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case L:return!(t.byteLength!=e.byteLength||!s(new Ut(t),new Ut(e)));case m:case v:case E:return Mo(+t,+e);case y:return t.name==e.name&&t.message==e.message;case I:case A:return t==e+"";case S:var a=Ye;case T:if(a||(a=en),t.size!=e.size&&!(1&r))return!1;var c=o.get(t);if(c)return c==e;r|=2,o.set(t,e);var u=Ji(a(t),a(e),r,i,s,o);return o.delete(t),u;case x:if(Nn)return Nn.call(t)==Nn.call(e)}return!1}(t,e,u,n,r,s,o);if(!(1&n)){var p=h&&Dt.call(t,"__wrapped__"),_=f&&Dt.call(e,"__wrapped__");if(p||_){var w=p?t.value():t,O=_?e.value():e;return o||(o=new Qn),s(w,O,n,r,o)}}return!!d&&(o||(o=new Qn),function(t,e,n,r,s,o){var a=1&n,c=Xi(t),u=c.length;if(u!=Xi(e).length&&!a)return!1;for(var l=u;l--;){var h=c[l];if(!(a?h in e:Dt.call(e,h)))return!1}var f=o.get(t),d=o.get(e);if(f&&d)return f==e&&d==t;var p=!0;o.set(t,e),o.set(e,t);for(var g=a;++l<u;){var b=t[h=c[l]],m=e[h];if(r)var v=a?r(m,b,h,e,t,o):r(b,m,h,t,e,o);if(!(v===i?b===m||s(b,m,n,r,o):v)){p=!1;break}g||(g="constructor"==h)}if(p&&!g){var y=t.constructor,_=e.constructor;y==_||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,s,o))}(t,e,n,r,xr,s))}function kr(t,e,n,r){var s=n.length,o=s,a=!r;if(null==t)return!o;for(t=Ot(t);s--;){var c=n[s];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++s<o;){var u=(c=n[s])[0],l=t[u],h=c[1];if(a&&c[2]){if(l===i&&!(u in t))return!1}else{var f=new Qn;if(r)var d=r(l,h,u,t,e,f);if(!(d===i?xr(h,l,3,r,f):d))return!1}}return!0}function Lr(t){return!(!Xo(t)||(e=t,Nt&&Nt in e))&&(Zo(t)?Mt:gt).test(Ps(t));var e}function jr(t){return"function"==typeof t?t:null==t?nc:"object"==typeof t?Ho(t)?Vr(t[0],t[1]):Pr(t):hc(t)}function Dr(t){if(!ys(t))return pn(t);var e=[];for(var n in Ot(t))Dt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Rr(t,e){return t<e}function Nr(t,e){var n=-1,i=qo(t)?r(t.length):[];return ur(t,(function(t,r,s){i[++n]=e(t,r,s)})),i}function Pr(t){var e=os(t);return 1==e.length&&e[0][2]?ws(e[0][0],e[0][1]):function(n){return n===t||kr(n,t,e)}}function Vr(t,e){return bs(t)&&_s(e)?ws(Ns(t),e):function(n){var r=Oa(n,t);return r===i&&r===e?Ia(n,t):xr(e,r,3)}}function Fr(t,e,n,r,s){t!==e&&gr(e,(function(o,a){if(s||(s=new Qn),Xo(o))!function(t,e,n,r,s,o,a){var c=Os(t,n),u=Os(e,n),l=a.get(u);if(l)Jn(t,n,l);else{var h=o?o(c,u,n+"",t,e,a):i,f=h===i;if(f){var d=Ho(u),p=!d&&Wo(u),g=!d&&!p&&ca(u);h=u,d||p||g?Ho(c)?h=c:Qo(c)?h=Oi(c):p?(f=!1,h=yi(u,!0)):g?(f=!1,h=wi(u,!0)):h=[]:ra(u)||Uo(u)?(h=c,Uo(c)?h=ba(c):Xo(c)&&!Zo(c)||(h=fs(u))):f=!1}f&&(a.set(u,h),s(h,u,r,o,a),a.delete(u)),Jn(t,n,h)}}(t,e,a,n,Fr,r,s);else{var c=r?r(Os(t,a),o,a+"",t,e,s):i;c===i&&(c=o),Jn(t,a,c)}}),La)}function Mr(t,e){var n=t.length;if(n)return ps(e+=e<0?n:0,n)?t[e]:i}function Br(t,e,n){e=e.length?Oe(e,(function(t){return Ho(t)?function(e){return _r(e,1===t.length?t[0]:t)}:t})):[nc];var r=-1;return e=Oe(e,Ue(is())),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var c=Si(i[r],s[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(Nr(t,(function(t,n,i){return{criteria:Oe(e,(function(e){return e(t)})),index:++r,value:t}})))}function zr(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=_r(t,o);n(a,o)&&Kr(s,gi(o,t),a)}return s}function Ur(t,e,n,r){var i=r?Re:De,s=-1,o=e.length,a=t;for(t===e&&(e=Oi(e)),n&&(a=Oe(t,Ue(n)));++s<o;)for(var c=0,u=e[s],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==t&&re.call(a,c,1),re.call(t,c,1);return t}function Hr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==s){var s=i;ps(i)?re.call(t,i,1):ai(t,i)}}return t}function Gr(t,e){return t+un(yn()*(e-t+1))}function qr(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=un(e/2))&&(t+=t)}while(e);return n}function Qr(t,e){return As(Ss(t,e,nc),t+"")}function Wr(t){return $n(Ma(t))}function $r(t,e){var n=Ma(t);return Ls(n,ir(e,0,n.length))}function Kr(t,e,n,r){if(!Xo(t))return t;for(var s=-1,o=(e=gi(e,t)).length,a=o-1,c=t;null!=c&&++s<o;){var u=Ns(e[s]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(s!=a){var h=c[u];(l=r?r(h,u,c):i)===i&&(l=Xo(h)?h:ps(e[s+1])?[]:{})}Yn(c,u,l),c=c[u]}return t}var Zr=Tn?function(t,e){return Tn.set(t,e),t}:nc,Jr=ue?function(t,e){return ue(t,"toString",{configurable:!0,enumerable:!1,value:Xa(e),writable:!0})}:nc;function Yr(t){return Ls(Ma(t))}function Xr(t,e,n){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(n=n>s?s:n)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var o=r(s);++i<s;)o[i]=t[i+e];return o}function ti(t,e){var n;return ur(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ei(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=t[s];null!==o&&!aa(o)&&(n?o<=e:o<e)?r=s+1:i=s}return i}return ni(t,e,nc,n)}function ni(t,e,n,r){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,c=null===e,u=aa(e),l=e===i;s<o;){var h=un((s+o)/2),f=n(t[h]),d=f!==i,p=null===f,g=f==f,b=aa(f);if(a)var m=r||g;else m=l?g&&(r||d):c?g&&d&&(r||!p):u?g&&d&&!p&&(r||!b):!p&&!b&&(r?f<=e:f<e);m?s=h+1:o=h}return bn(o,4294967294)}function ri(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n],a=e?e(o):o;if(!n||!Mo(a,c)){var c=a;s[i++]=0===o?0:o}}return s}function ii(t){return"number"==typeof t?t:aa(t)?f:+t}function si(t){if("string"==typeof t)return t;if(Ho(t))return Oe(t,si)+"";if(aa(t))return Pn?Pn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function oi(t,e,n){var r=-1,i=Ee,s=t.length,o=!0,a=[],c=a;if(n)o=!1,i=Ce;else if(s>=200){var u=e?null:qi(t);if(u)return en(u);o=!1,i=Ge,c=new qn}else c=e?[]:a;t:for(;++r<s;){var l=t[r],h=e?e(l):l;if(l=n||0!==l?l:0,o&&h==h){for(var f=c.length;f--;)if(c[f]===h)continue t;e&&c.push(h),a.push(l)}else i(c,h,n)||(c!==a&&c.push(h),a.push(l))}return a}function ai(t,e){return null==(t=Es(t,e=gi(e,t)))||delete t[Ns($s(e))]}function ci(t,e,n,r){return Kr(t,e,n(_r(t,e)),r)}function ui(t,e,n,r){for(var i=t.length,s=r?i:-1;(r?s--:++s<i)&&e(t[s],s,t););return n?Xr(t,r?0:s,r?s+1:i):Xr(t,r?s+1:0,r?i:s)}function li(t,e){var n=t;return n instanceof zn&&(n=n.value()),Te(e,(function(t,e){return e.func.apply(e.thisArg,Ie([t],e.args))}),n)}function hi(t,e,n){var i=t.length;if(i<2)return i?oi(t[0]):[];for(var s=-1,o=r(i);++s<i;)for(var a=t[s],c=-1;++c<i;)c!=s&&(o[s]=cr(o[s]||a,t[c],e,n));return oi(pr(o,1),e,n)}function fi(t,e,n){for(var r=-1,s=t.length,o=e.length,a={};++r<s;)n(a,t[r],r<o?e[r]:i);return a}function di(t){return Qo(t)?t:[]}function pi(t){return"function"==typeof t?t:nc}function gi(t,e){return Ho(t)?t:bs(t,e)?[t]:Rs(ma(t))}var bi=Qr;function mi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:Xr(t,e,n)}var vi=le||function(t){return se.clearTimeout(t)};function yi(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function _i(t){var e=new t.constructor(t.byteLength);return new Ut(e).set(new Ut(t)),e}function wi(t,e){var n=e?_i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Si(t,e){if(t!==e){var n=t!==i,r=null===t,s=t==t,o=aa(t),a=e!==i,c=null===e,u=e==e,l=aa(e);if(!c&&!l&&!o&&t>e||o&&a&&u&&!c&&!l||r&&a&&u||!n&&u||!s)return 1;if(!r&&!o&&!l&&t<e||l&&n&&s&&!r&&!o||c&&n&&s||!a&&s||!u)return-1}return 0}function Ei(t,e,n,i){for(var s=-1,o=t.length,a=n.length,c=-1,u=e.length,l=gn(o-a,0),h=r(u+l),f=!i;++c<u;)h[c]=e[c];for(;++s<a;)(f||s<o)&&(h[n[s]]=t[s]);for(;l--;)h[c++]=t[s++];return h}function Ci(t,e,n,i){for(var s=-1,o=t.length,a=-1,c=n.length,u=-1,l=e.length,h=gn(o-c,0),f=r(h+l),d=!i;++s<h;)f[s]=t[s];for(var p=s;++u<l;)f[p+u]=e[u];for(;++a<c;)(d||s<o)&&(f[p+n[a]]=t[s++]);return f}function Oi(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Ii(t,e,n,r){var s=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var c=e[o],u=r?r(n[c],t[c],c,n,t):i;u===i&&(u=t[c]),s?nr(n,c,u):Yn(n,c,u)}return n}function Ti(t,e){return function(n,r){var i=Ho(n)?ve:tr,s=e?e():{};return i(n,t,is(r,2),s)}}function Ai(t){return Qr((function(e,n){var r=-1,s=n.length,o=s>1?n[s-1]:i,a=s>2?n[2]:i;for(o=t.length>3&&"function"==typeof o?(s--,o):i,a&&gs(n[0],n[1],a)&&(o=s<3?i:o,s=1),e=Ot(e);++r<s;){var c=n[r];c&&t(e,c,r,o)}return e}))}function xi(t,e){return function(n,r){if(null==n)return n;if(!qo(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Ot(n);(e?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function ki(t){return function(e,n,r){for(var i=-1,s=Ot(e),o=r(e),a=o.length;a--;){var c=o[t?a:++i];if(!1===n(s[c],c,s))break}return e}}function Li(t){return function(e){var n=Je(e=ma(e))?sn(e):i,r=n?n[0]:e.charAt(0),s=n?mi(n,1).join(""):e.slice(1);return r[t]()+s}}function ji(t){return function(e){return Te(Za(Ua(e).replace(Gt,"")),t,"")}}function Di(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Fn(t.prototype),r=t.apply(n,e);return Xo(r)?r:n}}function Ri(t){return function(e,n,r){var s=Ot(e);if(!qo(e)){var o=is(n,3);e=ka(e),n=function(t){return o(s[t],t,s)}}var a=t(e,n,r);return a>-1?s[o?e[a]:a]:i}}function Ni(t){return Yi((function(e){var n=e.length,r=n,o=Bn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new At(s);if(o&&!c&&"wrapper"==ns(a))var c=new Bn([],!0)}for(r=c?r:n;++r<n;){var u=ns(a=e[r]),l="wrapper"==u?es(a):i;c=l&&ms(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ns(l[0])].apply(c,l[3]):1==a.length&&ms(a)?c[u]():c.thru(a)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&Ho(r))return c.plant(r).value();for(var i=0,s=n?e[i].apply(this,t):r;++i<n;)s=e[i].call(this,s);return s}}))}function Pi(t,e,n,s,o,a,c,l,h,f){var d=e&u,p=1&e,g=2&e,b=24&e,m=512&e,v=g?i:Di(t);return function i(){for(var u=arguments.length,y=r(u),_=u;_--;)y[_]=arguments[_];if(b)var w=rs(i),S=We(y,w);if(s&&(y=Ei(y,s,o,b)),a&&(y=Ci(y,a,c,b)),u-=S,b&&u<f){var E=tn(y,w);return Hi(t,e,Pi,i.placeholder,n,y,E,l,h,f-u)}var C=p?n:this,O=g?C[t]:t;return u=y.length,l?y=Cs(y,l):m&&u>1&&y.reverse(),d&&h<u&&(y.length=h),this&&this!==se&&this instanceof i&&(O=v||Di(O)),O.apply(C,y)}}function Vi(t,e){return function(n,r){return function(t,e,n,r){return mr(t,(function(t,i,s){e(r,n(t),i,s)})),r}(n,t,e(r),{})}}function Fi(t,e){return function(n,r){var s;if(n===i&&r===i)return e;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=ii(n),r=ii(r)),s=t(n,r)}return s}}function Mi(t){return Yi((function(e){return e=Oe(e,Ue(is())),Qr((function(n){var r=this;return t(e,(function(t){return me(t,r,n)}))}))}))}function Bi(t,e){var n=(e=e===i?" ":si(e)).length;if(n<2)return n?qr(e,t):e;var r=qr(e,cn(t/rn(e)));return Je(e)?mi(sn(r),0,t).join(""):r.slice(0,t)}function zi(t){return function(e,n,s){return s&&"number"!=typeof s&&gs(e,n,s)&&(n=s=i),e=fa(e),n===i?(n=e,e=0):n=fa(n),function(t,e,n,i){for(var s=-1,o=gn(cn((e-t)/(n||1)),0),a=r(o);o--;)a[i?o:++s]=t,t+=n;return a}(e,n,s=s===i?e<n?1:-1:fa(s),t)}}function Ui(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ga(e),n=ga(n)),t(e,n)}}function Hi(t,e,n,r,s,o,a,u,l,h){var f=8&e;e|=f?c:64,4&(e&=~(f?64:c))||(e&=-4);var d=[t,e,s,f?o:i,f?a:i,f?i:o,f?i:a,u,l,h],p=n.apply(i,d);return ms(t)&&Is(p,d),p.placeholder=r,xs(p,t,e)}function Gi(t){var e=Ct[t];return function(t,n){if(t=ga(t),(n=null==n?0:bn(da(n),292))&&fn(t)){var r=(ma(t)+"e").split("e");return+((r=(ma(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var qi=Cn&&1/en(new Cn([,-0]))[1]==l?function(t){return new Cn(t)}:ac;function Qi(t){return function(e){var n=ls(e);return n==S?Ye(e):n==T?nn(e):function(t,e){return Oe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Wi(t,e,n,o,l,h,f,d){var p=2&e;if(!p&&"function"!=typeof t)throw new At(s);var g=o?o.length:0;if(g||(e&=-97,o=l=i),f=f===i?f:gn(da(f),0),d=d===i?d:da(d),g-=l?l.length:0,64&e){var b=o,m=l;o=l=i}var v=p?i:es(t),y=[t,e,n,o,l,b,m,h,f,d];if(v&&function(t,e){var n=t[1],r=e[1],i=n|r;if(!(i<131||r==u&&8==n||r==u&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n))return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var o=t[3];t[3]=o?Ei(o,s,e[4]):s,t[4]=o?tn(t[3],a):e[4]}(s=e[5])&&(t[5]=(o=t[5])?Ci(o,s,e[6]):s,t[6]=o?tn(t[5],a):e[6]),(s=e[7])&&(t[7]=s),r&u&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(y,v),t=y[0],e=y[1],n=y[2],o=y[3],l=y[4],!(d=y[9]=y[9]===i?p?0:t.length:gn(y[9]-g,0))&&24&e&&(e&=-25),e&&1!=e)_=8==e||16==e?function(t,e,n){var s=Di(t);return function o(){for(var a=arguments.length,c=r(a),u=a,l=rs(o);u--;)c[u]=arguments[u];var h=a<3&&c[0]!==l&&c[a-1]!==l?[]:tn(c,l);return(a-=h.length)<n?Hi(t,e,Pi,o.placeholder,i,c,h,i,i,n-a):me(this&&this!==se&&this instanceof o?s:t,this,c)}}(t,e,d):e!=c&&33!=e||l.length?Pi.apply(i,y):function(t,e,n,i){var s=1&e,o=Di(t);return function e(){for(var a=-1,c=arguments.length,u=-1,l=i.length,h=r(l+c),f=this&&this!==se&&this instanceof e?o:t;++u<l;)h[u]=i[u];for(;c--;)h[u++]=arguments[++a];return me(f,s?n:this,h)}}(t,e,n,o);else var _=function(t,e,n){var r=1&e,i=Di(t);return function e(){return(this&&this!==se&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return xs((v?Zr:Is)(_,y),t,e)}function $i(t,e,n,r){return t===i||Mo(t,kt[n])&&!Dt.call(r,n)?e:t}function Ki(t,e,n,r,s,o){return Xo(t)&&Xo(e)&&(o.set(e,t),Fr(t,e,i,Ki,o),o.delete(e)),t}function Zi(t){return ra(t)?i:t}function Ji(t,e,n,r,s,o){var a=1&n,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var l=o.get(t),h=o.get(e);if(l&&h)return l==e&&h==t;var f=-1,d=!0,p=2&n?new qn:i;for(o.set(t,e),o.set(e,t);++f<c;){var g=t[f],b=e[f];if(r)var m=a?r(b,g,f,e,t,o):r(g,b,f,t,e,o);if(m!==i){if(m)continue;d=!1;break}if(p){if(!xe(e,(function(t,e){if(!Ge(p,e)&&(g===t||s(g,t,n,r,o)))return p.push(e)}))){d=!1;break}}else if(g!==b&&!s(g,b,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function Yi(t){return As(Ss(t,i,Hs),t+"")}function Xi(t){return wr(t,ka,cs)}function ts(t){return wr(t,La,us)}var es=Tn?function(t){return Tn.get(t)}:ac;function ns(t){for(var e=t.name+"",n=An[e],r=Dt.call(An,e)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==t)return i.name}return e}function rs(t){return(Dt.call(Vn,"placeholder")?Vn:t).placeholder}function is(){var t=Vn.iteratee||rc;return t=t===rc?jr:t,arguments.length?t(arguments[0],arguments[1]):t}function ss(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function os(t){for(var e=ka(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,_s(i)]}return e}function as(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Lr(n)?n:i}var cs=ln?function(t){return null==t?[]:(t=Ot(t),Se(ln(t),(function(e){return te.call(t,e)})))}:pc,us=ln?function(t){for(var e=[];t;)Ie(e,cs(t)),t=Qt(t);return e}:pc,ls=Sr;function hs(t,e,n){for(var r=-1,i=(e=gi(e,t)).length,s=!1;++r<i;){var o=Ns(e[r]);if(!(s=null!=t&&n(t,o)))break;t=t[o]}return s||++r!=i?s:!!(i=null==t?0:t.length)&&Yo(i)&&ps(o,i)&&(Ho(t)||Uo(t))}function fs(t){return"function"!=typeof t.constructor||ys(t)?{}:Fn(Qt(t))}function ds(t){return Ho(t)||Uo(t)||!!(ie&&t&&t[ie])}function ps(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&mt.test(t))&&t>-1&&t%1==0&&t<e}function gs(t,e,n){if(!Xo(n))return!1;var r=typeof e;return!!("number"==r?qo(n)&&ps(e,n.length):"string"==r&&e in n)&&Mo(n[e],t)}function bs(t,e){if(Ho(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!aa(t))||X.test(t)||!Y.test(t)||null!=e&&t in Ot(e)}function ms(t){var e=ns(t),n=Vn[e];if("function"!=typeof n||!(e in zn.prototype))return!1;if(t===n)return!0;var r=es(n);return!!r&&t===r[0]}(wn&&ls(new wn(new ArrayBuffer(1)))!=j||Sn&&ls(new Sn)!=S||En&&ls(En.resolve())!=O||Cn&&ls(new Cn)!=T||On&&ls(new On)!=k)&&(ls=function(t){var e=Sr(t),n=e==C?t.constructor:i,r=n?Ps(n):"";if(r)switch(r){case xn:return j;case kn:return S;case Ln:return O;case jn:return T;case Dn:return k}return e});var vs=Lt?Zo:gc;function ys(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||kt)}function _s(t){return t==t&&!Xo(t)}function ws(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Ot(n))}}function Ss(t,e,n){return e=gn(e===i?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=gn(i.length-e,0),a=r(o);++s<o;)a[s]=i[e+s];s=-1;for(var c=r(e+1);++s<e;)c[s]=i[s];return c[e]=n(a),me(t,this,c)}}function Es(t,e){return e.length<2?t:_r(t,Xr(e,0,-1))}function Cs(t,e){for(var n=t.length,r=bn(e.length,n),s=Oi(t);r--;){var o=e[r];t[r]=ps(o,n)?s[o]:i}return t}function Os(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Is=ks(Zr),Ts=Fe||function(t,e){return se.setTimeout(t,e)},As=ks(Jr);function xs(t,e,n){var r=e+"";return As(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ye(p,(function(n){var r="_."+n[0];e&n[1]&&!Ee(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(at);return e?e[1].split(ct):[]}(r),n)))}function ks(t){var e=0,n=0;return function(){var r=mn(),s=16-(r-n);if(n=r,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ls(t,e){var n=-1,r=t.length,s=r-1;for(e=e===i?r:e;++n<e;){var o=Gr(n,s),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var js,Ds,Rs=(js=Do((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,i){e.push(r?i.replace(lt,"$1"):n||t)})),e}),(function(t){return 500===Ds.size&&Ds.clear(),t})),Ds=js.cache,js);function Ns(t){if("string"==typeof t||aa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ps(t){if(null!=t){try{return jt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Vs(t){if(t instanceof zn)return t.clone();var e=new Bn(t.__wrapped__,t.__chain__);return e.__actions__=Oi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Fs=Qr((function(t,e){return Qo(t)?cr(t,pr(e,1,Qo,!0)):[]})),Ms=Qr((function(t,e){var n=$s(e);return Qo(n)&&(n=i),Qo(t)?cr(t,pr(e,1,Qo,!0),is(n,2)):[]})),Bs=Qr((function(t,e){var n=$s(e);return Qo(n)&&(n=i),Qo(t)?cr(t,pr(e,1,Qo,!0),i,n):[]}));function zs(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:da(n);return i<0&&(i=gn(r+i,0)),je(t,is(e,3),i)}function Us(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r-1;return n!==i&&(s=da(n),s=n<0?gn(r+s,0):bn(s,r-1)),je(t,is(e,3),s,!0)}function Hs(t){return null!=t&&t.length?pr(t,1):[]}function Gs(t){return t&&t.length?t[0]:i}var qs=Qr((function(t){var e=Oe(t,di);return e.length&&e[0]===t[0]?Ir(e):[]})),Qs=Qr((function(t){var e=$s(t),n=Oe(t,di);return e===$s(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Ir(n,is(e,2)):[]})),Ws=Qr((function(t){var e=$s(t),n=Oe(t,di);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Ir(n,i,e):[]}));function $s(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Ks=Qr(Zs);function Zs(t,e){return t&&t.length&&e&&e.length?Ur(t,e):t}var Js=Yi((function(t,e){var n=null==t?0:t.length,r=rr(t,e);return Hr(t,Oe(e,(function(t){return ps(t,n)?+t:t})).sort(Si)),r}));function Ys(t){return null==t?t:_n.call(t)}var Xs=Qr((function(t){return oi(pr(t,1,Qo,!0))})),to=Qr((function(t){var e=$s(t);return Qo(e)&&(e=i),oi(pr(t,1,Qo,!0),is(e,2))})),eo=Qr((function(t){var e=$s(t);return e="function"==typeof e?e:i,oi(pr(t,1,Qo,!0),i,e)}));function no(t){if(!t||!t.length)return[];var e=0;return t=Se(t,(function(t){if(Qo(t))return e=gn(t.length,e),!0})),ze(e,(function(e){return Oe(t,Ve(e))}))}function ro(t,e){if(!t||!t.length)return[];var n=no(t);return null==e?n:Oe(n,(function(t){return me(e,i,t)}))}var io=Qr((function(t,e){return Qo(t)?cr(t,e):[]})),so=Qr((function(t){return hi(Se(t,Qo))})),oo=Qr((function(t){var e=$s(t);return Qo(e)&&(e=i),hi(Se(t,Qo),is(e,2))})),ao=Qr((function(t){var e=$s(t);return e="function"==typeof e?e:i,hi(Se(t,Qo),i,e)})),co=Qr(no),uo=Qr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,ro(t,n)}));function lo(t){var e=Vn(t);return e.__chain__=!0,e}function ho(t,e){return e(t)}var fo=Yi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,s=function(e){return rr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof zn&&ps(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ho,args:[s],thisArg:i}),new Bn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(s)})),po=Ti((function(t,e,n){Dt.call(t,n)?++t[n]:nr(t,n,1)})),go=Ri(zs),bo=Ri(Us);function mo(t,e){return(Ho(t)?ye:ur)(t,is(e,3))}function vo(t,e){return(Ho(t)?_e:lr)(t,is(e,3))}var yo=Ti((function(t,e,n){Dt.call(t,n)?t[n].push(e):nr(t,n,[e])})),_o=Qr((function(t,e,n){var i=-1,s="function"==typeof e,o=qo(t)?r(t.length):[];return ur(t,(function(t){o[++i]=s?me(e,t,n):Tr(t,e,n)})),o})),wo=Ti((function(t,e,n){nr(t,n,e)}));function So(t,e){return(Ho(t)?Oe:Nr)(t,is(e,3))}var Eo=Ti((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Co=Qr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&gs(t,e[0],e[1])?e=[]:n>2&&gs(e[0],e[1],e[2])&&(e=[e[0]]),Br(t,pr(e,1),[])})),Oo=ke||function(){return se.Date.now()};function Io(t,e,n){return e=n?i:e,Wi(t,u,i,i,i,i,e=t&&null==e?t.length:e)}function To(t,e){var n;if("function"!=typeof e)throw new At(s);return t=da(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Ao=Qr((function(t,e,n){var r=1;if(n.length){var i=tn(n,rs(Ao));r|=c}return Wi(t,r,e,n,i)})),xo=Qr((function(t,e,n){var r=3;if(n.length){var i=tn(n,rs(xo));r|=c}return Wi(e,r,t,n,i)}));function ko(t,e,n){var r,o,a,c,u,l,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new At(s);function g(e){var n=r,s=o;return r=o=i,h=e,c=t.apply(s,n)}function b(t){return h=t,u=Ts(v,e),f?g(t):c}function m(t){var n=t-l;return l===i||n>=e||n<0||d&&t-h>=a}function v(){var t=Oo();if(m(t))return y(t);u=Ts(v,function(t){var n=e-(t-l);return d?bn(n,a-(t-h)):n}(t))}function y(t){return u=i,p&&r?g(t):(r=o=i,c)}function _(){var t=Oo(),n=m(t);if(r=arguments,o=this,l=t,n){if(u===i)return b(l);if(d)return vi(u),u=Ts(v,e),g(l)}return u===i&&(u=Ts(v,e)),c}return e=ga(e)||0,Xo(n)&&(f=!!n.leading,a=(d="maxWait"in n)?gn(ga(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),_.cancel=function(){u!==i&&vi(u),h=0,r=l=o=u=i},_.flush=function(){return u===i?c:y(Oo())},_}var Lo=Qr((function(t,e){return ar(t,1,e)})),jo=Qr((function(t,e,n){return ar(t,ga(e)||0,n)}));function Do(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new At(s);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Do.Cache||Gn),n}function Ro(t){if("function"!=typeof t)throw new At(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Do.Cache=Gn;var No=bi((function(t,e){var n=(e=1==e.length&&Ho(e[0])?Oe(e[0],Ue(is())):Oe(pr(e,1),Ue(is()))).length;return Qr((function(r){for(var i=-1,s=bn(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return me(t,this,r)}))})),Po=Qr((function(t,e){var n=tn(e,rs(Po));return Wi(t,c,i,e,n)})),Vo=Qr((function(t,e){var n=tn(e,rs(Vo));return Wi(t,64,i,e,n)})),Fo=Yi((function(t,e){return Wi(t,256,i,i,i,e)}));function Mo(t,e){return t===e||t!=t&&e!=e}var Bo=Ui(Er),zo=Ui((function(t,e){return t>=e})),Uo=Ar(function(){return arguments}())?Ar:function(t){return ta(t)&&Dt.call(t,"callee")&&!te.call(t,"callee")},Ho=r.isArray,Go=he?Ue(he):function(t){return ta(t)&&Sr(t)==L};function qo(t){return null!=t&&Yo(t.length)&&!Zo(t)}function Qo(t){return ta(t)&&qo(t)}var Wo=hn||gc,$o=fe?Ue(fe):function(t){return ta(t)&&Sr(t)==v};function Ko(t){if(!ta(t))return!1;var e=Sr(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ra(t)}function Zo(t){if(!Xo(t))return!1;var e=Sr(t);return e==_||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Jo(t){return"number"==typeof t&&t==da(t)}function Yo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function Xo(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ta(t){return null!=t&&"object"==typeof t}var ea=de?Ue(de):function(t){return ta(t)&&ls(t)==S};function na(t){return"number"==typeof t||ta(t)&&Sr(t)==E}function ra(t){if(!ta(t)||Sr(t)!=C)return!1;var e=Qt(t);if(null===e)return!0;var n=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&jt.call(n)==Vt}var ia=pe?Ue(pe):function(t){return ta(t)&&Sr(t)==I},sa=ge?Ue(ge):function(t){return ta(t)&&ls(t)==T};function oa(t){return"string"==typeof t||!Ho(t)&&ta(t)&&Sr(t)==A}function aa(t){return"symbol"==typeof t||ta(t)&&Sr(t)==x}var ca=be?Ue(be):function(t){return ta(t)&&Yo(t.length)&&!!Yt[Sr(t)]},ua=Ui(Rr),la=Ui((function(t,e){return t<=e}));function ha(t){if(!t)return[];if(qo(t))return oa(t)?sn(t):Oi(t);if(oe&&t[oe])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[oe]());var e=ls(t);return(e==S?Ye:e==T?en:Ma)(t)}function fa(t){return t?(t=ga(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function da(t){var e=fa(t),n=e%1;return e==e?n?e-n:e:0}function pa(t){return t?ir(da(t),0,d):0}function ga(t){if("number"==typeof t)return t;if(aa(t))return f;if(Xo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Xo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(rt,"");var n=pt.test(t);return n||bt.test(t)?ne(t.slice(2),n?2:8):dt.test(t)?f:+t}function ba(t){return Ii(t,La(t))}function ma(t){return null==t?"":si(t)}var va=Ai((function(t,e){if(ys(e)||qo(e))Ii(e,ka(e),t);else for(var n in e)Dt.call(e,n)&&Yn(t,n,e[n])})),ya=Ai((function(t,e){Ii(e,La(e),t)})),_a=Ai((function(t,e,n,r){Ii(e,La(e),t,r)})),wa=Ai((function(t,e,n,r){Ii(e,ka(e),t,r)})),Sa=Yi(rr),Ea=Qr((function(t,e){t=Ot(t);var n=-1,r=e.length,s=r>2?e[2]:i;for(s&&gs(e[0],e[1],s)&&(r=1);++n<r;)for(var o=e[n],a=La(o),c=-1,u=a.length;++c<u;){var l=a[c],h=t[l];(h===i||Mo(h,kt[l])&&!Dt.call(t,l))&&(t[l]=o[l])}return t})),Ca=Qr((function(t){return t.push(i,Ki),me(Da,i,t)}));function Oa(t,e,n){var r=null==t?i:_r(t,e);return r===i?n:r}function Ia(t,e){return null!=t&&hs(t,e,Or)}var Ta=Vi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),t[e]=n}),Xa(nc)),Aa=Vi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Pt.call(e)),Dt.call(t,e)?t[e].push(n):t[e]=[n]}),is),xa=Qr(Tr);function ka(t){return qo(t)?Wn(t):Dr(t)}function La(t){return qo(t)?Wn(t,!0):function(t){if(!Xo(t))return function(t){var e=[];if(null!=t)for(var n in Ot(t))e.push(n);return e}(t);var e=ys(t),n=[];for(var r in t)("constructor"!=r||!e&&Dt.call(t,r))&&n.push(r);return n}(t)}var ja=Ai((function(t,e,n){Fr(t,e,n)})),Da=Ai((function(t,e,n,r){Fr(t,e,n,r)})),Ra=Yi((function(t,e){var n={};if(null==t)return n;var r=!1;e=Oe(e,(function(e){return e=gi(e,t),r||(r=e.length>1),e})),Ii(t,ts(t),n),r&&(n=sr(n,7,Zi));for(var i=e.length;i--;)ai(n,e[i]);return n})),Na=Yi((function(t,e){return null==t?{}:function(t,e){return zr(t,e,(function(e,n){return Ia(t,n)}))}(t,e)}));function Pa(t,e){if(null==t)return{};var n=Oe(ts(t),(function(t){return[t]}));return e=is(e),zr(t,n,(function(t,n){return e(t,n[0])}))}var Va=Qi(ka),Fa=Qi(La);function Ma(t){return null==t?[]:He(t,ka(t))}var Ba=ji((function(t,e,n){return e=e.toLowerCase(),t+(n?za(e):e)}));function za(t){return Ka(ma(t).toLowerCase())}function Ua(t){return(t=ma(t))&&t.replace(vt,$e).replace(qt,"")}var Ha=ji((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ga=ji((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),qa=Li("toLowerCase"),Qa=ji((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Wa=ji((function(t,e,n){return t+(n?" ":"")+Ka(e)})),$a=ji((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ka=Li("toUpperCase");function Za(t,e,n){return t=ma(t),(e=n?i:e)===i?function(t){return Kt.test(t)}(t)?function(t){return t.match(Wt)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Ja=Qr((function(t,e){try{return me(t,i,e)}catch(n){return Ko(n)?n:new St(n)}})),Ya=Yi((function(t,e){return ye(e,(function(e){e=Ns(e),nr(t,e,Ao(t[e],t))})),t}));function Xa(t){return function(){return t}}var tc=Ni(),ec=Ni(!0);function nc(t){return t}function rc(t){return jr("function"==typeof t?t:sr(t,1))}var ic=Qr((function(t,e){return function(n){return Tr(n,t,e)}})),sc=Qr((function(t,e){return function(n){return Tr(t,n,e)}}));function oc(t,e,n){var r=ka(e),i=yr(e,r);null!=n||Xo(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=yr(e,ka(e)));var s=!(Xo(n)&&"chain"in n&&!n.chain),o=Zo(t);return ye(i,(function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),i=n.__actions__=Oi(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ie([this.value()],arguments))})})),t}function ac(){}var cc=Mi(Oe),uc=Mi(we),lc=Mi(xe);function hc(t){return bs(t)?Ve(Ns(t)):function(t){return function(e){return _r(e,t)}}(t)}var fc=zi(),dc=zi(!0);function pc(){return[]}function gc(){return!1}var bc,mc=Fi((function(t,e){return t+e}),0),vc=Gi("ceil"),yc=Fi((function(t,e){return t/e}),1),_c=Gi("floor"),wc=Fi((function(t,e){return t*e}),1),Sc=Gi("round"),Ec=Fi((function(t,e){return t-e}),0);return Vn.after=function(t,e){if("function"!=typeof e)throw new At(s);return t=da(t),function(){if(--t<1)return e.apply(this,arguments)}},Vn.ary=Io,Vn.assign=va,Vn.assignIn=ya,Vn.assignInWith=_a,Vn.assignWith=wa,Vn.at=Sa,Vn.before=To,Vn.bind=Ao,Vn.bindAll=Ya,Vn.bindKey=xo,Vn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ho(t)?t:[t]},Vn.chain=lo,Vn.chunk=function(t,e,n){e=(n?gs(t,e,n):e===i)?1:gn(da(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var o=0,a=0,c=r(cn(s/e));o<s;)c[a++]=Xr(t,o,o+=e);return c},Vn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i},Vn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ie(Ho(n)?Oi(n):[n],pr(e,1))},Vn.cond=function(t){var e=null==t?0:t.length,n=is();return t=e?Oe(t,(function(t){if("function"!=typeof t[1])throw new At(s);return[n(t[0]),t[1]]})):[],Qr((function(n){for(var r=-1;++r<e;){var i=t[r];if(me(i[0],this,n))return me(i[1],this,n)}}))},Vn.conforms=function(t){return function(t){var e=ka(t);return function(n){return or(n,t,e)}}(sr(t,1))},Vn.constant=Xa,Vn.countBy=po,Vn.create=function(t,e){var n=Fn(t);return null==e?n:er(n,e)},Vn.curry=function t(e,n,r){var s=Wi(e,8,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},Vn.curryRight=function t(e,n,r){var s=Wi(e,16,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},Vn.debounce=ko,Vn.defaults=Ea,Vn.defaultsDeep=Ca,Vn.defer=Lo,Vn.delay=jo,Vn.difference=Fs,Vn.differenceBy=Ms,Vn.differenceWith=Bs,Vn.drop=function(t,e,n){var r=null==t?0:t.length;return r?Xr(t,(e=n||e===i?1:da(e))<0?0:e,r):[]},Vn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?Xr(t,0,(e=r-(e=n||e===i?1:da(e)))<0?0:e):[]},Vn.dropRightWhile=function(t,e){return t&&t.length?ui(t,is(e,3),!0,!0):[]},Vn.dropWhile=function(t,e){return t&&t.length?ui(t,is(e,3),!0):[]},Vn.fill=function(t,e,n,r){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&gs(t,e,n)&&(n=0,r=s),function(t,e,n,r){var s=t.length;for((n=da(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:da(r))<0&&(r+=s),r=n>r?0:pa(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Vn.filter=function(t,e){return(Ho(t)?Se:dr)(t,is(e,3))},Vn.flatMap=function(t,e){return pr(So(t,e),1)},Vn.flatMapDeep=function(t,e){return pr(So(t,e),l)},Vn.flatMapDepth=function(t,e,n){return n=n===i?1:da(n),pr(So(t,e),n)},Vn.flatten=Hs,Vn.flattenDeep=function(t){return null!=t&&t.length?pr(t,l):[]},Vn.flattenDepth=function(t,e){return null!=t&&t.length?pr(t,e=e===i?1:da(e)):[]},Vn.flip=function(t){return Wi(t,512)},Vn.flow=tc,Vn.flowRight=ec,Vn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Vn.functions=function(t){return null==t?[]:yr(t,ka(t))},Vn.functionsIn=function(t){return null==t?[]:yr(t,La(t))},Vn.groupBy=yo,Vn.initial=function(t){return null!=t&&t.length?Xr(t,0,-1):[]},Vn.intersection=qs,Vn.intersectionBy=Qs,Vn.intersectionWith=Ws,Vn.invert=Ta,Vn.invertBy=Aa,Vn.invokeMap=_o,Vn.iteratee=rc,Vn.keyBy=wo,Vn.keys=ka,Vn.keysIn=La,Vn.map=So,Vn.mapKeys=function(t,e){var n={};return e=is(e,3),mr(t,(function(t,r,i){nr(n,e(t,r,i),t)})),n},Vn.mapValues=function(t,e){var n={};return e=is(e,3),mr(t,(function(t,r,i){nr(n,r,e(t,r,i))})),n},Vn.matches=function(t){return Pr(sr(t,1))},Vn.matchesProperty=function(t,e){return Vr(t,sr(e,1))},Vn.memoize=Do,Vn.merge=ja,Vn.mergeWith=Da,Vn.method=ic,Vn.methodOf=sc,Vn.mixin=oc,Vn.negate=Ro,Vn.nthArg=function(t){return t=da(t),Qr((function(e){return Mr(e,t)}))},Vn.omit=Ra,Vn.omitBy=function(t,e){return Pa(t,Ro(is(e)))},Vn.once=function(t){return To(2,t)},Vn.orderBy=function(t,e,n,r){return null==t?[]:(Ho(e)||(e=null==e?[]:[e]),Ho(n=r?i:n)||(n=null==n?[]:[n]),Br(t,e,n))},Vn.over=cc,Vn.overArgs=No,Vn.overEvery=uc,Vn.overSome=lc,Vn.partial=Po,Vn.partialRight=Vo,Vn.partition=Eo,Vn.pick=Na,Vn.pickBy=Pa,Vn.property=hc,Vn.propertyOf=function(t){return function(e){return null==t?i:_r(t,e)}},Vn.pull=Ks,Vn.pullAll=Zs,Vn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ur(t,e,is(n,2)):t},Vn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ur(t,e,i,n):t},Vn.pullAt=Js,Vn.range=fc,Vn.rangeRight=dc,Vn.rearg=Fo,Vn.reject=function(t,e){return(Ho(t)?Se:dr)(t,Ro(is(e,3)))},Vn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],s=t.length;for(e=is(e,3);++r<s;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return Hr(t,i),n},Vn.rest=function(t,e){if("function"!=typeof t)throw new At(s);return Qr(t,e=e===i?e:da(e))},Vn.reverse=Ys,Vn.sampleSize=function(t,e,n){return e=(n?gs(t,e,n):e===i)?1:da(e),(Ho(t)?Kn:$r)(t,e)},Vn.set=function(t,e,n){return null==t?t:Kr(t,e,n)},Vn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Kr(t,e,n,r)},Vn.shuffle=function(t){return(Ho(t)?Zn:Yr)(t)},Vn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&gs(t,e,n)?(e=0,n=r):(e=null==e?0:da(e),n=n===i?r:da(n)),Xr(t,e,n)):[]},Vn.sortBy=Co,Vn.sortedUniq=function(t){return t&&t.length?ri(t):[]},Vn.sortedUniqBy=function(t,e){return t&&t.length?ri(t,is(e,2)):[]},Vn.split=function(t,e,n){return n&&"number"!=typeof n&&gs(t,e,n)&&(e=n=i),(n=n===i?d:n>>>0)?(t=ma(t))&&("string"==typeof e||null!=e&&!ia(e))&&!(e=si(e))&&Je(t)?mi(sn(t),0,n):t.split(e,n):[]},Vn.spread=function(t,e){if("function"!=typeof t)throw new At(s);return e=null==e?0:gn(da(e),0),Qr((function(n){var r=n[e],i=mi(n,0,e);return r&&Ie(i,r),me(t,this,i)}))},Vn.tail=function(t){var e=null==t?0:t.length;return e?Xr(t,1,e):[]},Vn.take=function(t,e,n){return t&&t.length?Xr(t,0,(e=n||e===i?1:da(e))<0?0:e):[]},Vn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?Xr(t,(e=r-(e=n||e===i?1:da(e)))<0?0:e,r):[]},Vn.takeRightWhile=function(t,e){return t&&t.length?ui(t,is(e,3),!1,!0):[]},Vn.takeWhile=function(t,e){return t&&t.length?ui(t,is(e,3)):[]},Vn.tap=function(t,e){return e(t),t},Vn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new At(s);return Xo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ko(t,e,{leading:r,maxWait:e,trailing:i})},Vn.thru=ho,Vn.toArray=ha,Vn.toPairs=Va,Vn.toPairsIn=Fa,Vn.toPath=function(t){return Ho(t)?Oe(t,Ns):aa(t)?[t]:Oi(Rs(ma(t)))},Vn.toPlainObject=ba,Vn.transform=function(t,e,n){var r=Ho(t),i=r||Wo(t)||ca(t);if(e=is(e,4),null==n){var s=t&&t.constructor;n=i?r?new s:[]:Xo(t)&&Zo(s)?Fn(Qt(t)):{}}return(i?ye:mr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Vn.unary=function(t){return Io(t,1)},Vn.union=Xs,Vn.unionBy=to,Vn.unionWith=eo,Vn.uniq=function(t){return t&&t.length?oi(t):[]},Vn.uniqBy=function(t,e){return t&&t.length?oi(t,is(e,2)):[]},Vn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?oi(t,i,e):[]},Vn.unset=function(t,e){return null==t||ai(t,e)},Vn.unzip=no,Vn.unzipWith=ro,Vn.update=function(t,e,n){return null==t?t:ci(t,e,pi(n))},Vn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ci(t,e,pi(n),r)},Vn.values=Ma,Vn.valuesIn=function(t){return null==t?[]:He(t,La(t))},Vn.without=io,Vn.words=Za,Vn.wrap=function(t,e){return Po(pi(e),t)},Vn.xor=so,Vn.xorBy=oo,Vn.xorWith=ao,Vn.zip=co,Vn.zipObject=function(t,e){return fi(t||[],e||[],Yn)},Vn.zipObjectDeep=function(t,e){return fi(t||[],e||[],Kr)},Vn.zipWith=uo,Vn.entries=Va,Vn.entriesIn=Fa,Vn.extend=ya,Vn.extendWith=_a,oc(Vn,Vn),Vn.add=mc,Vn.attempt=Ja,Vn.camelCase=Ba,Vn.capitalize=za,Vn.ceil=vc,Vn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=ga(n))==n?n:0),e!==i&&(e=(e=ga(e))==e?e:0),ir(ga(t),e,n)},Vn.clone=function(t){return sr(t,4)},Vn.cloneDeep=function(t){return sr(t,5)},Vn.cloneDeepWith=function(t,e){return sr(t,5,e="function"==typeof e?e:i)},Vn.cloneWith=function(t,e){return sr(t,4,e="function"==typeof e?e:i)},Vn.conformsTo=function(t,e){return null==e||or(t,e,ka(e))},Vn.deburr=Ua,Vn.defaultTo=function(t,e){return null==t||t!=t?e:t},Vn.divide=yc,Vn.endsWith=function(t,e,n){t=ma(t),e=si(e);var r=t.length,s=n=n===i?r:ir(da(n),0,r);return(n-=e.length)>=0&&t.slice(n,s)==e},Vn.eq=Mo,Vn.escape=function(t){return(t=ma(t))&&$.test(t)?t.replace(Q,Ke):t},Vn.escapeRegExp=function(t){return(t=ma(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Vn.every=function(t,e,n){var r=Ho(t)?we:hr;return n&&gs(t,e,n)&&(e=i),r(t,is(e,3))},Vn.find=go,Vn.findIndex=zs,Vn.findKey=function(t,e){return Le(t,is(e,3),mr)},Vn.findLast=bo,Vn.findLastIndex=Us,Vn.findLastKey=function(t,e){return Le(t,is(e,3),vr)},Vn.floor=_c,Vn.forEach=mo,Vn.forEachRight=vo,Vn.forIn=function(t,e){return null==t?t:gr(t,is(e,3),La)},Vn.forInRight=function(t,e){return null==t?t:br(t,is(e,3),La)},Vn.forOwn=function(t,e){return t&&mr(t,is(e,3))},Vn.forOwnRight=function(t,e){return t&&vr(t,is(e,3))},Vn.get=Oa,Vn.gt=Bo,Vn.gte=zo,Vn.has=function(t,e){return null!=t&&hs(t,e,Cr)},Vn.hasIn=Ia,Vn.head=Gs,Vn.identity=nc,Vn.includes=function(t,e,n,r){t=qo(t)?t:Ma(t),n=n&&!r?da(n):0;var i=t.length;return n<0&&(n=gn(i+n,0)),oa(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&De(t,e,n)>-1},Vn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:da(n);return i<0&&(i=gn(r+i,0)),De(t,e,i)},Vn.inRange=function(t,e,n){return e=fa(e),n===i?(n=e,e=0):n=fa(n),function(t,e,n){return t>=bn(e,n)&&t<gn(e,n)}(t=ga(t),e,n)},Vn.invoke=xa,Vn.isArguments=Uo,Vn.isArray=Ho,Vn.isArrayBuffer=Go,Vn.isArrayLike=qo,Vn.isArrayLikeObject=Qo,Vn.isBoolean=function(t){return!0===t||!1===t||ta(t)&&Sr(t)==m},Vn.isBuffer=Wo,Vn.isDate=$o,Vn.isElement=function(t){return ta(t)&&1===t.nodeType&&!ra(t)},Vn.isEmpty=function(t){if(null==t)return!0;if(qo(t)&&(Ho(t)||"string"==typeof t||"function"==typeof t.splice||Wo(t)||ca(t)||Uo(t)))return!t.length;var e=ls(t);if(e==S||e==T)return!t.size;if(ys(t))return!Dr(t).length;for(var n in t)if(Dt.call(t,n))return!1;return!0},Vn.isEqual=function(t,e){return xr(t,e)},Vn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?xr(t,e,i,n):!!r},Vn.isError=Ko,Vn.isFinite=function(t){return"number"==typeof t&&fn(t)},Vn.isFunction=Zo,Vn.isInteger=Jo,Vn.isLength=Yo,Vn.isMap=ea,Vn.isMatch=function(t,e){return t===e||kr(t,e,os(e))},Vn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,kr(t,e,os(e),n)},Vn.isNaN=function(t){return na(t)&&t!=+t},Vn.isNative=function(t){if(vs(t))throw new St("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(t)},Vn.isNil=function(t){return null==t},Vn.isNull=function(t){return null===t},Vn.isNumber=na,Vn.isObject=Xo,Vn.isObjectLike=ta,Vn.isPlainObject=ra,Vn.isRegExp=ia,Vn.isSafeInteger=function(t){return Jo(t)&&t>=-9007199254740991&&t<=h},Vn.isSet=sa,Vn.isString=oa,Vn.isSymbol=aa,Vn.isTypedArray=ca,Vn.isUndefined=function(t){return t===i},Vn.isWeakMap=function(t){return ta(t)&&ls(t)==k},Vn.isWeakSet=function(t){return ta(t)&&"[object WeakSet]"==Sr(t)},Vn.join=function(t,e){return null==t?"":dn.call(t,e)},Vn.kebabCase=Ha,Vn.last=$s,Vn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=da(n))<0?gn(r+s,0):bn(s,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,s):je(t,Ne,s,!0)},Vn.lowerCase=Ga,Vn.lowerFirst=qa,Vn.lt=ua,Vn.lte=la,Vn.max=function(t){return t&&t.length?fr(t,nc,Er):i},Vn.maxBy=function(t,e){return t&&t.length?fr(t,is(e,2),Er):i},Vn.mean=function(t){return Pe(t,nc)},Vn.meanBy=function(t,e){return Pe(t,is(e,2))},Vn.min=function(t){return t&&t.length?fr(t,nc,Rr):i},Vn.minBy=function(t,e){return t&&t.length?fr(t,is(e,2),Rr):i},Vn.stubArray=pc,Vn.stubFalse=gc,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=wc,Vn.nth=function(t,e){return t&&t.length?Mr(t,da(e)):i},Vn.noConflict=function(){return se._===this&&(se._=Ft),this},Vn.noop=ac,Vn.now=Oo,Vn.pad=function(t,e,n){t=ma(t);var r=(e=da(e))?rn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Bi(un(i),n)+t+Bi(cn(i),n)},Vn.padEnd=function(t,e,n){t=ma(t);var r=(e=da(e))?rn(t):0;return e&&r<e?t+Bi(e-r,n):t},Vn.padStart=function(t,e,n){t=ma(t);var r=(e=da(e))?rn(t):0;return e&&r<e?Bi(e-r,n)+t:t},Vn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),vn(ma(t).replace(it,""),e||0)},Vn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&gs(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=fa(t),e===i?(e=t,t=0):e=fa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var s=yn();return bn(t+s*(e-t+ee("1e-"+((s+"").length-1))),e)}return Gr(t,e)},Vn.reduce=function(t,e,n){var r=Ho(t)?Te:Me,i=arguments.length<3;return r(t,is(e,4),n,i,ur)},Vn.reduceRight=function(t,e,n){var r=Ho(t)?Ae:Me,i=arguments.length<3;return r(t,is(e,4),n,i,lr)},Vn.repeat=function(t,e,n){return e=(n?gs(t,e,n):e===i)?1:da(e),qr(ma(t),e)},Vn.replace=function(){var t=arguments,e=ma(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Vn.result=function(t,e,n){var r=-1,s=(e=gi(e,t)).length;for(s||(s=1,t=i);++r<s;){var o=null==t?i:t[Ns(e[r])];o===i&&(r=s,o=n),t=Zo(o)?o.call(t):o}return t},Vn.round=Sc,Vn.runInContext=t,Vn.sample=function(t){return(Ho(t)?$n:Wr)(t)},Vn.size=function(t){if(null==t)return 0;if(qo(t))return oa(t)?rn(t):t.length;var e=ls(t);return e==S||e==T?t.size:Dr(t).length},Vn.snakeCase=Qa,Vn.some=function(t,e,n){var r=Ho(t)?xe:ti;return n&&gs(t,e,n)&&(e=i),r(t,is(e,3))},Vn.sortedIndex=function(t,e){return ei(t,e)},Vn.sortedIndexBy=function(t,e,n){return ni(t,e,is(n,2))},Vn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ei(t,e);if(r<n&&Mo(t[r],e))return r}return-1},Vn.sortedLastIndex=function(t,e){return ei(t,e,!0)},Vn.sortedLastIndexBy=function(t,e,n){return ni(t,e,is(n,2),!0)},Vn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ei(t,e,!0)-1;if(Mo(t[n],e))return n}return-1},Vn.startCase=Wa,Vn.startsWith=function(t,e,n){return t=ma(t),n=null==n?0:ir(da(n),0,t.length),e=si(e),t.slice(n,n+e.length)==e},Vn.subtract=Ec,Vn.sum=function(t){return t&&t.length?Be(t,nc):0},Vn.sumBy=function(t,e){return t&&t.length?Be(t,is(e,2)):0},Vn.template=function(t,e,n){var r=Vn.templateSettings;n&&gs(t,e,n)&&(e=i),t=ma(t),e=_a({},e,r,$i);var s,o,a=_a({},e.imports,r.imports,$i),c=ka(a),u=He(a,c),l=0,h=e.interpolate||yt,f="__p += '",d=It((e.escape||yt).source+"|"+h.source+"|"+(h===J?ht:yt).source+"|"+(e.evaluate||yt).source+"|$","g"),p="//# sourceURL="+(Dt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jt+"]")+"\n";t.replace(d,(function(e,n,r,i,a,c){return r||(r=i),f+=t.slice(l,c).replace(_t,Ze),n&&(s=!0,f+="' +\n__e("+n+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),f+="';\n";var g=Dt.call(e,"variable")&&e.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(o?f.replace(U,""):f).replace(H,"$1").replace(G,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var b=Ja((function(){return Et(c,p+"return "+f).apply(i,u)}));if(b.source=f,Ko(b))throw b;return b},Vn.times=function(t,e){if((t=da(t))<1||t>h)return[];var n=d,r=bn(t,d);e=is(e),t-=d;for(var i=ze(r,e);++n<t;)e(n);return i},Vn.toFinite=fa,Vn.toInteger=da,Vn.toLength=pa,Vn.toLower=function(t){return ma(t).toLowerCase()},Vn.toNumber=ga,Vn.toSafeInteger=function(t){return t?ir(da(t),-9007199254740991,h):0===t?t:0},Vn.toString=ma,Vn.toUpper=function(t){return ma(t).toUpperCase()},Vn.trim=function(t,e,n){if((t=ma(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=si(e)))return t;var r=sn(t),s=sn(e);return mi(r,qe(r,s),Qe(r,s)+1).join("")},Vn.trimEnd=function(t,e,n){if((t=ma(t))&&(n||e===i))return t.replace(st,"");if(!t||!(e=si(e)))return t;var r=sn(t);return mi(r,0,Qe(r,sn(e))+1).join("")},Vn.trimStart=function(t,e,n){if((t=ma(t))&&(n||e===i))return t.replace(it,"");if(!t||!(e=si(e)))return t;var r=sn(t);return mi(r,qe(r,sn(e))).join("")},Vn.truncate=function(t,e){var n=30,r="...";if(Xo(e)){var s="separator"in e?e.separator:s;n="length"in e?da(e.length):n,r="omission"in e?si(e.omission):r}var o=(t=ma(t)).length;if(Je(t)){var a=sn(t);o=a.length}if(n>=o)return t;var c=n-rn(r);if(c<1)return r;var u=a?mi(a,0,c).join(""):t.slice(0,c);if(s===i)return u+r;if(a&&(c+=u.length-c),ia(s)){if(t.slice(c).search(s)){var l,h=u;for(s.global||(s=It(s.source,ma(ft.exec(s))+"g")),s.lastIndex=0;l=s.exec(h);)var f=l.index;u=u.slice(0,f===i?c:f)}}else if(t.indexOf(si(s),c)!=c){var d=u.lastIndexOf(s);d>-1&&(u=u.slice(0,d))}return u+r},Vn.unescape=function(t){return(t=ma(t))&&W.test(t)?t.replace(q,on):t},Vn.uniqueId=function(t){var e=++Rt;return ma(t)+e},Vn.upperCase=$a,Vn.upperFirst=Ka,Vn.each=mo,Vn.eachRight=vo,Vn.first=Gs,oc(Vn,(bc={},mr(Vn,(function(t,e){Dt.call(Vn.prototype,e)||(bc[e]=t)})),bc),{chain:!1}),Vn.VERSION="4.17.20",ye(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Vn[t].placeholder=Vn})),ye(["drop","take"],(function(t,e){zn.prototype[t]=function(n){n=n===i?1:gn(da(n),0);var r=this.__filtered__&&!e?new zn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,d),type:t+(r.__dir__<0?"Right":"")}),r},zn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ye(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;zn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:is(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),ye(["head","last"],(function(t,e){var n="take"+(e?"Right":"");zn.prototype[t]=function(){return this[n](1).value()[0]}})),ye(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");zn.prototype[t]=function(){return this.__filtered__?new zn(this):this[n](1)}})),zn.prototype.compact=function(){return this.filter(nc)},zn.prototype.find=function(t){return this.filter(t).head()},zn.prototype.findLast=function(t){return this.reverse().find(t)},zn.prototype.invokeMap=Qr((function(t,e){return"function"==typeof t?new zn(this):this.map((function(n){return Tr(n,t,e)}))})),zn.prototype.reject=function(t){return this.filter(Ro(is(t)))},zn.prototype.slice=function(t,e){t=da(t);var n=this;return n.__filtered__&&(t>0||e<0)?new zn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=da(e))<0?n.dropRight(-e):n.take(e-t)),n)},zn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},zn.prototype.toArray=function(){return this.take(d)},mr(zn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),s=Vn[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);s&&(Vn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,c=e instanceof zn,u=a[0],l=c||Ho(e),h=function(t){var e=s.apply(Vn,Ie([t],a));return r&&f?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var f=this.__chain__,d=!!this.__actions__.length,p=o&&!f,g=c&&!d;if(!o&&l){e=g?e:new zn(this);var b=t.apply(e,a);return b.__actions__.push({func:ho,args:[h],thisArg:i}),new Bn(b,f)}return p&&g?t.apply(this,a):(b=this.thru(h),p?r?b.value()[0]:b.value():b)})})),ye(["pop","push","shift","sort","splice","unshift"],(function(t){var e=xt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Vn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ho(i)?i:[],t)}return this[n]((function(n){return e.apply(Ho(n)?n:[],t)}))}})),mr(zn.prototype,(function(t,e){var n=Vn[e];if(n){var r=n.name+"";Dt.call(An,r)||(An[r]=[]),An[r].push({name:e,func:n})}})),An[Pi(i,2).name]=[{name:"wrapper",func:i}],zn.prototype.clone=function(){var t=new zn(this.__wrapped__);return t.__actions__=Oi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Oi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Oi(this.__views__),t},zn.prototype.reverse=function(){if(this.__filtered__){var t=new zn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},zn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ho(t),r=e<0,i=n?t.length:0,s=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=bn(e,t+o);break;case"takeRight":t=gn(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,c=a-o,u=r?a:o-1,l=this.__iteratees__,h=l.length,f=0,d=bn(c,this.__takeCount__);if(!n||!r&&i==c&&d==c)return li(t,this.__actions__);var p=[];t:for(;c--&&f<d;){for(var g=-1,b=t[u+=e];++g<h;){var m=l[g],v=m.type,y=(0,m.iteratee)(b);if(2==v)b=y;else if(!y){if(1==v)continue t;break t}}p[f++]=b}return p},Vn.prototype.at=fo,Vn.prototype.chain=function(){return lo(this)},Vn.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Vn.prototype.plant=function(t){for(var e,n=this;n instanceof Mn;){var r=Vs(n);r.__index__=0,r.__values__=i,e?s.__wrapped__=r:e=r;var s=r;n=n.__wrapped__}return s.__wrapped__=t,e},Vn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof zn){var e=t;return this.__actions__.length&&(e=new zn(this)),(e=e.reverse()).__actions__.push({func:ho,args:[Ys],thisArg:i}),new Bn(e,this.__chain__)}return this.thru(Ys)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return li(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,oe&&(Vn.prototype[oe]=function(){return this}),Vn}();se._=an,(r=(function(){return an}).call(e,n,e,t))===i||(t.exports=r)}).call(this)}).call(this,n("YuTi")(t))},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},R0Ic:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return p})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return u})),n.d(e,"j",(function(){return f})),n.d(e,"k",(function(){return o})),n.d(e,"l",(function(){return g})),n.d(e,"m",(function(){return b}));class r{}class i{}const s="*";function o(t,e){return{type:7,name:t,definitions:e,options:{}}}function a(t,e=null){return{type:4,styles:e,timings:t}}function c(t,e=null){return{type:2,steps:t,options:e}}function u(t){return{type:6,styles:t,offset:null}}function l(t,e,n){return{type:0,name:t,styles:e,options:n}}function h(t){return{type:5,steps:t}}function f(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function d(t){Promise.resolve(null).then(t)}class p{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){d(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class g{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?d(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const b="!"},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("UBlB"),i=n("zVF4"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=r.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=r.__read(s.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(u);c.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(r.__spread(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=s,e.ComponentContainer=c,e.Provider=a},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},SxV6:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("sVev"),i=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),c=n("SpAZ");function u(t,e){const n=arguments.length>=2;return u=>u.pipe(t?Object(i.a)((e,n)=>t(e,n,u)):c.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new r.a))}},TFwu:function(t,e,n){"use strict";var r=n("25cm"),i=n("jN84"),s=n("mkut");e.a=function(t){return Object(r.a)(t,s.a,i.a)}},U6JX:function(t,e,n){"use strict";e.a=function(t,e){return function(n){return t(e(n))}}},UBlB:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__createBinding",(function(){return f})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return g})),n.d(e,"__spread",(function(){return b})),n.d(e,"__spreadArrays",(function(){return m})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return w})),n.d(e,"__makeTemplateObject",(function(){return S})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return O})),n.d(e,"__classPrivateFieldSet",(function(){return I}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function f(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}function d(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function b(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){s.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(c,u):l(s[0][2],n)}catch(r){l(s[0][3],r)}var n}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function S(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function I(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},UXun:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("jtHE");function i(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let s,o,a=0,c=!1,u=!1;return function(l){a++,s&&!c||(c=!1,s=new r.a(t,e,i),o=l.subscribe({next(t){s.next(t)},error(t){c=!0,s.error(t)},complete(){u=!0,o=void 0,s.complete()}}));const h=s.subscribe(this);this.add(()=>{a--,h.unsubscribe(),o&&!u&&n&&0===a&&(o.unsubscribe(),o=void 0,s=void 0)})}}(i))}},UbJi:function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return y}));var r=n("fXoL"),i=n("XNiG"),s=n("LRne"),o=n("HDdC"),a=n("Cfvw"),c=n("VRyK"),u=n("pxpQ"),l=n("eIep"),h=n("lJxs"),f=n("UXun"),d=n("SxV6");function p(t,e){return e?Object(l.a)(()=>t,e):Object(l.a)(()=>t)}var g=n("tf+s"),b=n("pLZG"),m=n("spgP"),v=n("ofXK");const y=new r.q("angularfire2.auth.use-emulator"),_=new r.q("angularfire2.auth.settings"),w=new r.q("angularfire2.auth.tenant-id"),S=new r.q("angularfire2.auth.langugage-code"),E=new r.q("angularfire2.auth.use-device-language"),C=new r.q("angularfire.auth.persistence");let O=(()=>{class t{constructor(t,e,r,y,_,w,S,E,C,O){const I=new m.e(y),T=Object(m.i)(I),A=new i.a,x=Object(s.a)(void 0).pipe(Object(u.b)(I.outsideAngular),Object(l.a)(()=>y.runOutsideAngular(()=>n.e(9).then(n.bind(null,"6nsN")))),Object(h.a)(()=>Object(m.h)(t,y,e)),Object(h.a)(t=>y.runOutsideAngular(()=>{const e=_,n=w;return Object(m.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=y.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),S&&(r.tenantId=S),r.languageCode=E,C&&r.useDeviceLanguage(),n&&(r.settings=n),O&&r.setPersistence(O),r},[e,S,E,C,n,O])})),Object(f.a)({bufferSize:1,refCount:!1}));if(Object(v.C)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(s.a)(null);else{x.pipe(Object(d.a)()).subscribe();const t=x.pipe(Object(l.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),T,Object(f.a)({bufferSize:1,refCount:!1})),e=t=>new o.a(e=>({unsubscribe:y.runOutsideAngular(()=>t(e))})),n=x.pipe(Object(l.a)(t=>e(t.onAuthStateChanged.bind(t)))),r=x.pipe(Object(l.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(p(n),Object(g.a)(I.outsideAngular),Object(u.b)(I.insideAngular)),this.user=t.pipe(p(r),Object(g.a)(I.outsideAngular),Object(u.b)(I.insideAngular)),this.idToken=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdToken()):Object(s.a)(null))),this.idTokenResult=this.user.pipe(Object(l.a)(t=>t?Object(a.a)(t.getIdTokenResult()):Object(s.a)(null))),this.credential=Object(c.a)(t,A,this.authState.pipe(Object(b.a)(t=>!t))).pipe(Object(h.a)(t=>(null==t?void 0:t.user)?t:null),Object(g.a)(I.outsideAngular),Object(u.b)(I.insideAngular))}return Object(m.j)(this,x,y,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>A.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(m.c),r.Vb(m.b,8),r.Vb(r.B),r.Vb(r.z),r.Vb(y,8),r.Vb(_,8),r.Vb(w,8),r.Vb(S,8),r.Vb(E,8),r.Vb(C,8))},t.\u0275prov=Object(r.Hb)({factory:function(){return new t(Object(r.Vb)(m.c),Object(r.Vb)(m.b,8),Object(r.Vb)(r.B),Object(r.Vb)(r.z),Object(r.Vb)(y,8),Object(r.Vb)(_,8),Object(r.Vb)(w,8),Object(r.Vb)(S,8),Object(r.Vb)(E,8),Object(r.Vb)(C,8))},token:t,providedIn:"any"}),t})()},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WJ6P:function(t,e,n){"use strict";e.a=function(){return[]}},WOAq:function(t,e,n){"use strict";(function(t){var r=n("Ju5/"),i=n("L3Qv"),s="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=s&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===s?r.a.Buffer:void 0;e.a=(a?a.isBuffer:void 0)||i.a}).call(this,n("3UD+")(t))},WZmd:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("fXoL"),i=n("2Vo4"),s=n("AytR"),o=n("tk/3"),a=n("h+eY"),c=n("rGdz");let u=(()=>{class t{constructor(t,e,n){this.http=t,this.analytics=e,this.history=n,this.backendUrl="http://localhost:5000/api/v1/",this.backend=new i.a(this.backendUrl),this.isConnected=new i.a(!1),this.connectRequested=new r.n,this.checkConnection=new i.a(!0),this.versions=new i.a({app:s.a.version}),this.analyticsAllowed=new i.a(!1)}changeBackend(t){this.backendUrl=t.endsWith("api/v1/")?t:t+"api/v1/",this.backend.next(this.backendUrl)}requestBackendConnect(){this.connectRequested.emit()}startCheckConnection(){this.checkTimoutId=window.setTimeout(this.checkBackendConnection.bind(this),5e3)}stopCheckConnection(){this.checkTimoutId&&(clearTimeout(this.checkTimoutId),this.checkTimoutId=null)}checkBackendConnection(){return new Promise(t=>{this.backendUrl||(this.isConnected.next(!1),t(!1)),this.http.get(this.backendUrl+"ping").subscribe({next:e=>{this.isConnected.next(!0),this.versions.next(Object.assign(Object.assign({},this.versions.getValue()),{python:e.version.python,backend:e.version.hydenv})),t(!0)},error:()=>{this.isConnected.next(!1),t(!1)}})})}checkGoogleAnalyticsEnabled(){const t=localStorage.getItem("hydenv_allow_ga");t&&"allow"===t?(console.log("Allowing Google Analytics...\nGo to Settings to disable."),this.analytics.setAnalyticsCollectionEnabled(!0),this.analyticsAllowed.next(!0)):(this.analytics.setAnalyticsCollectionEnabled(!1),this.analyticsAllowed.next(!1),console.log("Google Analytics disabled.\nConsider enabling in Settings to improve this application."))}enableGoogleAnalytics(){localStorage.setItem("hydenv_allow_ga","allow"),this.analytics.setAnalyticsCollectionEnabled(!0),this.analyticsAllowed.next(!0),console.log("Enabled anonymous statistics...")}rejectGoogleAnalytics(){localStorage.removeItem("hydenv_allow_ga"),this.analytics.setAnalyticsCollectionEnabled(!1),this.analyticsAllowed.next(!1),console.log("Rejected anonymous statistics...")}checkQueryHistoryEnabled(){const t=localStorage.getItem("hydenv_allow_history");t&&"allow"===t&&(this.history.enabled.next(!0),this.history.init(),console.log("Activated Query History"))}enabledQueryHistory(){this.analytics.logEvent("history_enabled"),localStorage.setItem("hydenv_allow_history","allow"),this.checkQueryHistoryEnabled()}rejectQueryHistory(){this.analytics.logEvent("history_disabled",{historyLength:this.history.history.getValue().length}),localStorage.removeItem("hydenv_allow_history"),this.history.enabled.next(!1),console.log("Disabled query history")}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o.a),r.Vb(a.c),r.Vb(c.a))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Wcq6:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(n("wj3C"));i.default.registerVersion("firebase","7.24.0","app"),t.exports=i.default},XDbj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("sVev"),i=n("7o/Q");function s(t=c){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function c(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},XqMk:function(t,e,n){"use strict";var r="object"==typeof global&&global&&global.Object===Object&&global;e.a=r},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Y7yP:function(t,e,n){"use strict";var r,i=n("vJtL"),s=n("Ju5/").a["__core-js_shared__"],o=(r=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",a=n("IzLi"),c=n("dLWn"),u=/^\[object .+?Constructor\]$/,l=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.a=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Object(a.a)(t)||(e=t,o&&o in e))&&(Object(i.a)(t)?l:u).test(Object(c.a)(t));var e}(n)?n:void 0}},YHEm:function(t,e,n){"use strict";e.a=function(t,e){return t===e||t!=t&&e!=e}},YM6B:function(t,e,n){"use strict";var r=n("Y7yP"),i=n("Ju5/"),s=Object(r.a)(i.a,"DataView"),o=n("3cmB"),a=Object(r.a)(i.a,"Promise"),c=Object(r.a)(i.a,"Set"),u=Object(r.a)(i.a,"WeakMap"),l=n("8M4i"),h=n("dLWn"),f="[object Map]",d="[object Promise]",p="[object Set]",g="[object WeakMap]",b="[object DataView]",m=Object(h.a)(s),v=Object(h.a)(o.a),y=Object(h.a)(a),_=Object(h.a)(c),w=Object(h.a)(u),S=l.a;(s&&S(new s(new ArrayBuffer(1)))!=b||o.a&&S(new o.a)!=f||a&&S(a.resolve())!=d||c&&S(new c)!=p||u&&S(new u)!=g)&&(S=function(t){var e=Object(l.a)(t),n="[object Object]"==e?t.constructor:void 0,r=n?Object(h.a)(n):"";if(r)switch(r){case m:return b;case v:return f;case y:return d;case _:return p;case w:return g}return e}),e.a=S},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}},Zy1z:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return t=>t.lift(new s)}class s{call(t,e){return e.subscribe(new o(t))}}class o extends r.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}},aLtf:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("oAJy"),i=n("2Vo4"),s=n("fXoL"),o=n("h+eY");let a=(()=>{class t{constructor(t){this.analytics=t,this.progressCache=[],this.progress=new i.a(this.progressCache),this.loadFromStorage().then(()=>{this.progress.next(this.progressCache)})}update(t,e){const n=this.progressCache.findIndex(e=>e.exerciseId===t),r=new Date;if(-1===n)this.progressCache.push({exerciseId:t,date:r,correct:e,tries:[r]});else{const i=Object.assign({},this.progressCache[n]);i.date=r,i.correct=e,i.tries.push(r),this.progressCache[n]=i,this.progress.next(this.progressCache),e?this.analytics.logEvent("exercise_solved",{exerciseId:t,onFirst:-1===n}):this.analytics.logEvent("exercise_attempt",{exerciseId:t})}return this.save()}isSolved(t){const e=this.progressCache.find(e=>e.exerciseId===t);return!!e&&e&&e.correct}solveStatus(t){const e=this.progressCache.find(e=>e.exerciseId===t);return e?e.correct:null}loadFromStorage(){return new Promise(t=>{r.getItem("assignments").then(t=>{this.progressCache=t||[]}).then(()=>t())})}save(){return new Promise(t=>{r.setItem("assignments",this.progressCache).then(()=>t())})}}return t.\u0275fac=function(e){return new(e||t)(s.Vb(o.c))},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},dLWn:function(t,e,n){"use strict";var r=Function.prototype.toString;e.a=function(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("l7GE"),i=n("51Dv"),s=n("ZUHj"),o=n("lJxs"),a=n("Cfvw");function c(t,e){return"function"==typeof e?n=>n.pipe(c((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new u(t))}class u{constructor(t){this.project=t}call(t,e){return e.subscribe(new l(t,this.project))}}class l extends r.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const o=new i.a(this,e,n),a=this.destination;a.add(o),this.innerSubscription=Object(s.a)(this,t,void 0,void 0,o),this.innerSubscription!==o&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return po})),n.d(e,"b",(function(){return Ru})),n.d(e,"c",(function(){return xu})),n.d(e,"d",(function(){return Tu})),n.d(e,"e",(function(){return Au})),n.d(e,"f",(function(){return Cl})),n.d(e,"g",(function(){return pl})),n.d(e,"h",(function(){return _s})),n.d(e,"i",(function(){return qu})),n.d(e,"j",(function(){return Ya})),n.d(e,"k",(function(){return Vu})),n.d(e,"l",(function(){return Xa})),n.d(e,"m",(function(){return Rn})),n.d(e,"n",(function(){return ru})),n.d(e,"o",(function(){return K})),n.d(e,"p",(function(){return d})),n.d(e,"q",(function(){return $})),n.d(e,"r",(function(){return qs})),n.d(e,"s",(function(){return vc})),n.d(e,"t",(function(){return yc})),n.d(e,"u",(function(){return Pu})),n.d(e,"v",(function(){return lt})),n.d(e,"w",(function(){return bl})),n.d(e,"x",(function(){return ut})),n.d(e,"y",(function(){return ul})),n.d(e,"z",(function(){return $u})),n.d(e,"A",(function(){return p})),n.d(e,"B",(function(){return Du})),n.d(e,"C",(function(){return ju})),n.d(e,"D",(function(){return ho})),n.d(e,"E",(function(){return rc})),n.d(e,"F",(function(){return ec})),n.d(e,"G",(function(){return nc})),n.d(e,"H",(function(){return sc})),n.d(e,"I",(function(){return Sr})),n.d(e,"J",(function(){return b})),n.d(e,"K",(function(){return yl})),n.d(e,"L",(function(){return Ec})),n.d(e,"M",(function(){return nl})),n.d(e,"N",(function(){return Ss})),n.d(e,"O",(function(){return ac})),n.d(e,"P",(function(){return oc})),n.d(e,"Q",(function(){return Oc})),n.d(e,"R",(function(){return yt})),n.d(e,"S",(function(){return ll})),n.d(e,"T",(function(){return Yn})),n.d(e,"U",(function(){return D})),n.d(e,"V",(function(){return Jn})),n.d(e,"W",(function(){return Sl})),n.d(e,"X",(function(){return sl})),n.d(e,"Y",(function(){return Nu})),n.d(e,"Z",(function(){return Ls})),n.d(e,"ab",(function(){return zc})),n.d(e,"bb",(function(){return _r})),n.d(e,"cb",(function(){return rr})),n.d(e,"db",(function(){return Un})),n.d(e,"eb",(function(){return Gn})),n.d(e,"fb",(function(){return $n})),n.d(e,"gb",(function(){return Qn})),n.d(e,"hb",(function(){return qn})),n.d(e,"ib",(function(){return Wn})),n.d(e,"jb",(function(){return Vc})),n.d(e,"kb",(function(){return wl})),n.d(e,"lb",(function(){return Fc})),n.d(e,"mb",(function(){return Mc})),n.d(e,"nb",(function(){return Hn})),n.d(e,"ob",(function(){return B})),n.d(e,"pb",(function(){return yo})),n.d(e,"qb",(function(){return zo})),n.d(e,"rb",(function(){return Bo})),n.d(e,"sb",(function(){return Pc})),n.d(e,"tb",(function(){return Jt})),n.d(e,"ub",(function(){return k})),n.d(e,"vb",(function(){return zn})),n.d(e,"wb",(function(){return Va})),n.d(e,"xb",(function(){return qt})),n.d(e,"yb",(function(){return Ka})),n.d(e,"zb",(function(){return Qr})),n.d(e,"Ab",(function(){return Co})),n.d(e,"Bb",(function(){return ga})),n.d(e,"Cb",(function(){return Da})),n.d(e,"Db",(function(){return fa})),n.d(e,"Eb",(function(){return vu})),n.d(e,"Fb",(function(){return Et})),n.d(e,"Gb",(function(){return kt})),n.d(e,"Hb",(function(){return _})),n.d(e,"Ib",(function(){return w})),n.d(e,"Jb",(function(){return Tt})),n.d(e,"Kb",(function(){return Lt})),n.d(e,"Lb",(function(){return Ao})),n.d(e,"Mb",(function(){return No})),n.d(e,"Nb",(function(){return Fo})),n.d(e,"Ob",(function(){return Vo})),n.d(e,"Pb",(function(){return Po})),n.d(e,"Qb",(function(){return Ro})),n.d(e,"Rb",(function(){return Do})),n.d(e,"Sb",(function(){return Mo})),n.d(e,"Tb",(function(){return kn})),n.d(e,"Ub",(function(){return Ra})),n.d(e,"Vb",(function(){return st})),n.d(e,"Wb",(function(){return xo})),n.d(e,"Xb",(function(){return Iu})),n.d(e,"Yb",(function(){return ko})),n.d(e,"Zb",(function(){return Uo})),n.d(e,"ac",(function(){return wu})),n.d(e,"bc",(function(){return Wo})),n.d(e,"cc",(function(){return Yc})),n.d(e,"dc",(function(){return Xc})),n.d(e,"ec",(function(){return tu})),n.d(e,"fc",(function(){return Zo})),n.d(e,"gc",(function(){return Ko})),n.d(e,"hc",(function(){return Lo})),n.d(e,"ic",(function(){return Jo})),n.d(e,"jc",(function(){return Yo})),n.d(e,"kc",(function(){return $c})),n.d(e,"lc",(function(){return Kc})),n.d(e,"mc",(function(){return pu})),n.d(e,"nc",(function(){return To})),n.d(e,"oc",(function(){return hn})),n.d(e,"pc",(function(){return ln})),n.d(e,"qc",(function(){return un})),n.d(e,"rc",(function(){return me})),n.d(e,"sc",(function(){return Er})),n.d(e,"tc",(function(){return Cr})),n.d(e,"uc",(function(){return At})),n.d(e,"vc",(function(){return yu})),n.d(e,"wc",(function(){return gu})),n.d(e,"xc",(function(){return da})),n.d(e,"yc",(function(){return ha})),n.d(e,"zc",(function(){return Ho})),n.d(e,"Ac",(function(){return Na})),n.d(e,"Bc",(function(){return Io})),n.d(e,"Cc",(function(){return Ou})),n.d(e,"Dc",(function(){return Aa})),n.d(e,"Ec",(function(){return xa})),n.d(e,"Fc",(function(){return ka})),n.d(e,"Gc",(function(){return La})),n.d(e,"Hc",(function(){return ja})),n.d(e,"Ic",(function(){return bu}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){return{toString:t}.toString()}const u="__annotations__",l="__parameters__",h="__prop__metadata__";function f(t,e,n){return c(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(l)?t[l]:Object.defineProperty(t,l,{value:[]})[l];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const d=f("Inject",t=>({token:t})),p=f("Optional"),g=f("Self"),b=f("SkipSelf");var m=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function v(t){for(let e in t)if(t[e]===v)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function S(t){return E(t,t[O])||E(t,t[A])}function E(t,e){return e&&e.token===t?e:null}function C(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(x))?t[I]:null}const O=v({"\u0275prov":v}),I=v({"\u0275inj":v}),T=v({"\u0275provFallback":v}),A=v({ngInjectableDef:v}),x=v({ngInjectorDef:v});function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function L(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const j=v({__forward_ref__:v});function D(t){return t.__forward_ref__=D,t.toString=function(){return k(this())},t}function R(t){return N(t)?t():t}function N(t){return"function"==typeof t&&t.hasOwnProperty(j)&&t.__forward_ref__===D}const P="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,B=P||M||V||F,z=v({"\u0275cmp":v}),U=v({"\u0275dir":v}),H=v({"\u0275pipe":v}),G=v({"\u0275mod":v}),q=v({"\u0275loc":v}),Q=v({"\u0275fac":v}),W=v({__NG_ELEMENT_ID__:v});class ${constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const K=new $("INJECTOR",-1),Z={},J=/\n/gm,Y="__source",X=v({provide:String,useValue:v});let tt,et=void 0;function nt(t){const e=et;return et=t,e}function rt(t){const e=tt;return tt=t,e}function it(t,e=m.Default){if(void 0===et)throw new Error("inject() must be called from an injection context");return null===et?ot(t,void 0,e):et.get(t,e&m.Optional?null:void 0,e)}function st(t,e=m.Default){return(tt||it)(R(t),e)}function ot(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&m.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${k(t)}]`)}function at(t){const e=[];for(let n=0;n<t.length;n++){const r=R(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=m.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof p||"Optional"===i.ngMetadataName||i===p?n|=m.Optional:i instanceof b||"SkipSelf"===i.ngMetadataName||i===b?n|=m.SkipSelf:i instanceof g||"Self"===i.ngMetadataName||i===g?n|=m.Self:t=i instanceof d||i===d?i.token:i}e.push(st(t,n))}else e.push(st(r))}return e}class ct{get(t,e=Z){if(e===Z){const e=new Error(`NullInjectorError: No provider for ${k(t)}!`);throw e.name="NullInjectorError",e}return e}}class ut{}class lt{}function ht(t,e){t.forEach(t=>Array.isArray(t)?ht(t,e):e(t))}function ft(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function gt(t,e,n){let r=mt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function bt(t,e){const n=mt(t,e);if(n>=0)return t[1|n]}function mt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var vt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),yt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const _t={},wt=[];let St=0;function Et(t){return c(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===vt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||wt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||yt.Emulated,id:"c",styles:t.styles||wt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=St++,n.inputs=xt(t.inputs,e),n.outputs=xt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Ct):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(Ot):null,n})}function Ct(t){return jt(t)||function(t){return t[U]||null}(t)}function Ot(t){return function(t){return t[H]||null}(t)}const It={};function Tt(t){const e={type:t.type,bootstrap:t.bootstrap||wt,declarations:t.declarations||wt,imports:t.imports||wt,exports:t.exports||wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&c(()=>{It[t.id]=t.type}),e}function At(t,e){return c(()=>{const n=Rt(t,!0);n.declarations=e.declarations||wt,n.imports=e.imports||wt,n.exports=e.exports||wt})}function xt(t,e){if(null==t)return _t;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const kt=Et;function Lt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function jt(t){return t[z]||null}function Dt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}function Rt(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${k(t)} does not have '\u0275mod' property.`);return n}const Nt=20,Pt=10;function Vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ft(t){return Array.isArray(t)&&!0===t[1]}function Mt(t){return 0!=(8&t.flags)}function Bt(t){return 2==(2&t.flags)}function zt(t){return 1==(1&t.flags)}function Ut(t){return null!==t.template}function Ht(t){return 0!=(512&t[2])}class Gt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function qt(){return Qt}function Qt(t){return t.type.prototype.ngOnChanges&&(t.setInput=$t),Wt}function Wt(){const t=Kt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===_t)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function $t(t,e,n,r){const i=Kt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:_t,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new Gt(c&&c.currentValue,e,o===_t),t[r]=e}function Kt(t){return t.__ngSimpleChanges__||null}qt.ngInherit=!0;let Zt=void 0;function Jt(t){Zt=t}function Yt(){return void 0!==Zt?Zt:"undefined"!=typeof document?document:void 0}function Xt(t){return!!t.listen}const te={createRenderer:(t,e)=>Yt()};function ee(t){for(;Array.isArray(t);)t=t[0];return t}function ne(t,e){return ee(e[t+Nt])}function re(t,e){return ee(e[t.index])}function ie(t,e){return t.data[e+Nt]}function se(t,e){return t[e+Nt]}function oe(t,e){const n=e[t];return Vt(n)?n:n[0]}function ae(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ce(t){return 4==(4&t[2])}function ue(t){return 128==(128&t[2])}function le(t,e){return null===t||null==e?null:t[e]}function he(t){t[18]=0}function fe(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const de={lFrame:Pe(null),bindingsEnabled:!0,checkNoChangesMode:!1};function pe(){return de.bindingsEnabled}function ge(){return de.lFrame.lView}function be(){return de.lFrame.tView}function me(t){de.lFrame.contextLView=t}function ve(){return de.lFrame.previousOrParentTNode}function ye(t,e){de.lFrame.previousOrParentTNode=t,de.lFrame.isParent=e}function _e(){return de.lFrame.isParent}function we(){de.lFrame.isParent=!1}function Se(){return de.checkNoChangesMode}function Ee(t){de.checkNoChangesMode=t}function Ce(){const t=de.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Oe(){return de.lFrame.bindingIndex}function Ie(){return de.lFrame.bindingIndex++}function Te(t){const e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ae(t,e){const n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,xe(e)}function xe(t){de.lFrame.currentDirectiveIndex=t}function ke(t){const e=de.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Le(){return de.lFrame.currentQueryIndex}function je(t){de.lFrame.currentQueryIndex=t}function De(t,e){const n=Ne();de.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Re(t,e){const n=Ne(),r=t[1];de.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ne(){const t=de.lFrame,e=null===t?null:t.child;return null===e?Pe(t):e}function Pe(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ve(){const t=de.lFrame;return de.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Fe=Ve;function Me(){const t=Ve();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Be(){return de.lFrame.selectedIndex}function ze(t){de.lFrame.selectedIndex=t}function Ue(){const t=de.lFrame;return ie(t.tView,t.selectedIndex)}function He(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ge(t,e,n){We(t,e,3,n)}function qe(t,e,n,r){(3&t[2])===n&&We(t,e,n,r)}function Qe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function We(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&($e(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function $e(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Ke{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ze(t,e,n){const r=Xt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];Ye(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Je(t){return 3===t||4===t||6===t}function Ye(t){return 64===t.charCodeAt(0)}function Xe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||tn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function tn(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function en(t){return-1!==t}function nn(t){return 32767&t}function rn(t){return t>>16}function sn(t,e){let n=rn(t),r=e;for(;n>0;)r=r[15],n--;return r}function on(t){return"string"==typeof t?t:null==t?"":""+t}function an(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():on(t)}const cn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function un(t){return{name:"window",target:t.ownerDocument.defaultView}}function ln(t){return{name:"document",target:t.ownerDocument}}function hn(t){return{name:"body",target:t.ownerDocument.body}}function fn(t){return t instanceof Function?t():t}let dn=!0;function pn(t){const e=dn;return dn=t,e}let gn=0;function bn(t,e){const n=vn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,mn(r.data,t),mn(e,null),mn(r.blueprint,null));const i=yn(t,e),s=t.injectorIndex;if(en(i)){const t=nn(i),n=sn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function mn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function vn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function yn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function _n(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(W)&&(r=n[W]),null==r&&(r=n[W]=gn++);const i=255&r,s=1<<i,o=64&i,a=32&i,c=e.data;128&i?o?a?c[t+7]|=s:c[t+6]|=s:a?c[t+5]|=s:c[t+4]|=s:o?a?c[t+3]|=s:c[t+2]|=s:a?c[t+1]|=s:c[t]|=s}(t,e,n)}function wn(t,e,n,r=m.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(W)?t[W]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){De(e,t);try{const t=i();if(null!=t||r&m.Optional)return t;throw new Error(`No provider for ${an(n)}!`)}finally{Fe()}}else if("number"==typeof i){if(-1===i)return new An(t,e);let s=null,o=vn(t,e),a=-1,c=r&m.Host?e[16][6]:null;for((-1===o||r&m.SkipSelf)&&(a=-1===o?yn(t,e):e[o+8],Tn(r,!1)?(s=e[1],o=nn(a),e=sn(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(In(i,o,t.data)){const t=En(o,e,n,s,r,c);if(t!==Sn)return t}Tn(r,e[1].data[o+8]===c)&&In(i,o,e)?(s=t,o=nn(a),e=sn(a,e)):o=-1}}}if(r&m.Optional&&void 0===i&&(i=null),0==(r&(m.Self|m.Host))){const t=e[9],s=rt(void 0);try{return t?t.get(n,i,r&m.Optional):ot(n,i,r&m.Optional)}finally{rt(s)}}if(r&m.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${an(n)}]`)}const Sn={};function En(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=Cn(a,o,n,null==r?Bt(a)&&dn:r!=o&&3===a.type,i&m.Host&&s===a);return null!==c?On(e,o,c,a):Sn}function Cn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&Ut(t)&&t.type===n)return c}return null}function On(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ke){const o=i;if(o.resolving)throw new Error("Circular dep for "+an(s[n]));const a=pn(o.canSeeViewProviders);let c;o.resolving=!0,o.injectImpl&&(c=rt(o.injectImpl)),De(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Qt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&rt(c),pn(a),o.resolving=!1,Fe()}}return i}function In(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function Tn(t,e){return!(t&m.Self||t&m.Host&&e)}class An{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return wn(this._tNode,this._lView,t,void 0,e)}}function xn(t){const e=t;if(N(t))return()=>{const t=xn(R(e));return t?t():null};let n=Dt(e);if(null===n){const t=C(e);n=t&&t.factory}return n||null}function kn(t){return c(()=>{const e=t.prototype.constructor,n=e[Q]||xn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||xn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ln(t){return t.ngDebugContext}function jn(t){return t.ngOriginalError}function Dn(t,...e){t.error(...e)}class Rn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Dn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Ln(t)?Ln(t):this._findContext(jn(t)):null}_findOriginalError(t){let e=jn(t);for(;e&&jn(e);)e=jn(e);return e}}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Pn extends Nn{getTypeName(){return"HTML"}}class Vn extends Nn{getTypeName(){return"Style"}}class Fn extends Nn{getTypeName(){return"Script"}}class Mn extends Nn{getTypeName(){return"URL"}}class Bn extends Nn{getTypeName(){return"ResourceURL"}}function zn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=Hn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Hn(t){return t instanceof Nn&&t.getTypeName()||null}function Gn(t){return new Pn(t)}function qn(t){return new Vn(t)}function Qn(t){return new Fn(t)}function Wn(t){return new Mn(t)}function $n(t){return new Bn(t)}let Kn=!0,Zn=!1;function Jn(){return Zn=!0,Kn}function Yn(){if(Zn)throw new Error("Cannot enable prod mode after platform setup.");Kn=!1}class Xn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class tr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const er=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,nr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rr(t){return(t=String(t)).match(er)||t.match(nr)?t:(Jn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function ir(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function sr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const or=ir("area,br,col,hr,img,wbr"),ar=ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cr=ir("rp,rt"),ur=sr(cr,ar),lr=sr(or,sr(ar,ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sr(cr,ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ur),hr=ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fr=ir("srcset"),dr=sr(hr,fr,ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pr=ir("script,style,template");class gr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!lr.hasOwnProperty(e))return this.sanitizedSomething=!0,!pr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!dr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;hr[s]&&(o=rr(o)),fr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>rr(t.trim())).join(", ")),this.buf.push(" ",e,'="',vr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();lr.hasOwnProperty(e)&&!or.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(vr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const br=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mr=/([^\#-~ |!])/g;function vr(t){return t.replace(/&/g,"&amp;").replace(br,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(mr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yr;function _r(t,e){let n=null;try{yr=yr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Xn:new tr(t)}(t);let r=e?String(e):"";n=yr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=yr.getInertBodyElement(r)}while(r!==s);const o=new gr,a=o.sanitizeChildren(wr(n)||n);return Jn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=wr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function wr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Sr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Er(t){const e=Or();return e?e.sanitize(Sr.HTML,t)||"":Un(t,"HTML")?zn(t):_r(Yt(),on(t))}function Cr(t){const e=Or();return e?e.sanitize(Sr.URL,t)||"":Un(t,"URL")?zn(t):rr(on(t))}function Or(){const t=ge();return t&&t[12]}function Ir(t,e){t.__ngContext__=e}function Tr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Ar(){throw new Error("Cannot mix multi providers and regular providers")}function xr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const kr="ng-template";function Lr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==xr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function jr(t){return 0===t.type&&t.tagName!==kr}function Dr(t,e,n){return e===(0!==t.type||n?t.tagName:kr)}function Rr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Je(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Dr(t,c,n)||""===c&&1===e.length){if(Nr(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Lr(t.attrs,u,n)){if(Nr(r))return!1;o=!0}continue}const l=Pr(8&r?"class":c,i,jr(t),n);if(-1===l){if(Nr(r))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==xr(e,u,0)||2&r&&u!==t){if(Nr(r))return!1;o=!0}}}}else{if(!o&&!Nr(r)&&!Nr(c))return!1;if(o&&Nr(c))continue;o=!1,r=c|1&r}}return Nr(r)||o}function Nr(t){return 0==(1&t)}function Pr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Vr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Rr(t,e[r],n))return!0;return!1}function Fr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Mr(t,e){return t?":not("+e.trim()+")":e}function Br(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Nr(o)||(e+=Mr(s,i),i=""),r=o,s=s||!Nr(r);n++}return""!==i&&(e+=Mr(s,i)),e}const zr={};function Ur(t){const e=t[3];return Ft(e)?e[3]:e}function Hr(t){return qr(t[13])}function Gr(t){return qr(t[4])}function qr(t){for(;null!==t&&!Ft(t);)t=t[4];return t}function Qr(t){Wr(be(),ge(),Be()+t,Se())}function Wr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ge(e,r,n)}else{const r=t.preOrderHooks;null!==r&&qe(e,r,0,n)}ze(n)}function $r(t,e){return t<<17|e<<2}function Kr(t){return t>>17&32767}function Zr(t){return 2|t}function Jr(t){return(131068&t)>>2}function Yr(t,e){return-131069&t|e<<2}function Xr(t){return 1|t}function ti(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];je(i),n.contentQueries(2,e[s],s)}}}function ei(t,e,n){return Xt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ni(t,e,n,r,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,he(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function ri(t,e,n,r,i,s){const o=n+Nt,a=t.data[o]||function(t,e,n,r,i,s){const o=ve(),a=_e(),c=a?o:o&&o.parent,u=t.data[n]=pi(0,c&&c!==e?c:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=u),o&&(!a||null!=o.child||null===u.parent&&2!==o.type?a||(o.next=u):o.child=u),u}(t,e,o,r,i,s);return ye(a,!0),a}function ii(t,e,n){Re(e,e[6]);try{const r=t.viewQuery;null!==r&&Pi(1,r,n);const i=t.template;null!==i&&ai(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ti(t,e),t.staticViewQueries&&Pi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Li(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Me()}}function si(t,e,n,r){const i=e[2];if(256==(256&i))return;Re(e,e[6]);const s=Se();try{he(e),de.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ai(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Ge(e,n,null)}else{const n=t.preOrderHooks;null!==n&&qe(e,n,0,null),Qe(e,0)}if(function(t){for(let e=Hr(t);null!==e;e=Gr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&fe(r,1),n[2]|=1024}}}(e),function(t){for(let e=Hr(t);null!==e;e=Gr(e))for(let t=Pt;t<e.length;t++){const n=e[t],r=n[1];ue(n)&&si(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ti(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Ge(e,n)}else{const n=t.contentHooks;null!==n&&qe(e,n,1),Qe(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,ze(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(Ae(r,i),o(2,e[i])),i++)}}}finally{ze(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ki(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Pi(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Ge(e,n)}else{const n=t.viewHooks;null!==n&&qe(e,n,2),Qe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,fe(e[3],-1))}finally{Me()}}function oi(t,e,n,r){const i=e[10],s=!Se(),o=ce(e);try{s&&!o&&i.begin&&i.begin(),o&&ii(t,e,r),si(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ai(t,e,n,r,i){const s=Be();try{ze(-1),2&r&&e.length>Nt&&Wr(t,e,0,Se()),n(r,i)}finally{ze(s)}}function ci(t,e,n){if(Mt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ui(t,e,n){pe()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||bn(n,e),Ir(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Ut(r);s&&Ii(e,n,r);const c=On(e,t,a,n);Ir(c,e),null!==o&&Ti(0,a-i,c,r,0,o),s&&(oe(n.index,e)[8]=c)}}(t,e,n,re(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-Nt,c=de.lFrame.currentDirectiveIndex;try{ze(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];xe(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?_i(r,i):o&&s.push(null)}}finally{ze(-1),xe(c)}}(t,e,n))}function li(t,e,n=re){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function hi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=fi(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function fi(t,e,n,r,i,s,o,a,c,u){const l=Nt+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:zr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:u,incompleteFirstPass:!1}}function di(t,e,n,r){const i=Fi(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function pi(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function gi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function bi(t,e,n,r,i,s,o,a){const c=re(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(zi(t,n,u,r,i),Bt(e)&&function(t,e){const n=oe(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Xt(s)?s.setProperty(c,r,i):Ye(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function mi(t,e,n,r){let i=!1;if(pe()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Vr(n,o.selectors,!1)&&(i||(i=[]),_n(bn(n,e),t,o.type),Ut(o)?(2&n.flags&&Tr(n),Si(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,Ci(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}wi(t,n,s.length);let a=!1,c=!1;for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Xe(n.mergedAttrs,u.hostAttrs),Oi(t,e,u),Ei(t.data.length-1,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Nt),a=!0),c||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Nt),c=!0),vi(t,u),r+=u.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||jr(e)?null:Ai(n,i);s.push(u),o=gi(n,c,o),a=gi(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),yi(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Xe(n.mergedAttrs,n.attrs),i}function vi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function yi(t,e,n){for(let r=0;r<n;r++)e.push(zr),t.blueprint.push(zr),t.data.push(null)}function _i(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function wi(t,e,n){const r=Nt-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function Si(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ei(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ut(e)&&(n[""]=t)}}function Ci(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Oi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Dt(n.type)),i=new Ke(r,Ut(n),null);t.blueprint.push(i),e.push(i)}function Ii(t,e,n){const r=re(e,t),i=hi(n),s=t[10],o=ji(t,ni(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function Ti(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Ai(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function xi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ki(t,e){const n=oe(e,t);if(ue(n)){const t=n[1];80&n[2]?si(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Hr(e);null!==r;r=Gr(r))for(let e=Pt;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];si(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=oe(n[r],e);ue(i)&&i[5]>0&&t(i)}}(n)}}function Li(t,e){const n=oe(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ii(r,n,n[8])}function ji(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Di(t){for(;t;){t[2]|=64;const e=Ur(t);if(Ht(t)&&!e)return t;t=e}return null}function Ri(t,e,n){const r=e[10];r.begin&&r.begin();try{si(t,e,t.template,n)}catch(i){throw Bi(e,i),i}finally{r.end&&r.end()}}function Ni(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ae(n),i=r[1];oi(i,r,i.template,n)}}(t[8])}function Pi(t,e,n){je(0),e(t,n)}const Vi=(()=>Promise.resolve(null))();function Fi(t){return t[7]||(t[7]=[])}function Mi(t,e,n){return(null===t||Ut(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Bi(t,e){const n=t[9],r=n?n.get(Rn,null):null;r&&r.handleError(e)}function zi(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Ui(t,e,n){const r=ne(e,t),i=t[11];Xt(i)?i.setValue(r,n):r.textContent=n}function Hi(t,e){const n=e[3];return-1===t.index?Ft(n)?n:null:n}function Gi(t,e){const n=Hi(t,e);return n?ns(e[11],n[7]):null}function qi(t,e,n,r,i){if(null!=r){let s,o=!1;Ft(r)?s=r:Vt(r)&&(o=!0,r=r[0]);const a=ee(r);0===t&&null!==n?null==i?ts(e,n,a):Xi(e,n,a,i||null):1===t&&null!==n?Xi(e,n,a,i||null):2===t?function(t,e,n){const r=ns(t,e);r&&function(t,e,n,r){Xt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==ee(n)&&qi(e,t,r,s,i);for(let o=Pt;o<n.length;o++){const i=n[o];as(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Qi(t,e,n,r){const i=Gi(t.node,e);i&&as(t,e,e[11],n?1:2,i,r)}function Wi(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&fe(e[3],-1),n.splice(r,1)}function $i(t,e){if(t.length<=Pt)return;const n=Pt+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Wi(i,r),e>0&&(t[n-1][4]=r[4]);const s=dt(t,Pt+e);Qi(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Ki(t,e){if(!(256&e[2])){const n=e[11];Xt(n)&&n.destroyNode&&as(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ji(t[1],t);for(;e;){let n=null;if(Vt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Vt(e)&&Ji(e[1],e),e=Zi(e,t);null===e&&(e=t),Vt(e)&&Ji(e[1],e),n=e&&e[4]}e=n}}(e)}}function Zi(t,e){let n;return Vt(t)&&(n=t[6])&&2===n.type?Hi(n,t):t[3]===e?null:t[3]}function Ji(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ke)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):ee(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Xt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Ft(e[3])){r!==e[3]&&Wi(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Yi(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Gi(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return re(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==yt.ShadowDom&&n!==yt.Native)return null}return re(r,n)}function Xi(t,e,n,r){Xt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function ts(t,e,n){Xt(t)?t.appendChild(e,n):e.appendChild(n)}function es(t,e,n,r){null!==r?Xi(t,e,n,r):ts(t,e,n)}function ns(t,e){return Xt(t)?t.parentNode(e):e.parentNode}function rs(t,e){if(2===t.type){const n=Hi(t,e);return null===n?null:ss(n.indexOf(e,Pt)-Pt,n)}return 4===t.type||5===t.type?re(t,e):null}function is(t,e,n,r){const i=Yi(t,r,e);if(null!=i){const t=e[11],s=rs(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)es(t,i,n[e],s);else es(t,i,n,s)}}function ss(t,e){const n=Pt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return re(n,e);if(0===r)return ss(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Ft(t)?ss(-1,t):ee(t)}}{const r=e[16],i=r[6],s=Ur(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function os(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;o&&0===e&&(a&&Ir(ee(a),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(os(t,e,n.child,r,i,s,!1),qi(e,t,i,a,s)):1===c?cs(t,e,r,n,i,s):qi(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function as(t,e,n,r,i,s){os(n,r,t.node.child,e,i,s,!1)}function cs(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)qi(e,t,i,a[c],s);else os(t,e,a,o[3],i,s,!0)}function us(t,e,n){Xt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ls(t,e,n){Xt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class hs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(ee(o)),Ft(o))for(let e=Pt;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=Ur(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ki(this._lView[1],this._lView)}onDestroy(t){di(this._lView[1],this._lView,null,t)}markForCheck(){Di(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ri(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ee(!0);try{Ri(t,e,n)}finally{Ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,as(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class fs extends hs{constructor(t){super(t),this._view=t}detectChanges(){Ni(this._view)}checkNoChanges(){!function(t){Ee(!0);try{Ni(t)}finally{Ee(!1)}}(this._view)}get context(){return null}}let ds,ps,gs;function bs(t,e,n){return ds||(ds=class extends t{}),new ds(re(e,n))}function ms(t,e,n,r){return ps||(ps=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ni(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ii(e,n,t),new hs(n)}}),0===n.type?new ps(r,n,bs(e,n,r)):null}function vs(t,e,n,r){let i;gs||(gs=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return bs(e,this._hostTNode,this._hostView)}get injector(){return new An(this._hostTNode,this._hostView)}get parentInjector(){const t=yn(this._hostTNode,this._hostView),e=sn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=rn(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return en(t)&&null!=n?new An(n,e):new An(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Pt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ut,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new gs(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=Pt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-Pt?(e[4]=n[i],ft(n,Pt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Qi(r,n,!0,ss(i,this._lContainer)),t.attachToViewContainerRef(this),ft(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=$i(this._lContainer,e);n&&(dt(this._lContainer[8],e),Ki(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=$i(this._lContainer,e);return n&&null!=dt(this._lContainer[8],e)?new hs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Ft(s))i=s;else{let t;if(4===n.type)t=ee(s);else if(t=r[11].createComment(""),Ht(r)){const e=r[11],i=re(n,r);Xi(e,ns(e,i),t,function(t,e){return Xt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else is(r[1],r,t,n);r[n.index]=i=xi(s,r,t,n),ji(r,i)}return new gs(i,n,r)}function ys(t=!1){return function(t,e,n){if(!n&&Bt(t)){const n=oe(t.index,e);return new hs(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new hs(e[16],e):null}(ve(),ge(),t)}let _s=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ws(),t})();const ws=ys,Ss=Function;function Es(t){return"function"==typeof t}const Cs=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,Os=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Is=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ts=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class As{constructor(t){this._reflect=t||B.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=pt(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),Cs.test(n)||Ts.test(n)||Os.test(n)&&!Is.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&xs(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(l)&&t[l],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||i?this._zipTypesAndAnnotations(s,i):pt(t.length)}parameters(t){if(!Es(t))return[];const e=ks(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?xs(t.decorators):t.hasOwnProperty(u)?t[u]:null}annotations(t){if(!Es(t))return[];const e=ks(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=xs(e[t])}),n}return t.hasOwnProperty(h)?t[h]:null}propMetadata(t){if(!Es(t))return{};const e=ks(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Es(t)&&this._ownPropMetadata(t,ks(t))||{}}hasLifecycleHook(t,e){return t instanceof Ss&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+k(t)}resourceUri(t){return"./"+k(t)}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function xs(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function ks(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const Ls=new $("Set Injector scope."),js={},Ds={},Rs=[];let Ns=void 0;function Ps(){return void 0===Ns&&(Ns=new ct),Ns}function Vs(t,e=null,n=null,r){return new Fs(t,n,e||Ps(),r)}class Fs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ht(e,n=>this.processProvider(n,t,e)),ht([t],t=>this.processInjectorType(t,[],i)),this.records.set(K,zs(void 0,this));const s=this.records.get(Ls);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:k(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Z,n=m.Default){this.assertNotDestroyed();const r=nt(this);try{if(!(n&m.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof $)&&S(t);e=n&&this.injectableDefInScope(n)?zs(Ms(t),js):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&m.Self?Ps():this.parent).get(t,e=n&m.Optional&&e===Z?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(k(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Y]&&i.unshift(e[Y]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):k(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(J,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{nt(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(k(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=R(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{ht(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ht(r,t=>this.processProvider(t,n,r||Rs))}}this.injectorDefTypes.add(s),this.records.set(s,zs(r.factory,js));const a=r.providers;if(null!=a&&!o){const e=t;ht(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Hs(t=R(t))?t:R(t&&t.provide);const i=function(t,e,n){return Us(t)?zs(void 0,t.useValue):zs(Bs(t,e,n),js)}(t,e,n);if(Hs(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Ar()}else{let e=this.records.get(r);e?void 0===e.multi&&Ar():(e=zs(void 0,js,!0),e.factory=()=>at(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Ds?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(k(t)):e.value===js&&(e.value=Ds,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ms(t){const e=S(t),n=null!==e?e.factory:Dt(t);if(null!==n)return n;const r=C(t);if(null!==r)return r.factory;if(t instanceof $)throw new Error(`Token ${k(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pt(e,"?");throw new Error(`Can't resolve all parameters for ${k(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[A]||t[T]&&t[T]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Bs(t,e,n){let r=void 0;if(Hs(t)){const e=R(t);return Dt(e)||Ms(e)}if(Us(t))r=()=>R(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...at(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>st(R(t.useExisting));else{const i=R(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${k(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Dt(i)||Ms(i);r=()=>new i(...at(t.deps))}var i;return r}function zs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Us(t){return null!==t&&"object"==typeof t&&X in t}function Hs(t){return"function"==typeof t}const Gs=function(t,e,n){return function(t,e=null,n=null,r){const i=Vs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let qs=(()=>{class t{static create(t,e){return Array.isArray(t)?Gs(t,e,""):Gs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Z,t.NULL=new ct,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>st(K)}),t.__NG_ELEMENT_ID__=-1,t})();function Qs(t){return t.length>1?" ("+function(t){const e=[];for(let n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(t=>k(t.token)).join(" -> ")+")":""}function Ws(t,e,n,r){const i=[e],s=n(i),o=r?function(t,e){const n=`${t} caused by: ${e instanceof Error?e.message:e}`,r=Error(n);return r.ngOriginalError=e,r}(s,r):Error(s);return o.addKey=$s,o.keys=i,o.injectors=[t],o.constructResolvingMessage=n,o.ngOriginalError=r,o}function $s(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function Ks(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const t=e[r];n.push(t&&0!=t.length?t.map(k).join(" "):"?")}return Error("Cannot resolve all parameters for '"+k(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+k(t)+"' is decorated with Injectable.")}class Zs{constructor(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=k(this.token)}static get(t){return Ys.get(R(t))}static get numberOfKeys(){return Ys.numberOfKeys}}class Js{constructor(){this._allKeys=new Map}get(t){if(t instanceof Zs)return t;if(this._allKeys.has(t))return this._allKeys.get(t);const e=new Zs(t,Zs.numberOfKeys);return this._allKeys.set(t,e),e}get numberOfKeys(){return this._allKeys.size}}const Ys=new Js;class Xs{constructor(t){this.reflectionCapabilities=t}updateCapabilities(t){this.reflectionCapabilities=t}factory(t){return this.reflectionCapabilities.factory(t)}parameters(t){return this.reflectionCapabilities.parameters(t)}annotations(t){return this.reflectionCapabilities.annotations(t)}propMetadata(t){return this.reflectionCapabilities.propMetadata(t)}hasLifecycleHook(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)}getter(t){return this.reflectionCapabilities.getter(t)}setter(t){return this.reflectionCapabilities.setter(t)}method(t){return this.reflectionCapabilities.method(t)}importUri(t){return this.reflectionCapabilities.importUri(t)}resourceUri(t){return this.reflectionCapabilities.resourceUri(t)}resolveIdentifier(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)}resolveEnum(t,e){return this.reflectionCapabilities.resolveEnum(t,e)}}const to=new Xs(new As);class eo{constructor(t,e,n){this.key=t,this.optional=e,this.visibility=n}static fromKey(t){return new eo(t,!1,null)}}const no=[];class ro{constructor(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class io{constructor(t,e){this.factory=t,this.dependencies=e}}function so(t){let e,n;if(t.useClass){const r=R(t.useClass);e=to.factory(r),n=ao(r)}else t.useExisting?(e=t=>t,n=[eo.fromKey(Zs.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){const n=e.map(t=>[t]);return e.map(e=>co(t,e,n))}return ao(t)}(t.useFactory,t.deps)):(e=()=>t.useValue,n=no);return new io(e,n)}function oo(t){return new ro(Zs.get(t.provide),[so(t)],t.multi||!1)}function ao(t){const e=to.parameters(t);if(!e)return[];if(e.some(t=>null==t))throw Ks(t,e);return e.map(n=>co(t,n,e))}function co(t,e,n){let r=null,i=!1;if(!Array.isArray(e))return uo(e instanceof d?e.token:e,i,null);let s=null;for(let o=0;o<e.length;++o){const t=e[o];t instanceof Ss?r=t:t instanceof d?r=t.token:t instanceof p?i=!0:t instanceof g||t instanceof b?s=t:t instanceof $&&(r=t)}if(r=R(r),null!=r)return uo(r,i,s);throw Ks(t,n)}function uo(t,e,n){return new eo(Zs.get(t),e,n)}const lo={};class ho{static resolve(t){return function(t){const e=function(t,e){for(let n=0;n<t.length;n++){const r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${i} ${r}`);if(r.multiProvider)for(let t=0;t<r.resolvedFactories.length;t++)i.resolvedFactories.push(r.resolvedFactories[t]);else e.set(r.key.id,r)}else{let t;t=r.multiProvider?new ro(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,t)}}return e}(function t(e,n){return e.forEach(e=>{if(e instanceof Ss)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!Array.isArray(e))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(oo),new Map);return Array.from(e.values())}(t)}static resolveAndCreate(t,e){const n=ho.resolve(t);return ho.fromResolvedProviders(n,e)}static fromResolvedProviders(t,e){return new fo(t,e)}}let fo=(()=>{class t{constructor(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;const n=t.length;this.keyIds=[],this.objs=[];for(let r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=lo}get(t,e=Z){return this._getByKey(Zs.get(t),null,e)}resolveAndCreateChild(t){const e=ho.resolve(t);return this.createChildFromResolved(e)}createChildFromResolved(e){const n=new t(e);return n.parent=this,n}resolveAndInstantiate(t){return this.instantiateResolved(ho.resolve([t])[0])}instantiateResolved(t){return this._instantiateProvider(t)}getProviderAtIndex(t){if(t<0||t>=this._providers.length)throw function(t){return Error(`Index ${t} is out-of-bounds.`)}(t);return this._providers[t]}_new(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Ws(this,t.key,(function(t){return"Cannot instantiate cyclic dependency!"+Qs(t)}));return this._instantiateProvider(t)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(t){if(t.multiProvider){const e=[];for(let n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])}_instantiate(t,e){const n=e.factory;let r,i;try{r=e.dependencies.map(t=>this._getByReflectiveDependency(t))}catch(o){throw o.addKey&&o.addKey(this,t.key),o}try{i=n(...r)}catch(o){throw Ws(this,t.key,(function(t){const e=k(t[0].token);return`${s.message}: Error during instantiation of ${e}!${Qs(t)}.`}),s=o)}var s;return i}_getByReflectiveDependency(t){return this._getByKey(t.key,t.visibility,t.optional?null:Z)}_getByKey(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof g?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)}_getObjByKeyId(t){for(let e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===lo&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return lo}_throwOrNull(t,e){if(e!==Z)return e;throw function(t,e){return Ws(t,e,(function(t){return`No provider for ${k(t[0].token)}!${Qs(t)}`}))}(this,t)}_getByKeySelf(t,e){const n=this._getObjByKeyId(t.id);return n!==lo?n:this._throwOrNull(t,e)}_getByKeyDefault(e,n,r){let i;for(i=r instanceof b?this.parent:this;i instanceof t;){const t=i,n=t._getObjByKeyId(e.id);if(n!==lo)return n;i=t.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)}get displayName(){return`ReflectiveInjector(providers: [${function(t,e){const n=[];for(let r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")}])`}toString(){return this.displayName}}return t.INJECTOR_KEY=Zs.get(qs),t})();const po=new $("AnalyzeForEntryComponents");function go(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=L(i,t):2==s&&(r=L(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let bo=null;function mo(){if(!bo){const t=B.Symbol;if(t&&t.iterator)bo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(bo=n)}}}return bo}class vo{constructor(t){this.wrapped=t}static wrap(t){return new vo(t)}static unwrap(t){return vo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof vo}}function yo(t){return!!_o(t)&&(Array.isArray(t)||!(t instanceof Map)&&mo()in t)}function _o(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function wo(t,e,n){return t[e]=n}function So(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Eo(t,e,n,r){const i=So(t,e,n);return So(t,e+1,r)||i}function Co(t,e,n,r){const i=ge();return So(i,Ie(),e)&&(be(),function(t,e,n,r,i,s){const o=re(t,e),a=e[11];if(null==r)Xt(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?on(r):i(r,t.tagName||"",n);Xt(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Ue(),i,t,e,n,r)),Co}function Oo(t,e,n,r){return So(t,Ie(),n)?e+on(n)+r:zr}function Io(t,e,n,r,i,s,o,a){const c=ge(),u=be(),l=t+Nt,h=u.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const u=e.consts,l=ri(e,n[6],t,0,o||null,le(u,a));mi(e,n,l,le(u,c)),He(e,l);const h=l.tViews=fi(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u),f=pi(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,r,i,s,o):u.data[l];ye(h,!1);const f=c[11].createComment("");is(u,c,f,h),Ir(f,c),ji(c,c[l]=xi(f,c,f,h)),zt(h)&&ui(u,c,h),null!=o&&li(c,h,a)}function To(t){return se(de.lFrame.contextLView,t)}function Ao(t,e=m.Default){const n=ge();return null==n?st(t,e):wn(ve(),n,R(t),e)}function xo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Je(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ve(),t)}function ko(){throw new Error("invalid")}function Lo(t,e,n){const r=ge();return So(r,Ie(),e)&&bi(be(),Ue(),r,t,e,r[11],n,!1),Lo}function jo(t,e,n,r,i){const s=i?"class":"style";zi(t,n,e.inputs[s],s,r)}function Do(t,e,n,r){const i=ge(),s=be(),o=Nt+t,a=i[11],c=i[o]=ei(e,a,de.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=le(a,s),u=ri(e,n[6],t,3,i,c);return mi(e,n,u,le(a,o)),null!==u.attrs&&go(u,u.attrs,!1),null!==u.mergedAttrs&&go(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,s,i,0,e,n,r):s.data[o];ye(u,!0);const l=u.mergedAttrs;null!==l&&Ze(a,c,l);const h=u.classes;null!==h&&ls(a,c,h);const f=u.styles;null!==f&&us(a,c,f),is(s,i,c,u),0===de.lFrame.elementDepthCount&&Ir(c,i),de.lFrame.elementDepthCount++,zt(u)&&(ui(s,i,u),ci(s,u,i)),null!==r&&li(i,u)}function Ro(){let t=ve();_e()?we():(t=t.parent,ye(t,!1));const e=t;de.lFrame.elementDepthCount--;const n=be();n.firstCreatePass&&(He(n,t),Mt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&jo(n,e,ge(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&jo(n,e,ge(),e.stylesWithoutHost,!1)}function No(t,e,n,r){Do(t,e,n,r),Ro()}function Po(t,e,n){const r=ge(),i=be(),s=t+Nt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=le(s,r),a=ri(e,n[6],t,4,"ng-container",o);return null!==o&&go(a,o,!0),mi(e,n,a,le(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];ye(o,!0);const a=r[s]=r[11].createComment("");is(i,r,a,o),Ir(a,r),zt(o)&&(ui(i,r,o),ci(i,o,r)),null!=n&&li(r,o)}function Vo(){let t=ve();const e=be();_e()?we():(t=t.parent,ye(t,!1)),e.firstCreatePass&&(He(e,t),Mt(t)&&e.queries.elementEnd(t))}function Fo(t,e,n){Po(t,e,n),Vo()}function Mo(){return ge()}function Bo(t){return!!t&&"function"==typeof t.then}function zo(t){return!!t&&"function"==typeof t.subscribe}function Uo(t,e,n=!1,r){const i=ge(),s=be(),o=ve();return Go(s,i,i[11],o,t,e,n,r),Uo}function Ho(t,e,n=!1,r){const i=ve(),s=ge(),o=be();return Go(o,s,Mi(ke(o.data),i,s),i,t,e,n,r),Ho}function Go(t,e,n,r,i,s,o=!1,a){const c=zt(r),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Fi(e);let h=!0;if(3===r.type){const f=re(r,e),d=a?a(f):_t,p=d.target||f,g=l.length,b=a?t=>a(ee(t[r.index])).target:r.index;if(Xt(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Qo(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),u&&u.push(i,b,g,g+1)}}else s=Qo(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,b,g,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,r.index,o,-(o+1))}}}function qo(t,e,n){try{return!1!==e(n)}catch(r){return Bi(t,r),!1}}function Qo(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?oe(t.index,e):e;0==(32&e[2])&&Di(o);let a=qo(e,n,s),c=i.__ngNextListenerFn__;for(;c;)a=qo(e,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Wo(t=1){return function(t){return(de.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,de.lFrame.contextLView))[8]}(t)}function $o(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Vr(t,s,!0):Fr(r,s))return i}else n=i}return n}function Ko(t){const e=ge()[16][6];if(!e.projection){const n=e.projection=pt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?$o(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Zo(t,e=0,n){const r=ge(),i=be(),s=ri(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),we(),function(t,e,n){cs(e[11],0,e,n,Yi(t,n,e),rs(n.parent||e[6],e))}(i,r,s)}function Jo(t,e,n){return Yo(t,"",e,"",n),Jo}function Yo(t,e,n,r,i){const s=ge(),o=Oo(s,e,n,r);return o!==zr&&bi(be(),Ue(),s,t,o,s[11],i,!1),Yo}const Xo=[];function ta(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Kr(s):Jr(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];ea(t[a],e)&&(c=!0,t[a+1]=r?Xr(n):Zr(n)),a=r?Kr(n):Jr(n)}c&&(t[n+1]=r?Zr(s):Xr(s))}function ea(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&mt(t,e)>=0}const na={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ra(t){return t.substring(na.key,na.keyEnd)}function ia(t){return t.substring(na.value,na.valueEnd)}function sa(t,e){const n=na.textEnd;return n===e?-1:(e=na.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,na.key=e,n),ca(t,e,n))}function oa(t,e){const n=na.textEnd;let r=na.key=ca(t,e,n);return n===r?-1:(r=na.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=ua(t,r,n),r=na.value=ca(t,r,n),r=na.valueEnd=function(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const c=t.charCodeAt(o++);if(59===c)return a;34===c||39===c?a=o=la(t,c,o,n):e===o-4&&85===s&&82===i&&76===r&&40===c?a=o=la(t,41,o,n):c>32&&(a=o),s=i,i=r,r=-33&c}return a}(t,r,n),ua(t,r,n))}function aa(t){na.key=0,na.keyEnd=0,na.value=0,na.valueEnd=0,na.textEnd=t.length}function ca(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ua(t,e,n,r){return(e=ca(t,e,n))<n&&e++,e}function la(t,e,n,r){let i=-1,s=n;for(;s<r;){const n=t.charCodeAt(s++);if(n==e&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function ha(t,e,n){return ma(t,e,n,!1),ha}function fa(t,e){return ma(t,e,null,!0),fa}function da(t){va(Ea,pa,t,!1)}function pa(t,e){for(let n=function(t){return aa(t),oa(t,ca(t,0,na.textEnd))}(e);n>=0;n=oa(e,n))Ea(t,ra(e),ia(e))}function ga(t){va(gt,ba,t,!0)}function ba(t,e){for(let n=function(t){return aa(t),sa(t,ca(t,0,na.textEnd))}(e);n>=0;n=sa(e,n))gt(t,ra(e),!0)}function ma(t,e,n,r){const i=ge(),s=be(),o=Te(2);s.firstUpdatePass&&_a(s,t,o,r),e!==zr&&So(i,o,e)&&Ca(s,s.data[Be()+Nt],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=k(zn(t)))),t}(e,n),r,o)}function va(t,e,n,r){const i=be(),s=Te(2);i.firstUpdatePass&&_a(i,null,s,r);const o=ge();if(n!==zr&&So(o,s,n)){const a=i.data[Be()+Nt];if(Ta(a,r)&&!ya(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=L(t,n||"")),jo(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===zr&&(i=Xo);let c=0,u=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const f=c<i.length?i[c+1]:void 0,d=u<s.length?s[u+1]:void 0;let p=null,g=void 0;l===h?(c+=2,u+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(c+=2,p=l):(u+=2,p=h,g=d),null!==p&&Ca(t,e,n,r,p,g,o,a),l=c<i.length?i[c]:null,h=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Xo;const r=[],i=zn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function ya(t,e){return e>=t.expandoStartIndex}function _a(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Be()+Nt],o=ya(t,n);Ta(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ke(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Sa(n=wa(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=wa(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Jr(r))return t[Kr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=wa(null,t,e,n[1],r),n=Sa(n,e.attrs,r),function(t,e,n,r){t[Kr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Sa(r,t[s].hostAttrs,n);return Sa(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Kr(o),c=Jr(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||mt(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=Kr(t[a+1]);t[r+1]=$r(e,a),0!==e&&(t[e+1]=Yr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=$r(a,0),0!==a&&(t[a+1]=Yr(t[a+1],r)),a=r;else t[r+1]=$r(c,0),0===a?a=r:t[c+1]=Yr(t[c+1],r),c=r;l&&(t[r+1]=Zr(t[r+1])),ta(t,u,r,!0),ta(t,u,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&mt(s,e)>=0&&(n[r+1]=Xr(n[r+1]))}(e,u,t,r,s),o=$r(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function wa(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Sa(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Sa(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gt(t,o,!!n||e[++s]))}return void 0===t?null:t}function Ea(t,e,n){gt(t,e,zn(n))}function Ca(t,e,n,r,i,s,o,a){if(3!==e.type)return;const c=t.data,u=c[a+1];Ia(1==(1&u)?Oa(c,e,n,i,Jr(u),o):void 0)||(Ia(s)||2==(2&u)&&(s=Oa(c,null,n,i,a,o)),function(t,e,n,r,i){const s=Xt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,ne(Be(),n),i,s))}function Oa(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[i+1];l===zr&&(l=u?Xo:void 0);let h=u?bt(l,r):c===r?l:void 0;if(s&&!Ia(h)&&(h=bt(e,r)),Ia(h)&&(a=h,o))return a;const f=t[i+1];i=o?Kr(f):Jr(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=bt(t,r))}return a}function Ia(t){return void 0!==t}function Ta(t,e){return 0!=(t.flags&(e?16:32))}function Aa(t,e=""){const n=ge(),r=be(),i=t+Nt,s=r.firstCreatePass?ri(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Xt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);is(r,n,o,s),ye(s,!1)}function xa(t){return ka("",t,""),xa}function ka(t,e,n){const r=ge(),i=Oo(r,t,e,n);return i!==zr&&Ui(r,Be(),i),ka}function La(t,e,n,r,i){const s=ge(),o=function(t,e,n,r,i,s){const o=Eo(t,Oe(),n,i);return Te(2),o?e+on(n)+r+on(i)+s:zr}(s,t,e,n,r,i);return o!==zr&&Ui(s,Be(),o),La}function ja(t,e,n,r,i,s,o){const a=ge(),c=function(t,e,n,r,i,s,o,a){const c=function(t,e,n,r,i){const s=Eo(t,e,n,r);return So(t,e+2,i)||s}(t,Oe(),n,i,o);return Te(3),c?e+on(n)+r+on(i)+s+on(o)+a:zr}(a,t,e,n,r,i,s,o);return c!==zr&&Ui(a,Be(),c),ja}function Da(t,e,n){va(gt,ba,Oo(ge(),t,e,n),!0)}function Ra(t,e,n){const r=ge();return So(r,Ie(),e)&&bi(be(),Ue(),r,t,e,r[11],n,!0),Ra}function Na(t,e,n){const r=ge();if(So(r,Ie(),e)){const i=be(),s=Ue();bi(i,s,r,t,e,Mi(ke(i.data),s,r),n,!0)}return Na}function Pa(t,e){const n=ae(t)[1],r=n.data.length-1;He(n,{directiveStart:r,directiveEnd:r+1})}function Va(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Ut(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Fa(t.inputs),e.declaredInputs=Fa(t.declaredInputs),e.outputs=Fa(t.outputs);const n=i.hostBindings;n&&za(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ma(t,s),o&&Ba(t,o),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),Ut(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Va&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xe(i.hostAttrs,n=Xe(n,i.hostAttrs))}}(r)}function Fa(t){return t===_t?{}:t===wt?[]:t}function Ma(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ba(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function za(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ua(t,e,n,r,i){if(t=R(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ua(t[s],e,n,r,i);else{const s=be(),o=ge();let a=Hs(t)?t:R(t.provide),c=Bs(t);const u=ve(),l=1048575&u.providerIndexes,h=u.directiveStart,f=u.providerIndexes>>20;if(Hs(t)||!t.multi){const r=new Ke(c,i,Ao),d=qa(a,e,i?l:l+f,h);-1===d?(_n(bn(u,o),s,a),Ha(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=qa(a,e,l+f,h),p=qa(a,e,l,l+f),g=d>=0&&n[d],b=p>=0&&n[p];if(i&&!b||!i&&!g){_n(bn(u,o),s,a);const l=function(t,e,n,r,i){const s=new Ke(t,n,Ao);return s.multi=[],s.index=e,s.componentProviders=0,Ga(s,i,r&&!n),s}(i?Wa:Qa,n.length,i,r,c);!i&&b&&(n[p].providerFactory=l),Ha(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else Ha(s,t,d>-1?d:p,Ga(n[i?p:d],c,!i&&r));!i&&r&&b&&n[p].componentProviders++}}}function Ha(t,e,n,r){const i=Hs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Ga(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function qa(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Qa(t,e,n,r){return $a(this.multi,[])}function Wa(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=On(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),$a(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],$a(i,s);return s}function $a(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ka(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=be();if(r.firstCreatePass){const i=Ut(t);Ua(n,r.data,r.blueprint,i,!0),Ua(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Za{}class Ja{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${k(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ya=(()=>{class t{}return t.NULL=new Ja,t})(),Xa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>tc(t),t})();const tc=function(t){return bs(t,ve(),ge())};class ec{}var nc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let rc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ic(),t})();const ic=function(){const t=ge(),e=oe(ve().index,t);return function(t){const e=t[11];if(Xt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Vt(e)?e:t)};let sc=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class oc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ac=new oc("10.0.14");class cc{constructor(){}supports(t){return yo(t)}create(t){return new lc(t)}}const uc=(t,e)=>e;class lc{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||uc}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<pc(n,r,i)?e:n,o=pc(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!yo(t))throw new Error(`Error trying to diff '${k(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[mo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new hc(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new dc),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class hc{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fc{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class dc{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new fc,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pc(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class gc{constructor(){}supports(t){return t instanceof Map||_o(t)}create(){return new bc}}class bc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||_o(t)))throw new Error(`Error trying to diff '${k(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new mc(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class mc{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let vc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new p]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>new t([new cc])}),t})(),yc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new b,new p]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>new t([new gc])}),t})();const _c=[new gc],wc=new vc([new cc]),Sc=new yc(_c);let Ec=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Cc(t,Xa),t})();const Cc=function(t,e){return ms(t,e,ve(),ge())};let Oc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ic(t,Xa),t})();const Ic=function(t,e){return vs(t,e,ve(),ge())},Tc={};class Ac extends Ya{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=jt(t);return new Lc(e,this.ngModule)}}function xc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const kc=new $("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>cn});class Lc extends Za{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Br).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return xc(this.componentDef.inputs)}get outputs(){return xc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Tc,i);return s!==Tc||r===Tc?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ec,te),o=i.get(sc,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Xt(t))return t.selectRootElement(e,n===yt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):ei(c,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:cn,clean:Vi,playerHandler:null,flags:0},f=fi(0,-1,null,1,0,null,null,null,null,null),d=ni(null,f,h,l,null,null,s,a,o,i);let p,g;Re(d,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=ri(o,null,0,3,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(go(a,c,!0),null!==t&&(Ze(i,t,c),null!==a.classes&&ls(i,t,a.classes),null!==a.styles&&us(i,t,a.styles)));const u=r.createRenderer(t,e),l=ni(n,hi(e),null,e.onPush?64:16,n[20],a,r,u,void 0);return o.firstCreatePass&&(_n(bn(a,n),o,e.type),Si(o,a),Ci(a,n.length,1)),ji(n,l),n[20]=l}(u,this.componentDef,d,s,a);if(u)if(n)Ze(a,u,["ng-version",ac.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Nr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ze(a,u,t),e&&e.length>0&&ls(a,u,e.join(" "))}if(g=ie(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=ve();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),wi(t,r,1),Oi(t,e,n));const i=On(e,t,e.length-1,r);Ir(i,e);const s=re(r,e);return s&&Ir(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=ve();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){ze(a.index-Nt);const t=n[1];vi(t,e),yi(t,n,e.hostVars),_i(e,o)}return o}(t,this.componentDef,d,h,[Pa]),ii(f,d,null)}finally{Me()}const b=new jc(this.componentType,p,bs(Xa,g,d),d,g);return f.node.child=g,b}}class jc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new fs(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=pi(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new An(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Dc=void 0;var Rc=["en",[["a","p"],["AM","PM"],Dc],[["AM","PM"],Dc,Dc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dc,"{1} 'at' {0}",Dc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Nc={};function Pc(t,e,n){"string"!=typeof e&&(n=e,e=t[zc.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Nc[e]=t,n&&(Nc[e][zc.ExtraData]=n)}function Vc(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Bc(e);if(n)return n;const r=e.split("-")[0];if(n=Bc(r),n)return n;if("en"===r)return Rc;throw new Error(`Missing locale data for the locale "${t}".`)}function Fc(t){return Vc(t)[zc.CurrencyCode]||null}function Mc(t){return Vc(t)[zc.PluralCase]}function Bc(t){return t in Nc||(Nc[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),Nc[t]}var zc=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Uc="en-US";let Hc=Uc;function Gc(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Hc=t.toLowerCase().replace(/_/g,"-"))}const qc=new Map;class Qc extends ut{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ac(this);const n=Rt(t),r=t[q]||null;r&&Gc(r),this._bootstrapComponents=fn(n.bootstrap),this._r3Injector=Vs(t,e,[{provide:ut,useValue:this},{provide:Ya,useValue:this.componentFactoryResolver}],k(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=qs.THROW_IF_NOT_FOUND,n=m.Default){return t===qs||t===ut||t===K?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Wc extends lt{constructor(t){super(),this.moduleType=t,null!==Rt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${k(e)} vs ${k(e.name)}`)})(t,qc.get(t),e),qc.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Qc(this.moduleType,t)}}function $c(t,e,n){const r=Ce()+t,i=ge();return i[r]===zr?wo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Kc(t,e,n,r){return Jc(ge(),Ce(),t,e,n,r)}function Zc(t,e){const n=t[e];return n===zr?void 0:n}function Jc(t,e,n,r,i,s){const o=e+n;return So(t,o,i)?wo(t,o+1,s?r.call(s,i):r(i)):Zc(t,o+1)}function Yc(t,e){const n=be();let r;const i=t+Nt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Dt(r.type)),o=rt(Ao),a=pn(!1),c=s();return pn(a),rt(o),function(t,e,n,r){const i=n+Nt;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,ge(),t,c),c}function Xc(t,e,n){const r=ge(),i=se(r,t);return nu(r,eu(r,t)?Jc(r,Ce(),e,i.transform,n,i):i.transform(n))}function tu(t,e,n,r){const i=ge(),s=se(i,t);return nu(i,eu(i,t)?function(t,e,n,r,i,s,o){const a=e+n;return Eo(t,a,i,s)?wo(t,a+2,o?r.call(o,i,s):r(i,s)):Zc(t,a+2)}(i,Ce(),e,s.transform,n,r,s):s.transform(n,r))}function eu(t,e){return t[1].data[e+Nt].pure}function nu(t,e){return vo.isWrapped(e)&&(e=vo.unwrap(e),t[Oe()]=zr),e}const ru=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function iu(){return this._results[mo()]()}class su{constructor(){this.dirty=!0,this._results=[],this.changes=new ru,this.length=0;const t=mo(),e=su.prototype;e[t]||(e[t]=iu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ou{constructor(t){this.queryList=t,this.matches=null}clone(){return new ou(this.queryList)}setDirty(){this.queryList.setDirty()}}class au{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new au(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Cu(t,e).matches&&this.queries[e].setDirty()}}class cu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class uu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new uu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class lu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new lu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,hu(e,i)),this.matchTNodeWithReadOption(t,e,Cn(e,t,i,!1,!1))}else n===Ec?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Cn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Xa||r===Oc||r===Ec&&0===e.type)this.addMatch(e.index,-2);else{const n=Cn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function hu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function fu(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?bs(Xa,t,e):0===t.type?ms(Ec,Xa,t,e):null}(e,t):-2===n?function(t,e,n){return n===Xa?bs(Xa,e,t):n===Ec?ms(Ec,Xa,e,t):n===Oc?vs(Oc,Xa,e,t):void 0}(t,e,r):On(t,t[1],n,e)}function du(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:fu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function pu(t){const e=ge(),n=be(),r=Le();je(r+1);const i=Cu(n,r);if(t.dirty&&ce(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=du(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=Pt;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):du(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function gu(t,e,n){mu(be(),ge(),t,e,n,!0)}function bu(t,e,n){mu(be(),ge(),t,e,n,!1)}function mu(t,e,n,r,i,s){t.firstCreatePass&&(Eu(t,new cu(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),Su(t,e)}function vu(t,e,n,r){_u(be(),ge(),e,n,r,!1,ve(),t)}function yu(t,e,n,r){_u(be(),ge(),e,n,r,!0,ve(),t)}function _u(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Eu(t,new cu(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),Su(t,e)}function wu(){return t=ge(),e=Le(),t[19].queries[e].queryList;var t,e}function Su(t,e){const n=new su;di(t,e,n,n.destroy),null===e[19]&&(e[19]=new au),e[19].queries.push(new ou(n))}function Eu(t,e,n){null===t.queries&&(t.queries=new uu),t.queries.track(new lu(e,n))}function Cu(t,e){return t.queries.getByIndex(e)}function Ou(t,e){return ms(Ec,Xa,t,e)}function Iu(t=m.Default){const e=ys(!0);if(null!=e||t&m.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Tu=new $("Application Initializer");let Au=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Bo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(st(Tu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const xu=new $("AppId"),ku={provide:xu,useFactory:function(){return`${Lu()}${Lu()}${Lu()}`},deps:[]};function Lu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ju=new $("Platform Initializer"),Du=new $("Platform ID"),Ru=new $("appBootstrapListener");let Nu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Pu=new $("LocaleId"),Vu=new $("DefaultCurrencyCode");class Fu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Mu=function(t){return new Wc(t)},Bu=Mu,zu=function(t){return Promise.resolve(Mu(t))},Uu=function(t){const e=Mu(t),n=fn(Rt(t).declarations).reduce((t,e)=>{const n=jt(e);return n&&t.push(new Lc(n)),t},[]);return new Fu(e,n)},Hu=Uu,Gu=function(t){return Promise.resolve(Uu(t))};let qu=(()=>{class t{constructor(){this.compileModuleSync=Bu,this.compileModuleAsync=zu,this.compileModuleAndAllComponentsSync=Hu,this.compileModuleAndAllComponentsAsync=Gu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const Qu=(()=>Promise.resolve(0))();function Wu(t){"undefined"==typeof Zone?Qu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class $u{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ru(!1),this.onMicrotaskEmpty=new ru(!1),this.onStable=new ru(!1),this.onError=new ru(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yu(t),Ju(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return Xu(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),tl(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return Xu(t),e.invoke(r,i,s,o,a)}finally{tl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Yu(t),Ju(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$u.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($u.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Zu,Ku,Ku);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Ku(){}const Zu={};function Ju(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Xu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function tl(t){t._nesting--,Ju(t)}class el{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ru,this.onMicrotaskEmpty=new ru,this.onStable=new ru,this.onError=new ru}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let nl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$u.assertNotInAngularZone(),Wu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(st($u))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),rl=(()=>{class t{constructor(){this._applications=new Map,al.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return al.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class il{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function sl(t){al=t}let ol,al=new il;const cl=new $("AllowMultipleToken");class ul{constructor(t,e){this.name=t,this.token=e}}function ll(t,e,n=[]){const r="Platform: "+e,i=new $(r);return(e=[])=>{let s=hl();if(!s||s.injector.get(cl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ls,useValue:"platform"});!function(t){if(ol&&!ol.destroyed&&!ol.injector.get(cl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ol=t.get(fl);const e=t.get(ju,null);e&&e.forEach(t=>t())}(qs.create({providers:t,name:r}))}return function(t){const e=hl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function hl(){return ol&&!ol.destroyed?ol:null}let fl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new el:("zone.js"===t?void 0:t)||new $u({enableLongStackTrace:Jn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:$u,useValue:n}];return n.run(()=>{const e=qs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Rn,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>gl(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return Bo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Au);return t.runInitializers(),t.donePromise.then(()=>(Gc(i.injector.get(Pu,Uc)||Uc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=dl({},e);return function(t,e,n){const r=new Wc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(pl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${k(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(st(qs))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function dl(t,e){return Array.isArray(e)?e.reduce(dl,t):Object.assign(Object.assign({},t),e)}let pl=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Jn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{$u.assertNotInAngularZone(),Wu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{$u.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(u,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Za?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ut),i=n.create(qs.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(nl,null);return s&&i.injector.get(rl).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Jn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;gl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ru,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),gl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(st($u),st(Nu),st(qs),st(Rn),st(Ya),st(Au))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function gl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class bl{}class ml{}const vl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let yl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||vl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>_l(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>_l(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(st(qu),st(ml,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function _l(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const wl=function(t){return null},Sl=ll(null,"core",[{provide:Du,useValue:"unknown"},{provide:fl,deps:[qs]},{provide:rl,deps:[]},{provide:Nu,deps:[]}]),El=[{provide:pl,useClass:pl,deps:[$u,Nu,qs,Rn,Ya,Au]},{provide:kc,deps:[$u],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Au,useClass:Au,deps:[[new p,Tu]]},{provide:qu,useClass:qu,deps:[]},ku,{provide:vc,useFactory:function(){return wc},deps:[]},{provide:yc,useFactory:function(){return Sc},deps:[]},{provide:Pu,useFactory:function(t){return Gc(t=t||"undefined"!=typeof $localize&&$localize.locale||Uc),t},deps:[[new d(Pu),new p,new b]]},{provide:Vu,useValue:"USD"}];let Cl=(()=>{class t{constructor(t){}}return t.\u0275mod=Tt({type:t}),t.\u0275inj=w({factory:function(e){return new(e||t)(st(pl))},providers:El}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},"h+eY":function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return L})),n.d(e,"c",(function(){return N})),n.d(e,"d",(function(){return U})),n.d(e,"e",(function(){return k})),n.d(e,"f",(function(){return R})),n.d(e,"g",(function(){return D})),n.d(e,"h",(function(){return z}));var r=n("mrSG"),i=n("fXoL"),s=n("LRne"),o=n("EY2u"),a=n("ofXK"),c=n("pxpQ"),u=n("eIep"),l=n("lJxs"),h=n("UXun"),f=n("pLZG"),d=n("7o/Q"),p=n("quSY"),g=n("HDdC"),b=n("XNiG");class m{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new v(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class v extends d.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(s){this.error(s)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new b.a,n.set(e,i);const t=new _(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new _(e,i))}catch(s){return void this.error(s)}this.add(t.subscribe(new y(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class y extends d.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class _ extends g.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new p.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new w(n)),e.add(r.subscribe(t)),e}}class w extends p.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var S=n("5+tZ"),E=n("/uUt"),C=n("JX91"),O=n("Zy1z"),I=n("spgP"),T=n("tyNb"),A=n("UbJi"),x=n("jhN1");const k=new i.q("angularfire2.analytics.analyticsCollectionEnabled"),L=new i.q("angularfire2.analytics.appVersion"),j=new i.q("angularfire2.analytics.appName"),D=new i.q("angularfire2.analytics.debugMode"),R=new i.q("angularfire2.analytics.config");let N=(()=>{class t{constructor(t,e,r,i,f,d,p,g){if(this.analyticsInitialized=new Promise(()=>{}),Object(a.B)(p)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),f&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),d&&this.updateConfig(d),f&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const b=Object(s.a)(void 0).pipe(Object(c.b)(new I.e(g).outsideAngular),Object(u.a)(()=>Object(a.B)(p)?g.runOutsideAngular(()=>n.e(10).then(n.bind(null,"AAub"))):o.a),Object(l.a)(()=>Object(I.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,d,f])),Object(h.a)({bufferSize:1,refCount:!1}));return Object(I.j)(this,b,g)}updateConfig(t){return Object(r.a)(this,void 0,void 0,(function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))}))}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(I.d),i.Vb(k,8),i.Vb(L,8),i.Vb(j,8),i.Vb(D,8),i.Vb(R,8),i.Vb(i.B),i.Vb(i.z))},t.\u0275prov=Object(i.Hb)({factory:function(){return new t(Object(i.Vb)(I.d),Object(i.Vb)(k,8),Object(i.Vb)(L,8),Object(i.Vb)(j,8),Object(i.Vb)(D,8),Object(i.Vb)(R,8),Object(i.Vb)(i.B),Object(i.Vb)(i.z))},token:t,providedIn:"any"}),t})(),P=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],Object(a.C)(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(N),i.Vb(i.B),i.Vb(A.a),i.Vb(i.z))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();const V="screen_class";let F=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const M={},B=t=>{const e=[t.screen_class,t.outlet].join("#");if(M.hasOwnProperty(e))return M[e];{const t=F++;return M[e]=t,t}};let z=(()=>{class t{constructor(t,e,n,i,o,c,h){if(!e||!Object(a.B)(o))return this;c.runOutsideAngular(()=>{const o=e.events.pipe(Object(f.a)(t=>t instanceof T.b));var a;this.disposable=o.pipe(Object(u.a)(t=>{var r;const o=(null===(r=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===r?void 0:r.toString())||"",a=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!a)return Object(s.a)(null);let c=a;for(;c.firstChild;)c=c.firstChild;const u=c.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",l={screen_name:u,page_path:"/"+o,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};n&&(l.page_title=n.getTitle());let h=a.component;if(h){if(h===T.i){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;h=e.component}}else h=t.snapshot.component;if("string"==typeof h)return Object(s.a)(Object.assign(Object.assign({},l),{[V]:h}));if(h){const t=i.resolveComponentFactory(h);return Object(s.a)(Object.assign(Object.assign({},l),{[V]:t.selector}))}return Object(s.a)(null)}),Object(f.a)(t=>t),Object(l.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:B(t)},t)),(a=t=>t.outlet,t=>t.lift(new m(a,void 0,void 0,void 0))),Object(S.a)(e=>e.pipe(Object(E.a)((t,e)=>JSON.stringify(t)===JSON.stringify(e)),Object(C.a)(void 0),Object(O.a)(),Object(l.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),Object(u.a)(e=>Object(r.a)(this,void 0,void 0,(function*(){return h&&(yield h.initialized),yield t.logEvent("screen_view",e)})))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(N),i.Vb(T.c,8),i.Vb(x.b,8),i.Vb(i.j),i.Vb(i.B),i.Vb(i.z),i.Vb(P,8))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})(),U=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)(i.Vb(N),i.Vb(z,8),i.Vb(P,8))},providers:[N]}),t})()},itXk:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("z+Ro"),i=n("DH7j"),s=n("l7GE"),o=n("ZUHj"),a=n("yCtX");const c={};function u(...t){let e=null,n=null;return Object(r.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(a.a)(t,n).lift(new l(e))}class l{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends s.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(c),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(o.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===c?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},jN84:function(t,e,n){"use strict";var r=n("WJ6P"),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols;e.a=s?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var r=-1,s=null==e?0:e.length,o=0,a=[];++r<s;){var c=e[r];i.call(t,c)&&(a[o++]=c)}return a}(s(t)))}:r.a},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jhN1:function(t,e,n){"use strict";n.d(e,"a",(function(){return R})),n.d(e,"b",(function(){return P})),n.d(e,"c",(function(){return j})),n.d(e,"d",(function(){return w}));var r=n("ofXK"),i=n("fXoL");class s extends r.D{constructor(){super()}supportsDOMEvents(){return!0}}class o extends s{static makeCurrent(){Object(r.H)(new o)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=c||(c=document.querySelector("base"),c)?c.getAttribute("href"):null;return null==e?null:(n=e,a||(a=document.createElement("a")),a.setAttribute("href",n),"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname);var n}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(r.G)(document.cookie,t)}}let a,c=null;const u=new i.q("TRANSITION_ID"),l=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=Object(r.F)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[u,r.d,i.r],multi:!0}];class h{static init(){Object(i.X)(new h)}addToWindow(t){i.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.ob.getAllAngularRootElements=()=>t.getAllRootElements(),i.ob.frameworkStabilizers||(i.ob.frameworkStabilizers=[]),i.ob.frameworkStabilizers.push(t=>{const e=i.ob.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Object(r.F)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const f=new i.q("EventManagerPlugins");let d=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(f),i.Vb(i.z))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();class p{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Object(r.F)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let g=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t extends g{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(r.F)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(r.d))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();const m={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},v=/%COMP%/g;function y(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?y(t,i,n):(i=i.replace(v,t),n.push(i))}return n}function _(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let w=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new S(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new E(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case i.R.Native:case i.R.ShadowDom:return new C(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=y(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(d),i.Vb(b),i.Vb(i.c))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();class S{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(m[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=m[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=m[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&i.G.DashCase?t.style.setProperty(e,n,r&i.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_(n)):this.eventManager.addEventListener(t,e,_(n))}}class E extends S{constructor(t,e,n,r){super(t),this.component=n;const i=y(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(v,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(v,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class C extends S{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===i.R.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=y(r.id,r.styles,[]);for(let i=0;i<s.length;i++){const t=document.createElement("style");t.textContent=s[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let O=(()=>{class t extends p{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(r.d))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();const I=["alt","control","meta","shift"],T={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},A={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},x={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let k=(()=>{class t extends p{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(r.F)().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(I.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&A.hasOwnProperty(e)&&(e=A[e]))}return T[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),I.forEach(r=>{r!=n&&(0,x[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(r.d))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();const L=[{provide:i.B,useValue:r.E},{provide:i.C,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.d,useFactory:function(){return Object(i.tb)(document),document},deps:[]}],j=Object(i.S)(i.W,"browser",L),D=[[],{provide:i.Z,useValue:"root"},{provide:i.m,useFactory:function(){return new i.m},deps:[]},{provide:f,useClass:O,multi:!0,deps:[r.d,i.z,i.B]},{provide:f,useClass:k,multi:!0,deps:[r.d]},[],{provide:w,useClass:w,deps:[d,b,i.c]},{provide:i.F,useExisting:w},{provide:g,useExisting:b},{provide:b,useClass:b,deps:[r.d]},{provide:i.M,useClass:i.M,deps:[i.z]},{provide:d,useClass:d,deps:[f,i.z]},[]];let R=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:u,useExisting:i.c},l]}}}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)(i.Vb(t,12))},providers:D,imports:[r.c,i.f]}),t})();function N(){return new P(Object(i.Vb)(r.d))}let P=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(r.d))},t.\u0275prov=Object(i.Hb)({factory:N,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window},jtHE:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("XNiG"),i=n("qgXg"),s=n("quSY"),o=n("pxpQ"),a=n("9ppp"),c=n("Ylt2");class u extends r.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let u;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?u=s.a.EMPTY:(this.observers.push(t),u=new c.a(this,t)),r&&t.add(t=new o.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class l{constructor(t,e){this.time=t,this.value=e}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},kiQV:function(t){t.exports=JSON.parse('{"name":"exercises-app","version":"0.8.5","scripts":{"ng":"ng","start":"ng serve","build":"ng build","test":"ng test","lint":"ng lint","e2e":"ng e2e"},"private":true,"dependencies":{"@angular/animations":"~10.0.2","@angular/common":"~10.0.2","@angular/compiler":"~10.0.2","@angular/core":"~10.0.2","@angular/fire":"^6.0.3","@angular/forms":"~10.0.2","@angular/platform-browser":"~10.0.2","@angular/platform-browser-dynamic":"~10.0.2","@angular/router":"~10.0.2","@clr/angular":"4.0.1","@clr/icons":"4.0.1","@clr/ui":"4.0.1","@webcomponents/webcomponentsjs":"^2.0.0","angular-plotly.js":"^3.0.0","angular-resizable-element":"^3.3.4","firebase":"^7.13.1","firebase-admin":"^9.2.0","localforage":"^1.9.0","lodash":"^4.17.20","lodash-es":"^4.17.20","mapbox-gl":"^1.12.0","ngx-clipboard":"^14.0.1","ngx-color-picker":"^10.1.0","ngx-monaco-editor":"^9.0.0","plotly.js":"^1.57.1","rxjs":"~6.5.5","tslib":"^2.0.0","wellknown":"^0.5.0","zone.js":"~0.10.3"},"devDependencies":{"@angular-devkit/architect":">= 0.900 < 0.1100","@angular-devkit/build-angular":"^0.1002.0","@angular/cli":"~10.0.1","@angular/compiler-cli":"~10.0.2","@types/jasmine":"~3.5.0","@types/jasminewd2":"~2.0.3","@types/lodash":"^4.14.161","@types/lodash-es":"^4.17.4","@types/mapbox-gl":"^1.12.5","@types/node":"^12.12.68","@types/plotly.js":"^1.54.2","codelyzer":"^6.0.0-next.1","firebase-tools":"^9.1.0","fuzzy":"^0.1.3","inquirer":"^6.2.2","inquirer-autocomplete-prompt":"^1.0.1","jasmine-core":"~3.5.0","jasmine-spec-reporter":"~5.0.0","karma":"~5.0.0","karma-chrome-launcher":"~3.1.0","karma-coverage-istanbul-reporter":"~3.0.2","karma-jasmine":"~3.3.0","karma-jasmine-html-reporter":"^1.5.0","open":"^7.0.3","protractor":"~7.0.0","ts-node":"^8.3.0","tslint":"~6.1.0","typescript":"~3.9.5"}}')},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mkut:function(t,e,n){"use strict";var r=n("7gMY"),i=n("pyRK"),s=n("U6JX"),o=Object(s.a)(Object.keys,Object),a=Object.prototype.hasOwnProperty,c=n("5WsY");e.a=function(t){return Object(c.a)(t)?Object(r.a)(t):function(t){if(!Object(i.a)(t))return o(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}},mrSG:function(t,e,n){"use strict";function r(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))}n.d(e,"a",(function(){return r}))},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},nLtN:function(t,e,n){"use strict";var r=n("YHEm"),i=function(t,e){for(var n=t.length;n--;)if(Object(r.a)(t[n][0],e))return n;return-1},s=Array.prototype.splice;function o(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}o.prototype.clear=function(){this.__data__=[],this.size=0},o.prototype.delete=function(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():s.call(e,n,1),--this.size,0))},o.prototype.get=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]},o.prototype.has=function(t){return i(this.__data__,t)>-1},o.prototype.set=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},e.a=o},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},oAJy:function(t,e,n){t.exports=function t(e,n,r){function i(o,a){if(!n[o]){if(!e[o]){if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};e[o][0].call(u.exports,(function(t){return i(e[o][1][t]||t)}),u,u.exports,t,e,n,r)}return n[o].exports}for(var s=!1,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){(function(t){"use strict";var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var s=0,o=new i(l),a=t.document.createTextNode("");o.observe(a,{characterData:!0}),n=function(){a.data=s=++s%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var c=new t.MessageChannel;c.port1.onmessage=l,n=function(){c.port2.postMessage(0)}}var u=[];function l(){var t,e;r=!0;for(var n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}r=!1}e.exports=function(t){1!==u.push(t)||r||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function i(){}var s={},o=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,t!==i&&d(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){r((function(){var r;try{r=e(n)}catch(i){return s.reject(t,i)}r===t?s.reject(t,new TypeError("Cannot resolve promise with itself")):s.resolve(t,r)}))}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var n=!1;function r(e){n||(n=!0,s.reject(t,e))}function i(e){n||(n=!0,s.resolve(t,e))}var o=p((function(){e(i,r)}));"error"===o.status&&r(o.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=u,u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===o)return this;var n=new this.constructor(i);return this.state!==c?h(n,this.state===a?t:e,this.outcome):this.queue.push(new l(n,t,e)),n},l.prototype.callFulfilled=function(t){s.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){s.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},s.resolve=function(t,e){var n=p(f,e);if("error"===n.status)return s.reject(t,n.value);var r=n.value;if(r)d(t,r);else{t.state=a,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},s.reject=function(t,e){t.state=o,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},u.resolve=function(t){return t instanceof this?t:s.resolve(new this(i),t)},u.reject=function(t){var e=new this(i);return s.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),a=0,c=-1,u=new this(i);++c<n;)l(t[c],c);return u;function l(t,i){e.resolve(t).then((function(t){o[i]=t,++a!==n||r||(r=!0,s.resolve(u,o))}),(function(t){r||(r=!0,s.reject(u,t))}))}},u.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var r=-1,o=new this(i);++r<e;)this.resolve(t[r]).then((function(t){n||(n=!0,s.resolve(o,t))}),(function(t){n||(n=!0,s.reject(o,t))}));return o}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function s(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var o=Promise;function a(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function c(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function u(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",f=void 0,d={},p=Object.prototype.toString,g="readonly",b="readwrite";function m(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}function v(t){var e=d[t.name],n={};n.promise=new o((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady=e.dbReady?e.dbReady.then((function(){return n.promise})):n.promise}function y(t){var e=d[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function _(t,e){var n=d[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function w(t,e){return new o((function(n,r){if(d[t.name]=d[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);v(t),t.db.close()}var s=[t.name];e&&s.push(t.version);var o=i.open.apply(i,s);e&&(o.onupgradeneeded=function(e){var n=o.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),o.onerror=function(t){t.preventDefault(),r(o.error)},o.onsuccess=function(){n(o.result),y(t)}}))}function S(t){return w(t,!1)}function E(t){return w(t,!0)}function C(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version>t.db.version;if(t.version<t.db.version&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function O(t){return s([m(atob(t.data))],{type:t.type})}function I(t){return t&&t.__local_forage_encoded_blob}function T(t){var e=this,n=e._initReady().then((function(){var t=d[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return c(n,t,t),n}function A(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(s){if(r>0&&(!t.db||"InvalidStateError"===s.name||"NotFoundError"===s.name))return o.resolve().then((function(){if(!t.db||"NotFoundError"===s.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),E(t)})).then((function(){return function(t){v(t);for(var e=d[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,S(t).then((function(e){return t.db=e,C(t)?E(t):e})).then((function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(e){throw _(t,e),e}))}(t).then((function(){A(t,e,n,r-1)}))})).catch(n);n(s)}}var x={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var i=d[n.name];i||(d[n.name]=i={forages:[],db:null,dbReady:null,deferredOperations:[]}),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=T);var s=[];function a(){return o.resolve()}for(var c=0;c<i.forages.length;c++){var u=i.forages[c];u!==e&&s.push(u._initReady().catch(a))}var l=i.forages.slice(0);return o.all(s).then((function(){return n.db=i.db,S(n)})).then((function(t){return n.db=t,C(n,e._defaultConfig.version)?E(n):t})).then((function(t){n.db=i.db=t,e._dbInfo=n;for(var r=0;r<l.length;r++){var s=l[r];s!==e&&(s._dbInfo.db=n.db,s._dbInfo.version=n.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}(),iterate:function(t,e){var n=this,r=new o((function(e,r){n.ready().then((function(){A(n._dbInfo,g,(function(i,s){if(i)return r(i);try{var o=s.objectStore(n._dbInfo.storeName).openCursor(),a=1;o.onsuccess=function(){var n=o.result;if(n){var r=n.value;I(r)&&(r=O(r));var i=t(r,n.key,a++);void 0!==i?e(i):n.continue()}else e()},o.onerror=function(){r(o.error)}}catch(c){r(c)}}))})).catch(r)}));return a(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=new o((function(e,r){n.ready().then((function(){A(n._dbInfo,g,(function(i,s){if(i)return r(i);try{var o=s.objectStore(n._dbInfo.storeName).get(t);o.onsuccess=function(){var t=o.result;void 0===t&&(t=null),I(t)&&(t=O(t)),e(t)},o.onerror=function(){r(o.error)}}catch(a){r(a)}}))})).catch(r)}));return a(r,e),r},setItem:function(t,e,n){var r=this;t=u(t);var i=new o((function(n,i){var a;r.ready().then((function(){return a=r._dbInfo,"[object Blob]"===p.call(e)?function(t){return"boolean"==typeof f?o.resolve(f):function(t){return new o((function(e){var n=t.transaction(h,b),r=s([""]);n.objectStore(h).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}(t).then((function(t){return f=t}))}(a.db).then((function(t){return t?e:(n=e,new o((function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):e})).then((function(e){A(r._dbInfo,b,(function(s,o){if(s)return i(s);try{var a=o.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var c=a.put(e,t);o.oncomplete=function(){void 0===e&&(e=null),n(e)},o.onabort=o.onerror=function(){i(c.error?c.error:c.transaction.error)}}catch(u){i(u)}}))})).catch(i)}));return a(i,n),i},removeItem:function(t,e){var n=this;t=u(t);var r=new o((function(e,r){n.ready().then((function(){A(n._dbInfo,b,(function(i,s){if(i)return r(i);try{var o=s.objectStore(n._dbInfo.storeName).delete(t);s.oncomplete=function(){e()},s.onerror=function(){r(o.error)},s.onabort=function(){r(o.error?o.error:o.transaction.error)}}catch(a){r(a)}}))})).catch(r)}));return a(r,e),r},clear:function(t){var e=this,n=new o((function(t,n){e.ready().then((function(){A(e._dbInfo,b,(function(r,i){if(r)return n(r);try{var s=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){n(s.error?s.error:s.transaction.error)}}catch(o){n(o)}}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new o((function(t,n){e.ready().then((function(){A(e._dbInfo,g,(function(r,i){if(r)return n(r);try{var s=i.objectStore(e._dbInfo.storeName).count();s.onsuccess=function(){t(s.result)},s.onerror=function(){n(s.error)}}catch(o){n(o)}}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,r=new o((function(e,r){t<0?e(null):n.ready().then((function(){A(n._dbInfo,g,(function(i,s){if(i)return r(i);try{var o=s.objectStore(n._dbInfo.storeName),a=!1,c=o.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===t||a?e(n.key):(a=!0,n.advance(t)):e(null)},c.onerror=function(){r(c.error)}}catch(u){r(u)}}))})).catch(r)}));return a(r,e),r},keys:function(t){var e=this,n=new o((function(t,n){e.ready().then((function(){A(e._dbInfo,g,(function(r,i){if(r)return n(r);try{var s=i.objectStore(e._dbInfo.storeName).openKeyCursor(),o=[];s.onsuccess=function(){var e=s.result;e?(o.push(e.key),e.continue()):t(o)},s.onerror=function(){n(s.error)}}catch(a){n(a)}}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,s=this;if(t.name){var c=t.name===n.name&&s._dbInfo.db?o.resolve(s._dbInfo.db):S(t).then((function(e){var n=d[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e}));r=c.then(t.storeName?function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;v(t);var r=d[t.name],s=r.forages;e.close();for(var a=0;a<s.length;a++){var c=s[a];c._dbInfo.db=null,c._dbInfo.version=n}return new o((function(e,r){var s=i.open(t.name,n);s.onerror=function(t){s.result.close(),r(t)},s.onupgradeneeded=function(){s.result.deleteObjectStore(t.storeName)},s.onsuccess=function(){var t=s.result;t.close(),e(t)}})).then((function(t){r.db=t;for(var e=0;e<s.length;e++){var n=s[e];n._dbInfo.db=t,y(n._dbInfo)}})).catch((function(e){throw(_(t,e)||o.resolve()).catch((function(){})),e}))}}:function(e){v(t);var n=d[t.name],r=n.forages;e.close();for(var s=0;s<r.length;s++)r[s]._dbInfo.db=null;return new o((function(e,n){var r=i.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}})).then((function(t){n.db=t;for(var e=0;e<r.length;e++)y(r[e]._dbInfo)})).catch((function(e){throw(_(t,e)||o.resolve()).catch((function(){})),e}))})}else r=o.reject("Invalid arguments");return a(r,e),r}},k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",L=/^~~local_forage_type~([^~]+)~/,j="__lfsc__:",D=j.length,R="arbf",N="blob",P="si08",V="ui08",F="uic8",M="si16",B="si32",z="ur16",U="ui32",H="fl32",G="fl64",q=D+R.length,Q=Object.prototype.toString;function W(t){var e,n,r,i,s,o=.75*t.length,a=t.length,c=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var u=new ArrayBuffer(o),l=new Uint8Array(u);for(e=0;e<a;e+=4)n=k.indexOf(t[e]),r=k.indexOf(t[e+1]),i=k.indexOf(t[e+2]),s=k.indexOf(t[e+3]),l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&s;return u}function $(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=k[n[e]>>2],r+=k[(3&n[e])<<4|n[e+1]>>4],r+=k[(15&n[e+1])<<2|n[e+2]>>6],r+=k[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var K={serialize:function(t,e){var n="";if(t&&(n=Q.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===Q.call(t.buffer))){var r,i=j;t instanceof ArrayBuffer?(r=t,i+=R):(r=t.buffer,"[object Int8Array]"===n?i+=P:"[object Uint8Array]"===n?i+=V:"[object Uint8ClampedArray]"===n?i+=F:"[object Int16Array]"===n?i+=M:"[object Uint16Array]"===n?i+=z:"[object Int32Array]"===n?i+=B:"[object Uint32Array]"===n?i+=U:"[object Float32Array]"===n?i+=H:"[object Float64Array]"===n?i+=G:e(new Error("Failed to get type for BinaryArray"))),e(i+$(r))}else if("[object Blob]"===n){var s=new FileReader;s.onload=function(){var n="~~local_forage_type~"+t.type+"~"+$(this.result);e("__lfsc__:blob"+n)},s.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(o){console.error("Couldn't convert value into a JSON string: ",t),e(null,o)}},deserialize:function(t){if(t.substring(0,D)!==j)return JSON.parse(t);var e,n=t.substring(q),r=t.substring(D,q);if(r===N&&L.test(n)){var i=n.match(L);e=i[1],n=n.substring(i[0].length)}var o=W(n);switch(r){case R:return o;case N:return s([o],{type:e});case P:return new Int8Array(o);case V:return new Uint8Array(o);case F:return new Uint8ClampedArray(o);case M:return new Int16Array(o);case z:return new Uint16Array(o);case B:return new Int32Array(o);case U:return new Uint32Array(o);case H:return new Float32Array(o);case G:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:W,bufferToString:$};function Z(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function J(t,e,n,r,i,s){t.executeSql(n,r,i,(function(t,o){o.code===o.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,a){a.rows.length?s(t,o):Z(t,e,(function(){t.executeSql(n,r,i,s)}),s)}),s):s(t,o)}),s)}function Y(t,e,n,r){var i=this;t=u(t);var s=new o((function(s,o){i.ready().then((function(){void 0===e&&(e=null);var a=e,c=i._dbInfo;c.serializer.serialize(e,(function(e,u){u?o(u):c.db.transaction((function(n){J(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){s(a)}),(function(t,e){o(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(r>0)return void s(Y.apply(i,[t,a,n,r-1]));o(e)}}))}))})).catch(o)}));return a(s,n),s}function X(t){return new o((function(e,n){t.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],s=0;s<r.rows.length;s++)i.push(r.rows.item(s).name);e({db:t,storeNames:i})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}var tt={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var i=new o((function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(i){return r(i)}n.db.transaction((function(i){Z(i,n,(function(){e._dbInfo=n,t()}),(function(t,e){r(e)}))}),r)}));return n.serializer=K,i},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new o((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){J(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var s=r.rows,o=s.length,a=0;a<o;a++){var c=s.item(a),u=c.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=t(u,c.key,a+1)))return void e(u)}e()}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=new o((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){J(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,e),r},setItem:function(t,e,n){return Y.apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=u(t);var r=new o((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){J(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,e),r},clear:function(t){var e=this,n=new o((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){J(e,r,"DELETE FROM "+r.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},length:function(t){var e=this,n=new o((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){J(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(e,n){var r=n.rows.item(0).c;t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},key:function(t,e){var n=this,r=new o((function(e,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){J(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)}),(function(t,e){r(e)}))}))})).catch(r)}));return a(r,e),r},keys:function(t){var e=this,n=new o((function(t,n){e.ready().then((function(){var r=e._dbInfo;r.db.transaction((function(e){J(e,r,"SELECT key FROM "+r.storeName,[],(function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return a(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return a(r=t.name?new o((function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),e(t.storeName?{db:r,storeNames:[t.storeName]}:X(r))})).then((function(t){return new o((function(e,n){t.db.transaction((function(r){function i(t){return new o((function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var s=[],a=0,c=t.storeNames.length;a<c;a++)s.push(i(t.storeNames[a]));o.all(s).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):o.reject("Invalid arguments"),e),r}};function et(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}var nt={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=et(t,this._defaultConfig),!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(e){return!0}}()||localStorage.length>0?(this._dbInfo=e,e.serializer=K,o.resolve()):o.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then((function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,s=localStorage.length,o=1,a=0;a<s;a++){var c=localStorage.key(a);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=e.serializer.deserialize(u)),void 0!==(u=t(u,c.substring(i),o++)))return u}}}));return a(r,e),r},getItem:function(t,e){var n=this;t=u(t);var r=n.ready().then((function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r}));return a(r,e),r},setItem:function(t,e,n){var r=this;t=u(t);var i=r.ready().then((function(){void 0===e&&(e=null);var n=e;return new o((function(i,s){var o=r._dbInfo;o.serializer.serialize(e,(function(e,r){if(r)s(r);else try{localStorage.setItem(o.keyPrefix+t,e),i(n)}catch(a){"QuotaExceededError"!==a.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==a.name||s(a),s(a)}}))}))}));return a(i,n),i},removeItem:function(t,e){var n=this;t=u(t);var r=n.ready().then((function(){localStorage.removeItem(n._dbInfo.keyPrefix+t)}));return a(r,e),r},clear:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}}));return a(n,t),n},length:function(t){var e=this.keys().then((function(t){return t.length}));return a(e,t),e},key:function(t,e){var n=this,r=n.ready().then((function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(i){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e}));return a(r,e),r},keys:function(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var s=localStorage.key(i);0===s.indexOf(t.keyPrefix)&&r.push(s.substring(t.keyPrefix.length))}return r}));return a(n,t),n},dropInstance:function(t,e){if(e=l.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return a(r=t.name?new o((function(e){e(t.storeName?et(t,i._defaultConfig):t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):o.reject("Invalid arguments"),e),r}},rt=function(t,e){for(var n=t.length,r=0;r<n;){if((i=t[r])===(s=e)||"number"==typeof i&&"number"==typeof s&&isNaN(i)&&isNaN(s))return!0;r++}var i,s;return!1},it=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},st={},ot={},at={INDEXEDDB:x,WEBSQL:tt,LOCALSTORAGE:nt},ct=[at.INDEXEDDB._driver,at.WEBSQL._driver,at.LOCALSTORAGE._driver],ut=["dropInstance"],lt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ut),ht={description:"",driver:ct.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ft(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function dt(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(arguments[0][n]=it(e[n])?e[n].slice():e[n])}return arguments[0]}var pt=new(function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),at)if(at.hasOwnProperty(n)){var r=at[n],i=r._driver;this[n]=i,st[i]||this.defineDriver(r)}this._defaultConfig=dt({},ht),this._config=dt({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new o((function(e,n){try{var r=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(i);for(var s=lt.concat("_initStorage"),c=0,u=s.length;c<u;c++){var l=s[c];if((!rt(ut,l)||t[l])&&"function"!=typeof t[l])return void n(i)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=o.reject(e);return a(n,arguments[arguments.length-1]),n}},n=0,r=ut.length;n<r;n++){var i=ut[n];t[i]||(t[i]=e(i))}}();var h=function(n){st[r]&&console.info("Redefining LocalForage driver: "+r),st[r]=t,ot[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(h,n):h(!!t._support):h(!0)}catch(f){n(f)}}));return c(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=st[t]?o.resolve(st[t]):o.reject(new Error("Driver not found."));return c(r,e,n),r},t.prototype.getSerializer=function(t){var e=o.resolve(K);return c(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return c(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;it(t)||(t=[t]);var i=this._getSupportedDrivers(t);function s(){r._config.driver=r.driver()}function a(t){return r._extend(t),s(),r._ready=r._initStorage(r._config),r._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return o.resolve()})):o.resolve();return this._driverSet=u.then((function(){var t=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then((function(t){r._driver=t._driver,s(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var i=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(a).catch(n)}s();var c=new Error("No available storage method found.");return r._driverSet=o.reject(c),r._driverSet}()}}(i)}))})).catch((function(){s();var t=new Error("No available storage method found.");return r._driverSet=o.reject(t),r._driverSet})),c(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!ot[t]},t.prototype._extend=function(t){dt(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=lt.length;t<e;t++)ft(this,lt[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=pt},{3:3}]},{},[4])(4)},oSzE:function(t,e,n){"use strict";var r=n("nLtN"),i=n("3cmB"),s=n("DlmY");function o(t){var e=this.__data__=new r.a(t);this.size=e.size}o.prototype.clear=function(){this.__data__=new r.a,this.size=0},o.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},o.prototype.get=function(t){return this.__data__.get(t)},o.prototype.has=function(t){return this.__data__.has(t)},o.prototype.set=function(t,e){var n=this.__data__;if(n instanceof r.a){var o=n.__data__;if(!i.a||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new s.a(o)}return n.set(t,e),this.size=n.size,this},e.a=o},oYcn:function(t,e,n){"use strict";var r=n("8M4i"),i=n("Js68"),s=n("EUcb"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var a=n("ovuK"),c=n("xutz"),u=c.a&&c.a.isTypedArray,l=u?Object(a.a)(u):function(t){return Object(s.a)(t)&&Object(i.a)(t.length)&&!!o[Object(r.a)(t)]};e.a=l},ofXK:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return At})),n.d(e,"c",(function(){return Lt})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return xt})),n.d(e,"f",(function(){return kt})),n.d(e,"g",(function(){return A})),n.d(e,"h",(function(){return k})),n.d(e,"i",(function(){return S})),n.d(e,"j",(function(){return h})),n.d(e,"k",(function(){return E})),n.d(e,"l",(function(){return v})),n.d(e,"m",(function(){return ht})),n.d(e,"n",(function(){return dt})),n.d(e,"o",(function(){return gt})),n.d(e,"p",(function(){return wt})),n.d(e,"q",(function(){return yt})),n.d(e,"r",(function(){return _t})),n.d(e,"s",(function(){return St})),n.d(e,"t",(function(){return w})),n.d(e,"u",(function(){return u})),n.d(e,"v",(function(){return x})),n.d(e,"w",(function(){return Nt})),n.d(e,"x",(function(){return N})),n.d(e,"y",(function(){return j})),n.d(e,"z",(function(){return R})),n.d(e,"A",(function(){return D})),n.d(e,"B",(function(){return Dt})),n.d(e,"C",(function(){return Rt})),n.d(e,"D",(function(){return a})),n.d(e,"E",(function(){return jt})),n.d(e,"F",(function(){return s})),n.d(e,"G",(function(){return lt})),n.d(e,"H",(function(){return o}));var r=n("fXoL");let i=null;function s(){return i}function o(t){i||(i=t)}class a{}const c=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.Vb)(f)}const h=new r.q("Location Initialized");let f=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(c))},t.\u0275prov=Object(r.Hb)({factory:p,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function p(){return new f(Object(r.Vb)(c))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function b(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Vb)(c).location;return new w(Object(r.Vb)(u),e&&e.origin||"")}const _=new r.q("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(u),r.Vb(_,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(u),r.Vb(_,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=b(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(v),r.Vb(u))},t.normalizeQueryParams=m,t.joinWithSlash=g,t.stripTrailingSlash=b,t.\u0275prov=Object(r.Hb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new E(Object(r.Vb)(v),Object(r.Vb)(u))}function O(t){return t.replace(/\/index.html$/,"")}var I=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),A=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),x=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),k=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),L=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function j(t,e,n){const i=Object(r.jb)(t),s=z([i[r.ab.DaysFormat],i[r.ab.DaysStandalone]],e);return z(s,n)}function D(t,e,n){const i=Object(r.jb)(t),s=z([i[r.ab.MonthsFormat],i[r.ab.MonthsStandalone]],e);return z(s,n)}function R(t){return Object(r.jb)(t)[r.ab.FirstDayOfWeek]}function N(t,e){return z(Object(r.jb)(t)[r.ab.DateFormat],e)}function P(t,e){return z(Object(r.jb)(t)[r.ab.TimeFormat],e)}function V(t,e){return z(Object(r.jb)(t)[r.ab.DateTimeFormat],e)}function F(t,e){const n=Object(r.jb)(t),i=n[r.ab.NumberSymbols][e];if(void 0===i){if(e===L.CurrencyDecimal)return n[r.ab.NumberSymbols][L.Decimal];if(e===L.CurrencyGroup)return n[r.ab.NumberSymbols][L.Group]}return i}const M=r.mb;function B(t){if(!t[r.ab.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.ab.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function z(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function U(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const H=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,G={},q=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Q=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),W=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),$=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function K(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Z(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function J(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case W.FullYear:return e.getFullYear();case W.Month:return e.getMonth();case W.Date:return e.getDate();case W.Hours:return e.getHours();case W.Minutes:return e.getMinutes();case W.Seconds:return e.getSeconds();case W.FractionalSeconds:return e.getMilliseconds();case W.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===W.Hours)0===a&&-12===n&&(a=12);else if(t===W.FractionalSeconds)return c=e,Z(a,3).substr(0,c);var c;const u=F(o,L.MinusSign);return Z(a,e,u,r,i)}}function Y(t,e,n=A.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case $.Months:return D(e,s,i)[t.getMonth()];case $.Days:return j(e,s,i)[t.getDay()];case $.DayPeriods:const a=t.getHours(),c=t.getMinutes();if(o){const t=function(t){const e=Object(r.jb)(t);return B(e),(e[r.ab.ExtraData][2]||[]).map(t=>"string"==typeof t?U(t):[U(t[0]),U(t[1])])}(e),n=function(t,e,n){const i=Object(r.jb)(t);B(i);const s=z([i[r.ab.ExtraData][0],i[r.ab.ExtraData][1]],e)||[];return z(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&c>=e.minutes,i=a<n.hours||a===n.hours&&c<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===c)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.jb)(t),s=z([i[r.ab.DayPeriodsFormat],i[r.ab.DayPeriodsStandalone]],e);return z(s,n)}(e,s,i)[a<12?0:1];case $.Eras:return function(t,e){return z(Object(r.jb)(t)[r.ab.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(s,o,t,e,n,i)}}function X(t){return function(e,n,r){const i=-1*r,s=F(n,L.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Q.Short:return(i>=0?"+":"")+Z(o,2,s)+Z(Math.abs(i%60),2,s);case Q.ShortGMT:return"GMT"+(i>=0?"+":"")+Z(o,1,s);case Q.Long:return"GMT"+(i>=0?"+":"")+Z(o,2,s)+":"+Z(Math.abs(i%60),2,s);case Q.Extended:return 0===r?"Z":(i>=0?"+":"")+Z(o,2,s)+":"+Z(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function tt(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(4-s.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var s;return Z(i,t,F(r,L.MinusSign))}}const et={};function nt(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function rt(t){return t instanceof Date&&!isNaN(t.valueOf())}const it=/^(\d+)?\.((\d+)(-(\d+))?)?$/,st=".",ot="0";function at(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class ct{}let ut=(()=>{class t extends ct{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(M(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.u))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function lt(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let ht=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.ub)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.s),r.Lb(r.t),r.Lb(r.l),r.Lb(r.E))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class ft{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let dt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.V)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ft(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new pt(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new pt(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L),r.Lb(r.s))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class pt{constructor(t,e){this.record=t,this.view=e}}let gt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){mt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){mt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class bt{constructor(){this.$implicit=null,this.ngIf=null}}function mt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.ub)(e)}'.`)}class vt{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let yt=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Gb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),_t=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new vt(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L),r.Lb(yt,1))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),wt=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.l),r.Lb(r.t),r.Lb(r.E))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),St=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.xb]}),t})();function Et(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.ub)(t)}'`)}class Ct{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Ot{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const It=new Ot,Tt=new Ct;let At=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.rb)(e))return It;if(Object(r.qb)(e))return Tt;throw Et(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Xb())},t.\u0275pipe=r.Kb({name:"async",type:t,pure:!1}),t})(),xt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,s){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,i){let s=function(t){if(rt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(H))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,c,u),e}(n)}const e=new Date(t);if(!rt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.jb)(t)[r.ab.LocaleId]}(e);if(G[i]=G[i]||{},G[i][n])return G[i][n];let s="";switch(n){case"shortDate":s=N(e,k.Short);break;case"mediumDate":s=N(e,k.Medium);break;case"longDate":s=N(e,k.Long);break;case"fullDate":s=N(e,k.Full);break;case"shortTime":s=P(e,k.Short);break;case"mediumTime":s=P(e,k.Medium);break;case"longTime":s=P(e,k.Long);break;case"fullTime":s=P(e,k.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");s=K(V(e,k.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),o=t(e,"mediumDate");s=K(V(e,k.Medium),[i,o]);break;case"long":const a=t(e,"longTime"),c=t(e,"longDate");s=K(V(e,k.Long),[a,c]);break;case"full":const u=t(e,"fullTime"),l=t(e,"fullDate");s=K(V(e,k.Full),[u,l])}return s&&(G[i][n]=s),s}(n,e)||e;let o,a=[];for(;e;){if(o=q.exec(e),!o){a.push(e);break}{a=a.concat(o.slice(1));const t=a.pop();if(!t)break;e=t}}let c=s.getTimezoneOffset();i&&(c=nt(i,c),s=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(nt(e,r)-r))}(s,i));let u="";return a.forEach(t=>{const e=function(t){if(et[t])return et[t];let e;switch(t){case"G":case"GG":case"GGG":e=Y($.Eras,x.Abbreviated);break;case"GGGG":e=Y($.Eras,x.Wide);break;case"GGGGG":e=Y($.Eras,x.Narrow);break;case"y":e=J(W.FullYear,1,0,!1,!0);break;case"yy":e=J(W.FullYear,2,0,!0,!0);break;case"yyy":e=J(W.FullYear,3,0,!1,!0);break;case"yyyy":e=J(W.FullYear,4,0,!1,!0);break;case"M":case"L":e=J(W.Month,1,1);break;case"MM":case"LL":e=J(W.Month,2,1);break;case"MMM":e=Y($.Months,x.Abbreviated);break;case"MMMM":e=Y($.Months,x.Wide);break;case"MMMMM":e=Y($.Months,x.Narrow);break;case"LLL":e=Y($.Months,x.Abbreviated,A.Standalone);break;case"LLLL":e=Y($.Months,x.Wide,A.Standalone);break;case"LLLLL":e=Y($.Months,x.Narrow,A.Standalone);break;case"w":e=tt(1);break;case"ww":e=tt(2);break;case"W":e=tt(1,!0);break;case"d":e=J(W.Date,1);break;case"dd":e=J(W.Date,2);break;case"E":case"EE":case"EEE":e=Y($.Days,x.Abbreviated);break;case"EEEE":e=Y($.Days,x.Wide);break;case"EEEEE":e=Y($.Days,x.Narrow);break;case"EEEEEE":e=Y($.Days,x.Short);break;case"a":case"aa":case"aaa":e=Y($.DayPeriods,x.Abbreviated);break;case"aaaa":e=Y($.DayPeriods,x.Wide);break;case"aaaaa":e=Y($.DayPeriods,x.Narrow);break;case"b":case"bb":case"bbb":e=Y($.DayPeriods,x.Abbreviated,A.Standalone,!0);break;case"bbbb":e=Y($.DayPeriods,x.Wide,A.Standalone,!0);break;case"bbbbb":e=Y($.DayPeriods,x.Narrow,A.Standalone,!0);break;case"B":case"BB":case"BBB":e=Y($.DayPeriods,x.Abbreviated,A.Format,!0);break;case"BBBB":e=Y($.DayPeriods,x.Wide,A.Format,!0);break;case"BBBBB":e=Y($.DayPeriods,x.Narrow,A.Format,!0);break;case"h":e=J(W.Hours,1,-12);break;case"hh":e=J(W.Hours,2,-12);break;case"H":e=J(W.Hours,1);break;case"HH":e=J(W.Hours,2);break;case"m":e=J(W.Minutes,1);break;case"mm":e=J(W.Minutes,2);break;case"s":e=J(W.Seconds,1);break;case"ss":e=J(W.Seconds,2);break;case"S":e=J(W.FractionalSeconds,1);break;case"SS":e=J(W.FractionalSeconds,2);break;case"SSS":e=J(W.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=X(Q.Short);break;case"ZZZZZ":e=X(Q.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=X(Q.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=X(Q.Long);break;default:return null}return et[t]=e,e}(t);u+=e?e(s,n,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(e,n,s||this.locale,i)}catch(o){throw Et(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.u))},t.\u0275pipe=r.Kb({name:"date",type:t,pure:!0}),t})(),kt=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(function(t){return null==t||""===t||t!=t}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,s,o=!1){let a="",c=!1;if(isFinite(t)){let u=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf(st))>-1&&(o=o.replace(st,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===ot;r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;o.charAt(s)===ot;)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(u=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(s){const t=s.match(it);if(null===t)throw new Error(s+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=at(e)),null!=n&&(h=at(n)),null!=r?f=at(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const u=e+t.integerLen,l=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,c&&(0===r[n]&&n>=u?r.pop():c=!1),e>=10?1:0}),0);l&&(r.unshift(l),t.integerLen++)}(u,h,f);let d=u.digits,p=u.integerLen;const g=u.exponent;let b=[];for(c=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?b=d.splice(p,d.length):(b=d,d=[0]);const m=[];for(d.length>=e.lgSize&&m.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)m.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&m.unshift(d.join("")),a=m.join(F(n,r)),b.length&&(a+=F(n,i)+b.join("")),g&&(a+=F(n,L.Exponential)+"+"+g)}else a=F(n,L.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(st)?i.split(st):[i.substring(0,i.lastIndexOf(ot)+1),i.substring(i.lastIndexOf(ot)+1)],a=o[0],c=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<c.length;l++){const t=c.charAt(l);t===ot?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const u=a.split(",");if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.jb)(t)[r.ab.NumberFormats][e]}(e,I.Decimal),F(e,L.MinusSign)),e,L.Group,L.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),i,n)}catch(s){throw Et(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.u))},t.\u0275pipe=r.Kb({name:"number",type:t,pure:!0}),t})(),Lt=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[{provide:ct,useClass:ut}]}),t})();const jt="browser";function Dt(t){return t===jt}function Rt(t){return"server"===t}let Nt=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new Pt(Object(r.Vb)(c),window,Object(r.Vb)(r.m))}),t})();class Pt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=Vt(this.window.history)||Vt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function Vt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},ovuK:function(t,e,n){"use strict";e.a=function(t){return function(e){return t(e)}}},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new u(t,e))}}class u{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},pyRK:function(t,e,n){"use strict";var r=Object.prototype;e.a=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(l){e=l instanceof o?c(l.errors):[l]}if(Object(r.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof o?e=e.concat(c(l.errors)):e.push(l)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},rGdz:function(t,e,n){"use strict";n.d(e,"a",(function(){return rt}));var r=n("mrSG"),i=n("2Vo4"),s=n("oAJy"),o=n("oSzE"),a=n("Y7yP"),c=function(){try{var t=Object(a.a)(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),u=function(t,e,n){"__proto__"==e&&c?c(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},l=n("YHEm"),h=Object.prototype.hasOwnProperty,f=function(t,e,n){var r=t[e];h.call(t,e)&&Object(l.a)(r,n)&&(void 0!==n||e in t)||u(t,e,n)},d=function(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],c=r?r(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?u(n,a,c):f(n,a,c)}return n},p=n("mkut"),g=n("7gMY"),b=n("IzLi"),m=n("pyRK"),v=Object.prototype.hasOwnProperty,y=n("5WsY"),_=function(t){return Object(y.a)(t)?Object(g.a)(t,!0):function(t){if(!Object(b.a)(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Object(m.a)(t),n=[];for(var r in t)("constructor"!=r||!e&&v.call(t,r))&&n.push(r);return n}(t)},w=n("3/ER"),S=n("jN84"),E=n("tPH9"),C=n("U6JX"),O=Object(C.a)(Object.getPrototypeOf,Object),I=n("WJ6P"),T=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Object(E.a)(e,Object(S.a)(t)),t=O(t);return e}:I.a,A=n("TFwu"),x=n("25cm"),k=function(t){return Object(x.a)(t,_,T)},L=n("YM6B"),j=Object.prototype.hasOwnProperty,D=n("Ce4a"),R=function(t){var e=new t.constructor(t.byteLength);return new D.a(e).set(new D.a(t)),e},N=/\w*$/,P=n("ylTp"),V=P.a?P.a.prototype:void 0,F=V?V.valueOf:void 0,M=Object.create,B=function(){function t(){}return function(e){if(!Object(b.a)(e))return{};if(M)return M(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),z=n("/1FC"),U=n("WOAq"),H=n("EUcb"),G=n("ovuK"),q=n("xutz"),Q=q.a&&q.a.isMap,W=Q?Object(G.a)(Q):function(t){return Object(H.a)(t)&&"[object Map]"==Object(L.a)(t)},$=q.a&&q.a.isSet,K=$?Object(G.a)($):function(t){return Object(H.a)(t)&&"[object Set]"==Object(L.a)(t)},Z="[object Arguments]",J="[object Function]",Y="[object Object]",X={};X[Z]=X["[object Array]"]=X["[object ArrayBuffer]"]=X["[object DataView]"]=X["[object Boolean]"]=X["[object Date]"]=X["[object Float32Array]"]=X["[object Float64Array]"]=X["[object Int8Array]"]=X["[object Int16Array]"]=X["[object Int32Array]"]=X["[object Map]"]=X["[object Number]"]=X[Y]=X["[object RegExp]"]=X["[object Set]"]=X["[object String]"]=X["[object Symbol]"]=X["[object Uint8Array]"]=X["[object Uint8ClampedArray]"]=X["[object Uint16Array]"]=X["[object Uint32Array]"]=!0,X["[object Error]"]=X[J]=X["[object WeakMap]"]=!1;var tt=function t(e,n,r,i,s,a){var c,u=1&n,l=2&n,h=4&n;if(r&&(c=s?r(e,i,s,a):r(e)),void 0!==c)return c;if(!Object(b.a)(e))return e;var g=Object(z.a)(e);if(g){if(c=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&j.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!u)return function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(e,c)}else{var v=Object(L.a)(e),y=v==J||"[object GeneratorFunction]"==v;if(Object(U.a)(e))return Object(w.a)(e,u);if(v==Y||v==Z||y&&!s){if(c=l||y?{}:function(t){return"function"!=typeof t.constructor||Object(m.a)(t)?{}:B(O(t))}(e),!u)return l?function(t,e){return d(t,T(t),e)}(e,function(t,e){return t&&d(e,_(e),t)}(c,e)):function(t,e){return d(t,Object(S.a)(t),e)}(e,function(t,e){return t&&d(e,Object(p.a)(e),t)}(c,e))}else{if(!X[v])return s?e:{};c=function(t,e,n){var r,i,s=t.constructor;switch(e){case"[object ArrayBuffer]":return R(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return function(t,e){var n=e?R(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?R(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return(i=new(r=t).constructor(r.source,N.exec(r))).lastIndex=r.lastIndex,i;case"[object Set]":return new s;case"[object Symbol]":return F?Object(F.call(t)):{}}}(e,v,u)}}a||(a=new o.a);var E=a.get(e);if(E)return E;a.set(e,c),K(e)?e.forEach((function(i){c.add(t(i,n,r,i,e,a))})):W(e)&&e.forEach((function(i,s){c.set(s,t(i,n,r,s,e,a))}));var C=g?void 0:(h?l?k:A.a:l?_:p.a)(e);return function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n););}(C||e,(function(i,s){C&&(i=e[s=i]),f(c,s,t(i,n,r,s,e,a))})),c},et=function(t){return tt(t,5)},nt=n("fXoL");let rt=(()=>{class t{constructor(){this.historyCache=[],this.history=new i.a(this.historyCache),this.enabled=new i.a(!1)}init(){this.enabled.next(!0),this.loadAllFromStorage()}storeQuery(t,e){if(!this.enabled.getValue())return Promise.resolve();const n={date:new Date,body:{content:t,type:"sql"}};return e&&(n.result=e),this.historyCache.unshift(et(n)),this.history.next(this.historyCache),this.saveAllToStorage()}deleteHistory(t=0){return s.removeItem("queryHistory").then(()=>Object(r.a)(this,void 0,void 0,(function*(){if(t>0){const e=et(this.historyCache.sort((t,e)=>+t.date-+e.date).slice(0,t));yield s.setItem("queryHistory",e)}}))).then(()=>{this.loadAllFromStorage().then(()=>Promise.resolve())})}saveAllToStorage(){return this.enabled.getValue()?s.setItem("queryHistory",this.historyCache).then(()=>Promise.resolve()):Promise.resolve()}loadAllFromStorage(){return s.getItem("queryHistory").then(t=>{this.historyCache=t||[],this.history.next(this.historyCache)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=nt.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},sVev:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return A})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return v})),n.d(e,"g",(function(){return I})),n.d(e,"h",(function(){return E})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return m})),n.d(e,"k",(function(){return C}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Wcq6"),l=n.n(u);function h(){}class f{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",h,{},h,h)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class p{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new f(Zone.current)),this.insideAngular=t.run(()=>new f(Zone.current,i.a))}}function g(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const b=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(b.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new c.q("angularfire2.app.options"),_=new c.q("angularfire2.app.nameOrConfig");class w{}const S=new c.P("6.1.4");function E(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=l.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>l.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&O("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const C=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(c.V)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:w,useFactory:E,deps:[y,c.z,[new c.A,_]]};let A=(()=>{class t{constructor(t){l.a.registerVersion("angularfire",S.full,t.toString()),l.a.registerVersion("angular",c.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)(c.Vb(c.B))},providers:[T]}),t})()}).call(this,n("3UD+")(t))},tPH9:function(t,e,n){"use strict";e.a=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const c={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var u=n("3N8a");class l extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=c.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(c.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function b(t,e=0){return function(n){return n.lift(new m(t,e))}}class m{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},"tk/3":function(t,e,n){"use strict";n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return z}));var r=n("fXoL"),i=n("LRne"),s=n("HDdC"),o=n("bOdf"),a=n("pLZG"),c=n("lJxs"),u=n("ofXK");class l{}class h{}class f{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof f?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new f;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof f?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class d{encodeKey(t){return p(t)}encodeValue(t){return p(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function p(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class g{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new d,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new g({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function b(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function m(t){return"undefined"!=typeof Blob&&t instanceof Blob}function v(t){return"undefined"!=typeof FormData&&t instanceof FormData}class y{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new f),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new g,this.urlWithParams=e}serializeBody(){return null===this.body?null:b(this.body)||m(this.body)||v(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||v(this.body)?null:m(this.body)?this.body.type||null:b(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new y(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var _=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class w{constructor(t,e=200,n="OK"){this.headers=t.headers||new f,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class S extends w{constructor(t={}){super(t),this.type=_.ResponseHeader}clone(t={}){return new S({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class E extends w{constructor(t={}){super(t),this.type=_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new E({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class C extends w{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function O(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let I=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof y)r=t;else{let i=void 0;i=n.headers instanceof f?n.headers:new f(n.headers);let s=void 0;n.params&&(s=n.params instanceof g?n.params:new g({fromObject:n.params})),r=new y(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=Object(i.a)(r).pipe(Object(o.a)(t=>this.handler.handle(t)));if(t instanceof y||"events"===n.observe)return s;const u=s.pipe(Object(a.a)(t=>t instanceof E));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return u.pipe(Object(c.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(c.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(c.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(c.a)(t=>t.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new g).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,O(n,e))}post(t,e,n={}){return this.request("POST",t,O(n,e))}put(t,e,n={}){return this.request("PUT",t,O(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(l))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class T{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const A=new r.q("HTTP_INTERCEPTORS");let x=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const k=/^\)\]\}',?\n/;class L{}let j=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),D=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new s.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new f(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new S({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(k,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new E({body:c,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new C({error:c,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new C({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const u=r=>{c||(e.next(s()),c=!0);let i={type:_.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:_.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(L))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const R=new r.q("XSRF_COOKIE_NAME"),N=new r.q("XSRF_HEADER_NAME");class P{}let V=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(u.G)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(u.d),r.Vb(r.B),r.Vb(R))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(P),r.Vb(N))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),M=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(A,[]);this.chain=t.reduceRight((t,e)=>new T(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(h),r.Vb(r.r))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),B=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:F,useClass:x}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:R,useValue:e.cookieName}:[],e.headerName?{provide:N,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[F,{provide:A,useExisting:F,multi:!0},{provide:P,useClass:V},{provide:R,useValue:"XSRF-TOKEN"},{provide:N,useValue:"X-XSRF-TOKEN"}]}),t})(),z=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[I,{provide:l,useClass:M},D,{provide:h,useExisting:D},j,{provide:L,useExisting:j}],imports:[[B.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})()},tyNb:function(t,e,n){"use strict";n.d(e,"a",(function(){return Wt})),n.d(e,"b",(function(){return ot})),n.d(e,"c",(function(){return un})),n.d(e,"d",(function(){return ln})),n.d(e,"e",(function(){return dn})),n.d(e,"f",(function(){return hn})),n.d(e,"g",(function(){return Cn})),n.d(e,"h",(function(){return pn})),n.d(e,"i",(function(){return Ke}));var r=n("ofXK"),i=n("fXoL"),s=n("LRne"),o=n("Cfvw"),a=n("2Vo4"),c=n("HDdC"),u=n("sVev"),l=n("itXk"),h=n("EY2u");function f(t){return new c.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(o.a)(n):Object(h.b)()).subscribe(e)})}var d=n("XNiG"),p=n("lJxs"),g=n("0EUg"),b=n("pLZG"),m=n("7o/Q"),v=n("4I5i");function y(t){return function(e){return 0===t?Object(h.b)():e.lift(new _(t))}}class _{constructor(t){if(this.total=t,this.total<0)throw new v.a}call(t,e){return e.subscribe(new w(t,this.total))}}class w extends m.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var S=n("XDbj"),E=n("xbPD"),C=n("SpAZ"),O=n("l7GE"),I=n("51Dv"),T=n("ZUHj");function A(t){return function(e){const n=new x(t),r=e.lift(n);return n.caught=r}}class x{constructor(t){this.selector=t}call(t,e){return e.subscribe(new k(t,this.selector,this.caught))}}class k extends O.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new I.a(this,void 0,void 0);this.add(r);const i=Object(T.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}var L=n("SxV6"),j=n("5+tZ"),D=n("vkgz");class R{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new N(t,this.predicate,this.thisArg,this.source))}}class N extends m.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var P=n("eIep"),V=n("IzEk"),F=n("JX91"),M=n("Kqap"),B=n("bOdf"),z=n("quSY");class U{constructor(t){this.callback=t}call(t,e){return e.subscribe(new H(t,this.callback))}}class H extends m.a{constructor(t,e){super(t),this.add(new z.a(e))}}var G=n("bHdf");class q{constructor(t,e){this.id=t,this.url=e}}class Q extends q{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class W extends q{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $ extends q{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class K extends q{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Z extends q{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J extends q{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Y extends q{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class X extends q{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tt extends q{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class et{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nt{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rt{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class it{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class st{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ot{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class at{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ct="primary";class ut{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function lt(t){return new ut(t)}function ht(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function ft(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dt(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!pt(t[i],e[i]))return!1;return!0}function pt(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function gt(t){return Array.prototype.concat.apply([],t)}function bt(t){return t.length>0?t[t.length-1]:null}function mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function vt(t){return Object(i.qb)(t)?t:Object(i.rb)(t)?Object(o.a)(Promise.resolve(t)):Object(s.a)(t)}function yt(t,e,n){return n?function(t,e){return dt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Et(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>pt(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Et(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Et(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Et(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class _t{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}toString(){return Tt.serialize(this)}}class wt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,mt(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return At(this)}}class St{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=lt(this.parameters)),this._parameterMap}toString(){return Rt(this)}}function Et(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Ct(t,e){let n=[];return mt(t.children,(t,r)=>{r===ct&&(n=n.concat(e(t,r)))}),mt(t.children,(t,r)=>{r!==ct&&(n=n.concat(e(t,r)))}),n}class Ot{}class It{parse(t){const e=new Mt(t);return new _t(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return At(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return mt(e.children,(e,n)=>{n!==ct&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Ct(e,(n,r)=>r===ct?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${At(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${kt(e)}=${kt(t)}`).join("&"):`${kt(e)}=${kt(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Tt=new It;function At(t){return t.segments.map(t=>Rt(t)).join("/")}function xt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kt(t){return xt(t).replace(/%3B/gi,";")}function Lt(t){return xt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jt(t){return decodeURIComponent(t)}function Dt(t){return jt(t.replace(/\+/g,"%20"))}function Rt(t){return`${Lt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Lt(t)}=${Lt(e[t])}`).join("")}`;var e}const Nt=/^[^\/()?;=#]+/;function Pt(t){const e=t.match(Nt);return e?e[0]:""}const Vt=/^[^=?&#]+/,Ft=/^[^?&#]+/;class Mt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wt([],{}):new wt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new wt(t,e)),n}parseSegment(){const t=Pt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new St(jt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Pt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Pt(this.remaining);t&&(n=t,this.capture(n))}t[jt(e)]=jt(n)}parseQueryParam(t){const e=function(t){const e=t.match(Vt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ft);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Dt(e),i=Dt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Pt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=ct);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new wt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Bt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=zt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ut(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ut(t,this._root).map(t=>t.value)}}function zt(t,e){if(t===e.value)return e;for(const n of e.children){const e=zt(t,n);if(e)return e}return null}function Ut(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ut(t,n);if(r.length)return r.unshift(e),r}return[]}class Ht{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Gt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class qt extends Bt{constructor(t,e){super(t),this.snapshot=e,Jt(this,t)}toString(){return this.snapshot.toString()}}function Qt(t,e){const n=function(t,e){const n=new Kt([],{},{},"",{},ct,e,null,t.root,-1,{});return new Zt("",new Ht(n,[]))}(t,e),r=new a.a([new St("",{})]),i=new a.a({}),s=new a.a({}),o=new a.a({}),c=new a.a(""),u=new Wt(r,i,o,c,s,ct,e,n.root);return u.snapshot=n.root,new qt(new Ht(u,[]),n)}class Wt{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(p.a)(t=>lt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(p.a)(t=>lt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $t(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Kt{constructor(t,e,n,r,i,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Zt extends Bt{constructor(t,e){super(e),this.url=t,Jt(this,e)}toString(){return Yt(this._root)}}function Jt(t,e){e.value._routerState=t,e.children.forEach(e=>Jt(t,e))}function Yt(t){const e=t.children.length>0?` { ${t.children.map(Yt).join(", ")} } `:"";return`${t.value}${e}`}function Xt(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),dt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),dt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function te(t,e){var n,r;return dt(t.params,e.params)&&Et(n=t.url,r=e.url)&&n.every((t,e)=>dt(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||te(t.parent,e.parent))}function ee(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ne(t,e,n,r,i){let s={};return r&&mt(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new _t(n.root===t?e:function t(e,n,r){const i={};return mt(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new wt(e.segments,i)}(n.root,t,e),s,i)}class re{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ee(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==bt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ie{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function se(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function oe(t,e,n){if(t||(t=new wt([],{})),0===t.segments.length&&t.hasChildren())return ae(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=se(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!he(o,a,e))return s;r+=2}else{if(!he(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new wt(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new wt(t.segments.slice(r.pathIndex),t.children),ae(e,0,i)}return r.match&&0===i.length?new wt(t.segments,{}):r.match&&!t.hasChildren()?ce(t,e,n):r.match?ae(t,0,i):ce(t,e,n)}function ae(t,e,n){if(0===n.length)return new wt(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{[ct]:t}}(n),i={};return mt(r,(n,r)=>{null!==n&&(i[r]=oe(t.children[r],e,n))}),mt(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new wt(t.segments,i)}}function ce(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=ue(n[i].outlets);return new wt(r,t)}if(0===i&&ee(n[0])){r.push(new St(t.segments[e].path,n[0])),i++;continue}const s=se(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&ee(o)?(r.push(new St(s,le(o))),i+=2):(r.push(new St(s,{})),i++)}return new wt(r,{})}function ue(t){const e={};return mt(t,(t,n)=>{null!==t&&(e[n]=ce(new wt([],{}),0,t))}),e}function le(t){const e={};return mt(t,(t,n)=>e[n]=""+t),e}function he(t,e,n){return t==n.path&&dt(e,n.parameters)}class fe{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Xt(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Gt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),mt(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Gt(t),i=t.value.component?n.children:e;mt(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Gt(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ot(t.value.snapshot))}),t.children.length&&this.forwardEvent(new it(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Xt(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),de(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function de(t){Xt(t.value),t.children.forEach(de)}class pe{constructor(t,e){this.routes=t,this.module=e}}function ge(t){return"function"==typeof t}function be(t){return t instanceof _t}class me{constructor(t){this.segmentGroup=t||null}}class ve{constructor(t){this.urlTree=t}}function ye(t){return new c.a(e=>e.error(new me(t)))}function _e(t){return new c.a(e=>e.error(new ve(t)))}function we(t){return new c.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Se{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,ct).pipe(Object(p.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(A(t=>{if(t instanceof ve)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof me)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ct).pipe(Object(p.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(A(t=>{if(t instanceof me)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new wt([],{[ct]:t}):t;return new _t(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(p.a)(t=>new wt([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(s.a)({});const n=[],r=[],i={};return mt(t,(t,s)=>{const o=e(s,t).pipe(Object(p.a)(t=>i[s]=t));s===ct?n.push(o):r.push(o)}),s.a.apply(null,n.concat(r)).pipe(Object(g.a)(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(b.a)((e,n)=>t(e,n,r)):C.a,y(1),n?Object(E.a)(e):Object(S.a)(()=>new u.a))}(),Object(p.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(s.a)(...n).pipe(Object(p.a)(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(A(t=>{if(t instanceof me)return Object(s.a)(null);throw t}))),Object(g.a)(),Object(L.a)(t=>!!t),A((t,n)=>{if(t instanceof u.a||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(s.a)(new wt([],{}));throw new me(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Ie(r)!==s?ye(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):ye(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?_e(i):this.lineralizeSegments(n,i).pipe(Object(j.a)(n=>{const i=new wt(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Ee(e,r,i);if(!o)return ye(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?_e(l):this.lineralizeSegments(r,l).pipe(Object(j.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(p.a)(t=>(n._loadedConfig=t,new wt(r,{})))):Object(s.a)(new wt(r,{}));const{matched:i,consumedSegments:o,lastChild:a}=Ee(e,n,r);if(!i)return ye(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(j.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:a}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Oe(t,e,n)&&Ie(n)!==ct)}(t,n,r)?{segmentGroup:Ce(new wt(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&Ie(r)!==ct&&(n[Ie(r)]=new wt([],{}));return n}(r,new wt(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Oe(t,e,n))}(t,n,r)?{segmentGroup:Ce(new wt(t.segments,function(t,e,n,r){const i={};for(const s of n)Oe(t,e,s)&&!r[Ie(s)]&&(i[Ie(s)]=new wt([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,c,r);return 0===a.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(p.a)(t=>new wt(o,t))):0===r.length&&0===a.length?Object(s.a)(new wt(o,{})):this.expandSegment(n,i,r,a,ct,!0).pipe(Object(p.a)(t=>new wt(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(s.a)(new pe(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(s.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(j.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(p.a)(t=>(e._loadedConfig=t,t))):function(t){return new c.a(e=>e.error(ht(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(s.a)(new pe([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(o.a)(r).pipe(Object(p.a)(r=>{const i=t.get(r);let s;if(function(t){return t&&ge(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!ge(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return vt(s)})).pipe(Object(g.a)(),Object(D.a)(t=>{if(!be(t))return;const e=ht(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new R(i,void 0,t)))):Object(s.a)(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(s.a)(n);if(r.numberOfChildren>1||!r.children.primary)return we(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new _t(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return mt(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return mt(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new wt(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ee(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||ft)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ce(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new wt(t.segments.concat(e.segments),e.children)}return t}function Oe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ie(t){return t.outlet||ct}class Te{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ae{constructor(t,e){this.component=t,this.route=e}}function xe(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Gt(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Et(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Et(t.url,e.url)||!dt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!te(t,e)||!dt(t.queryParams,e.queryParams);case"paramsChange":default:return!te(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new Te(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?c?c.children:null:r,i,s),u&&s.canDeactivateChecks.push(new Ae(c&&c.outlet&&c.outlet.component||null,a))}else a&&Le(n,c,s),s.canActivateChecks.push(new Te(i)),t(e,null,o.component?c?c.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),mt(o,(t,e)=>Le(t,r.getContext(e),s)),s}(r,e?e._root:null,n,[r.value])}function ke(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Le(t,e,n){const r=Gt(t),i=t.value;mt(r,(t,r)=>{Le(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ae(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const je=Symbol("INITIAL_VALUE");function De(){return Object(P.a)(t=>Object(l.a)(...t.map(t=>t.pipe(Object(V.a)(1),Object(F.a)(je)))).pipe(Object(M.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==je)return t;if(r===je&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||be(r))return r}return t},t)},je),Object(b.a)(t=>t!==je),Object(p.a)(t=>be(t)?t:!0===t),Object(V.a)(1)))}function Re(t,e){return null!==t&&e&&e(new st(t)),Object(s.a)(!0)}function Ne(t,e){return null!==t&&e&&e(new rt(t)),Object(s.a)(!0)}function Pe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(s.a)(!0);const i=r.map(r=>f(()=>{const i=ke(r,e,n);let s;if(function(t){return t&&ge(t.canActivate)}(i))s=vt(i.canActivate(e,t));else{if(!ge(i))throw new Error("Invalid CanActivate guard");s=vt(i(e,t))}return s.pipe(Object(L.a)())}));return Object(s.a)(i).pipe(De())}function Ve(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>f(()=>{const i=e.guards.map(i=>{const s=ke(i,e.node,n);let o;if(function(t){return t&&ge(t.canActivateChild)}(s))o=vt(s.canActivateChild(r,t));else{if(!ge(s))throw new Error("Invalid CanActivateChild guard");o=vt(s(r,t))}return o.pipe(Object(L.a)())});return Object(s.a)(i).pipe(De())}));return Object(s.a)(i).pipe(De())}class Fe{}class Me{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=Ue(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ct),n=new Kt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ct,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ht(n,e),i=new Zt(this.url,r);return this.inheritParamsAndData(i._root),Object(s.a)(i)}catch(t){return new c.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=$t(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Ct(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===ct?-1:e.value.outlet===ct?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof Fe))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Fe}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Fe;if((t.outlet||ct)!==r)throw new Fe;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?bt(n).parameters:{};i=new Kt(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qe(t),r,t.component,t,Be(e),ze(e)+n.length,Qe(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Fe;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||ft)(n,t,e);if(!r)throw new Fe;const i={};mt(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new Kt(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qe(t),r,t.component,t,Be(e),ze(e)+s.length,Qe(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Ue(e,s,o,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new Ht(i,t)]}if(0===a.length&&0===u.length)return[new Ht(i,[])];const l=this.processSegment(a,c,u,ct);return[new Ht(i,l)]}}function Be(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ze(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ue(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>He(t,e,n)&&Ge(n)!==ct)}(t,n,r)){const i=new wt(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Ge(s)!==ct){const n=new wt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Ge(s)]=n}return i}(t,e,r,new wt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>He(t,e,n))}(t,n,r)){const s=new wt(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(He(t,n,a)&&!i[Ge(a)]){const n=new wt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Ge(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new wt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function He(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Ge(t){return t.outlet||ct}function qe(t){return t.data||{}}function Qe(t){return t.resolve||{}}function We(t){return function(e){return e.pipe(Object(P.a)(e=>{const n=t(e);return n?Object(o.a)(n).pipe(Object(p.a)(()=>e)):Object(o.a)([e])}))}}class $e{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Ke=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Mb(0,"router-outlet")},directives:function(){return[pn]},encapsulation:2}),t})();function Ze(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Je(r,Ye(e,r))}}function Je(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==ct)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Ze(t.children,e)}function Ye(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Xe(t){const e=t.children&&t.children.map(Xe),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ct&&(n.component=Ke),n}const tn=new i.q("ROUTES");class en{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(p.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new pe(gt(r.injector.get(tn)).map(Xe),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(o.a)(this.loader.load(t)):vt(t()).pipe(Object(j.a)(t=>t instanceof i.v?Object(s.a)(t):Object(o.a)(this.compiler.compileModuleAsync(t))))}}class nn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new rn,this.attachRef=null}}class rn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new nn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class sn{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function on(t){throw t}function an(t,e,n){return e.parse("/")}function cn(t,e){return Object(s.a)(null)}let un=(()=>{class t{constructor(t,e,n,r,s,o,c,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new d.a,this.errorHandler=on,this.malformedUriErrorHandler=an,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cn,afterPreactivation:cn},this.urlHandlingStrategy=new sn,this.routeReuseStrategy=new $e,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(i.x),this.console=s.get(i.Y);const l=s.get(i.z);this.isNgZoneEnabled=l instanceof i.z,this.resetConfig(u),this.currentUrlTree=new _t(new wt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new en(o,c,t=>this.triggerEvent(new et(t)),t=>this.triggerEvent(new nt(t))),this.routerState=Qt(this.currentUrlTree,this.rootComponentType),this.transitions=new a.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(b.a)(t=>0!==t.id),Object(p.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(P.a)(t=>{let n=!1,r=!1;return Object(s.a)(t).pipe(Object(D.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(P.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(s.a)(t).pipe(Object(P.a)(t=>{const n=this.transitions.getValue();return e.next(new Q(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?h.a:[t]}),Object(P.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,a=this.config,function(t){return t.pipe(Object(P.a)(t=>function(t,e,n,r,i){return new Se(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(p.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(D.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(j.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Me(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(p.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(D.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(D.a)(t=>{const n=new Z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:a}=t,c=new Q(n,this.serializeUrl(r),i,o);e.next(c);const u=Qt(r,this.rootComponentType).snapshot;return Object(s.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),h.a}),We(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(D.a)(t=>{const e=new J(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(p.a)(t=>Object.assign(Object.assign({},t),{guards:xe(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(j.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=n;return 0===c.length&&0===a.length?Object(s.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(o.a)(t).pipe(Object(j.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(s.a)(!0);const a=o.map(s=>{const o=ke(s,e,i);let a;if(function(t){return t&&ge(t.canDeactivate)}(o))a=vt(o.canDeactivate(t,e,n,r));else{if(!ge(o))throw new Error("Invalid CanDeactivate guard");a=vt(o(t,e,n,r))}return a.pipe(Object(L.a)())});return Object(s.a)(a).pipe(De())}(t.component,t.route,n,e,r)),Object(L.a)(t=>!0!==t,!0))}(c,r,i,t).pipe(Object(j.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(o.a)(e).pipe(Object(B.a)(e=>Object(o.a)([Ne(e.route.parent,r),Re(e.route,r),Ve(t,e.path,n),Pe(t,e.route,n)]).pipe(Object(g.a)(),Object(L.a)(t=>!0!==t,!0))),Object(L.a)(t=>!0!==t,!0))}(r,a,t,e):Object(s.a)(n)),Object(p.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(D.a)(t=>{if(be(t.guardsResult)){const e=ht(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(D.a)(t=>{const e=new Y(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(b.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new $(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),We(t=>{if(t.guards.canActivateChecks.length)return Object(s.a)(t).pipe(Object(D.a)(t=>{const e=new X(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(P.a)(t=>{let n=!1;return Object(s.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(j.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(s.a)(t);let a=0;return Object(o.a)(n).pipe(Object(B.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(s.a)({});const a={};return Object(o.a)(i).pipe(Object(j.a)(i=>function(t,e,n,r){const i=ke(t,e,r);return vt(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(D.a)(t=>{a[i]=t}))),y(1),Object(j.a)(()=>Object.keys(a).length===i.length?Object(s.a)(a):h.a))}(t._resolve,t,e,r).pipe(Object(p.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),$t(t,n).resolve),null)))}(t.route,e,r,i)),Object(D.a)(()=>a++),y(1),Object(j.a)(e=>a===n.length?Object(s.a)(t):h.a))}))}),Object(D.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new $(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(D.a)(t=>{const e=new tt(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),We(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(p.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Ht(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new Wt(new a.a((i=n.value).url),new a.a(i.params),new a.a(i.queryParams),new a.a(i.fragment),new a.a(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new Ht(r,s)}}var i}(t,e._root,n?n._root:void 0);return new qt(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(D.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(c=this.rootContexts,u=this.routeReuseStrategy,l=t=>this.triggerEvent(t),Object(p.a)(t=>(new fe(u,t.targetRouterState,t.currentRouterState,l).activate(c),t))),Object(D.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new $(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new U(i))),A(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=be(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new $(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new K(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return h.a}));var i,c,u,l}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ze(t),this.config=t.map(Xe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:c}=e;Object(i.V)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=c?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=o?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return ne(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new re(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return mt(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new re(n,e,r)}(n);if(s.toRoot())return ne(e.root,new wt([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new ie(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ie(t,t===e.root,0)}const r=ee(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ie(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?ae(o.segmentGroup,o.index,s.commands):oe(o.segmentGroup,o.index,s.commands);return ne(o.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(i.V)()&&this.isNgZoneEnabled&&!i.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=be(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(be(t))return yt(this.currentUrlTree,t,e);const n=this.parseUrl(t);return yt(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new W(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,c;i?(o=i.resolve,a=i.reject,c=i.promise):c=new Promise((t,e)=>{o=t,a=e});const u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(i.N),i.Vb(Ot),i.Vb(rn),i.Vb(r.k),i.Vb(i.r),i.Vb(i.w),i.Vb(i.i),i.Vb(void 0))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})(),ln=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new d.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:fn(this.skipLocationChange),replaceUrl:fn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:fn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:fn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(un),i.Lb(Wt),i.Wb("tabindex"),i.Lb(i.E),i.Lb(i.l))},t.\u0275dir=i.Gb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.Zb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.xb]}),t})(),hn=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new d.a,this.subscription=t.events.subscribe(t=>{t instanceof W&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:fn(this.skipLocationChange),replaceUrl:fn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:fn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:fn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(un),i.Lb(Wt),i.Lb(r.l))},t.\u0275dir=i.Gb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.Zb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(i.Ub("href",e.href,i.tc),i.Ab("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.xb]}),t})();function fn(t){return""===t||!!t}let dn=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof W&&this.update()})}ngAfterContentInit(){Object(o.a)([this.links.changes,this.linksWithHrefs.changes,Object(s.a)(null)]).pipe(Object(G.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(o.a)(e).pipe(Object(G.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(un),i.Lb(i.l),i.Lb(i.E),i.Lb(i.h),i.Lb(ln,8),i.Lb(hn,8))},t.\u0275dir=i.Gb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(i.Eb(n,ln,!0),i.Eb(n,hn,!0)),2&t&&(i.mc(r=i.ac())&&(e.links=r),i.mc(r=i.ac())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.xb]}),t})(),pn=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||ct,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new gn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(rn),i.Lb(i.Q),i.Lb(i.j),i.Wb("name"),i.Lb(i.h))},t.\u0275dir=i.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class gn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Wt?this.route:t===rn?this.childContexts:this.parent.get(t,e)}}class bn{}class mn{preload(t,e){return Object(s.a)(null)}}let vn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new en(e,n,e=>t.triggerEvent(new et(e)),e=>t.triggerEvent(new nt(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(b.a)(t=>t instanceof W),Object(B.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(o.a)(n).pipe(Object(G.a)(),Object(p.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(j.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(un),i.Vb(i.w),i.Vb(i.i),i.Vb(i.r),i.Vb(bn))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})(),yn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Q?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof W&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof at&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new at(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(un),i.Vb(r.w),i.Vb(void 0))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();const _n=new i.q("ROUTER_CONFIGURATION"),wn=new i.q("ROUTER_FORROOT_GUARD"),Sn=[r.k,{provide:Ot,useClass:It},{provide:un,useFactory:function(t,e,n,i,s,o,a,c={},u,l){const h=new un(null,t,e,n,i,s,o,gt(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=Object(r.F)();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[Ot,rn,r.k,i.r,i.w,i.i,tn,_n,[class{},new i.A],[class{},new i.A]]},rn,{provide:Wt,useFactory:function(t){return t.routerState.root},deps:[un]},{provide:i.w,useClass:i.K},vn,mn,class{preload(t,e){return e().pipe(A(()=>Object(s.a)(null)))}},{provide:_n,useValue:{enableTracing:!1}}];function En(){return new i.y("Router",un)}let Cn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Sn,An(e),{provide:wn,useFactory:Tn,deps:[[un,new i.A,new i.J]]},{provide:_n,useValue:n||{}},{provide:r.l,useFactory:In,deps:[r.u,[new i.p(r.a),new i.A],_n]},{provide:yn,useFactory:On,deps:[un,r.w,_n]},{provide:bn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:mn},{provide:i.y,multi:!0,useFactory:En},[xn,{provide:i.d,multi:!0,useFactory:kn,deps:[xn]},{provide:jn,useFactory:Ln,deps:[xn]},{provide:i.b,multi:!0,useExisting:jn}]]}}static forChild(e){return{ngModule:t,providers:[An(e)]}}}return t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({factory:function(e){return new(e||t)(i.Vb(wn,8),i.Vb(un,8))}}),t})();function On(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new yn(t,e,n)}function In(t,e,n={}){return n.useHash?new r.i(t,e):new r.t(t,e)}function Tn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function An(t){return[{provide:i.a,multi:!0,useValue:t},{provide:tn,multi:!0,useValue:t}]}let xn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new d.a}appInitializer(){return this.injector.get(r.j,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(un),r=this.injector.get(_n);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(s.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(_n),n=this.injector.get(vn),r=this.injector.get(yn),s=this.injector.get(un),o=this.injector.get(i.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(i.Vb(i.r))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();function kn(t){return t.appInitializer.bind(t)}function Ln(t){return t.bootstrapListener.bind(t)}const jn=new i.q("Router Initializer")},vJtL:function(t,e,n){"use strict";var r=n("8M4i"),i=n("IzLi");e.a=function(t){if(!Object(i.a)(t))return!1;var e=Object(r.a)(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("XNiG"),i=n("HDdC"),s=n("7o/Q"),o=n("quSY");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new u(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class u extends s.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return a()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,s=n("30Go"),o=n("zVF4"),a=n("S+S0"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.ErrorFactory("app","Firebase",u),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.Logger("@firebase/app"),g=function(){function t(t,e,n){var r,i,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return c}),"PUBLIC"));try{for(var u=s.__values(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var b=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(o.contains(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&c.push("and"),o&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}u(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:c.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});c.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!o.contains(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function u(a){var c,u,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&o.deepExtend(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=s.__values(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(a)}catch(b){c={error:b}}finally{try{g&&!g.done&&(u=d.return)&&u.call(d)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=s.__assign(s.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(o.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=b.initializeApp;b.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var _=b;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion(h,"0.6.11",void 0),t.registerVersion("fire-js","")}(_),e.default=_,e.firebase=_},ws30:function(t,e,n){"use strict";n.d(e,"a",(function(){return z}));var r=n("oAJy"),i=n("LvDl"),s=n("2Vo4"),o=n("fXoL"),a=n("WZmd"),c=n("tk/3"),u=n("D0XW"),l=n("HDdC"),h=n("Cfvw"),f=n("LRne"),d=n("JX91"),p=n("Zy1z"),g=n("lJxs"),b=n("Kqap"),m=n("/uUt"),v=n("pLZG"),y=n("pxpQ"),_=n("spgP"),w=n("ofXK"),S=n("Wcq6"),E=n.n(S),C=(n("6Joi"),n("UbJi"));function O(t,e){return function(t,e=u.a){return new l.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function I(t,e){return O(t,e).pipe(Object(g.a)(t=>({payload:t,type:"query"})))}function T(t,e){return I(t,e).pipe(Object(d.a)(void 0),Object(p.a)(),Object(g.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function A(t,e,n){return T(t,n).pipe(Object(b.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return x(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return x(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return x(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Object(m.a)(),Object(g.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function x(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function k(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class L{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=T(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(g.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(d.a)(void 0),Object(p.a)(),Object(v.a)(([t,e])=>e.length>0||!t),Object(g.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(b.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=k(t);return A(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return I(this.query,this.afs.schedulers.outsideAngular).pipe(Object(g.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(h.a)(this.query.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new j(this.ref.doc(t),this.afs)}}class j{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=F(n,e);return new L(r,i,this.afs)}snapshotChanges(){return O(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(d.a)(void 0),Object(p.a)(),Object(g.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(g.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(h.a)(this.ref.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}}class D{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?T(this.query,this.afs.schedulers.outsideAngular).pipe(Object(g.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(v.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):T(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(b.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=k(t);return A(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return I(this.query,this.afs.schedulers.outsideAngular).pipe(Object(g.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(h.a)(this.query.get(t)).pipe(Object(y.b)(this.afs.schedulers.insideAngular))}}const R=new o.q("angularfire2.enableFirestorePersistence"),N=new o.q("angularfire2.firestore.persistenceSettings"),P=new o.q("angularfire2.firestore.settings"),V=new o.q("angularfire2.firestore.use-emulator");function F(t,e=(t=>t)){return{query:e(t),ref:t}}let M=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new _.e(s),this.keepUnstableUntilFirst=Object(_.i)(this.schedulers);const u=Object(_.h)(t,s,e);!E.a.auth&&c&&Object(_.k)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(_.g)(u.name+".firestore","AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!Object(w.C)(i)){const e=()=>{try{return Object(h.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),Object(f.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(f.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=F(n,e),s=this.schedulers.ngZone.run(()=>r);return new L(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new D(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new j(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(_.c),o.Vb(_.b,8),o.Vb(R,8),o.Vb(P,8),o.Vb(o.B),o.Vb(o.z),o.Vb(N,8),o.Vb(V,8),o.Vb(C.b,8))},t.\u0275prov=Object(o.Hb)({factory:function(){return new t(Object(o.Vb)(_.c),Object(o.Vb)(_.b,8),Object(o.Vb)(R,8),Object(o.Vb)(P,8),Object(o.Vb)(o.B),Object(o.Vb)(o.z),Object(o.Vb)(N,8),Object(o.Vb)(V,8),Object(o.Vb)(C.b,8))},token:t,providedIn:"any"}),t})();var B=n("aLtf");let z=(()=>{class t{constructor(t,e,n,r){this.settings=t,this.http=e,this.firestore=n,this.progressService=r,this.syncFinished=new s.a(!1),this.tracksCache=[],this.tracks=new s.a(this.tracksCache),this.activeTrack=new s.a(null),this.exerciseCache=[],this.exercises=new s.a(this.exerciseCache),this.subscriptions(),this.checkSyncStatus()}checkSyncStatus(){this.syncFinished.next(!1),r.getItem("versions").then(t=>{this.localVersions=t||{tracks:-1,exercises:-1},this.settings.versions.next(Object.assign(Object.assign({},this.settings.versions.getValue()),{tracks:this.localVersions.tracks,exercises:this.localVersions.exercises}))}).then(()=>{this.firestore.collection("config").doc("sync").valueChanges().subscribe({next:t=>{this.remoteVersions=t;let e=!1,n=!1;this.localVersions.tracks<this.remoteVersions.tracks?this.syncTracks().then(()=>{e=!0,e&&n&&this.syncFinished.next(!0)}):this.loadLocalTracks().then(()=>{e=!0,e&&n&&this.syncFinished.next(!0)}),this.localVersions.exercises<this.remoteVersions.exercises?this.syncExercises().then(()=>{n=!0,e&&n&&this.syncFinished.next(!0)}):this.loadLocalExercises().then(()=>{n=!0,e&&n&&this.syncFinished.next(!0)})}})})}loadLocalTracks(){return r.getItem("tracks").then(t=>{this.tracksCache=t,this.tracks.next(this.tracksCache)})}loadLocalExercises(){return r.getItem("exercises").then(t=>{this.exerciseCache=t,this.exercises.next(this.exerciseCache)})}syncTracks(){return new Promise(t=>{this.firestore.collection("tracks").snapshotChanges().subscribe({next:e=>{this.tracksCache=e.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())),r.setItem("tracks",this.tracksCache).then(()=>{this.tracks.next(this.tracksCache),r.setItem("versions",Object.assign(Object.assign({},this.localVersions),{tracks:this.remoteVersions.tracks})).then(()=>t())})}})})}syncExercises(){return new Promise(t=>{this.firestore.collection("exercises").snapshotChanges().subscribe({next:e=>{this.exerciseCache=e.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())),r.setItem("exercises",this.exerciseCache).then(()=>{this.exercises.next(this.exerciseCache),r.setItem("versions",Object.assign(Object.assign({},this.localVersions),{exercises:this.remoteVersions.exercises})).then(()=>t())})}})})}subscriptions(){this.settings.backend.subscribe({next:t=>this.backendUrl=t})}executeSql(t,e,n){const r={params:{sql:t,safe:n?"False":"True"}};return e&&(r.params.explain=e),new Promise((t,e)=>{this.http.get(this.backendUrl+"execute",r).subscribe({next:e=>t(e),error:t=>e(t)})})}getExerciseById(t){return new Promise((e,n)=>{const r=this.exerciseCache.find(e=>e.id===t);r?e(Object(i.cloneDeep)(r)):n(`ID ${t} not found.`)})}getTrackById(t){const e=this.tracksCache.find(e=>e.id===t);return e?Object(i.cloneDeep)(e):(console.log(`Track ID='${t}' not found.`),null)}getTrackIds(){return new Promise(t=>{t(this.tracksCache.map(t=>t.id))})}getNextExercise(t,e="all"){const n=Object(i.cloneDeep)(this.activeTrack.getValue());if(n){const r=("all"===e?n.sessions:n.sessions.filter(t=>e.includes(t.name))).flatMap(t=>t.exercises.sort((t,e)=>t.order-e.order)),s=r.findIndex(e=>e.id===t);if(-1===s)return null;if(s===r.length-1)return-1;{const t=r[s+1].id,e=this.exerciseCache.find(e=>e.id===t);return e?Object(i.cloneDeep)(e):null}}return null}getPreviousExercise(t,e="all"){const n=Object(i.cloneDeep)(this.activeTrack.getValue());if(n){const r=("all"===e?n.sessions:n.sessions.filter(t=>e.includes(t.name))).flatMap(t=>t.exercises.sort((t,e)=>t.order-e.order)),s=r.findIndex(e=>e.id===t);if(-1===s)return null;if(0===s)return-1;{const t=r[s-1].id,e=this.exerciseCache.find(e=>e.id===t);return e?Object(i.cloneDeep)(e):null}}return null}getNextUnsolvedExercise(t,e="all"){let n=this.getNextExercise(t,e);for(;-1!==n;){if(n&&this.progressService.isSolved(n.id))return n;n=this.getNextExercise(n.id)}return-1}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.a),o.Vb(c.a),o.Vb(M),o.Vb(B.a))},t.\u0275prov=o.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return Yn})),n.d(e,"EventType",(function(){return Xn})),n.d(e,"WebChannel",(function(){return tr})),n.d(e,"XhrIo",(function(){return er})),n.d(e,"createWebChannelTransport",(function(){return Jn}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var s,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},c=o||self;function u(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:b).apply(null,arguments)}function v(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var y=Date.now;function _(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)}(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function C(t){return Array.prototype.concat.apply([],arguments)}function O(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function I(t){return/^[\s\xa0]*$/.test(t)}var T,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function x(t,e){return-1!=t.indexOf(e)}function k(t,e){return t<e?-1:t>e?1:0}t:{var L=c.navigator;if(L){var j=L.userAgent;if(j){T=j;break t}}T=""}function D(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e={};for(var n in t)e[n]=t[n];return e}var N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<N.length;s++)n=N[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function V(t){return V[" "](t),t}V[" "]=u;var F,M,B=x(T,"Opera"),z=x(T,"Trident")||x(T,"MSIE"),U=x(T,"Edge"),H=U||z,G=x(T,"Gecko")&&!(x(T.toLowerCase(),"webkit")&&!x(T,"Edge"))&&!(x(T,"Trident")||x(T,"MSIE"))&&!x(T,"Edge"),q=x(T.toLowerCase(),"webkit")&&!x(T,"Edge");function Q(){var t=c.document;return t?t.documentMode:void 0}t:{var W="",$=(M=T,G?/rv:([^\);]+)(\)|;)/.exec(M):U?/Edge\/([\d\.]+)/.exec(M):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(M):q?/WebKit\/(\S+)/.exec(M):B?/(?:Version)[ \/]?(\S+)/.exec(M):void 0);if($&&(W=$?$[1]:""),z){var K=Q();if(null!=K&&K>parseFloat(W)){F=String(K);break t}}F=W}var Z={};function J(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=A(String(F)).split("."),r=A(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=k(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||k(0==o[2].length,0==a[2].length)||k(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var Y=c.document&&z&&(Q()||parseInt(F,10))||void 0,X=!z||9<=Number(Y),tt=z&&!J("9"),et=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{c.addEventListener("test",u,e),c.removeEventListener("test",u,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{V(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},_(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var st="closure_listenable_"+(1e6*Math.random()|0),ot=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ot,this.Y=this.Z=!1}function ct(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ut(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=S(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ct(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}ut.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ht(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new at(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=St(r),e&&e[st]?e.wa(n,r,f(i)?!!i.capture:!!i,s):gt(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pt(t,e[s],n,r,i);return null}return n=St(n),t&&t[st]?t.va(e,n,f(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=f(i)?!!i.capture:!!i;if(o&&!X)return null;var a=_t(t);if(a||(t[ft]=a=new ut(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=yt,e=X?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[st])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(lt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ct(t)}}}function mt(t){return t in dt?dt[t]:dt[t]="on"+t}function vt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&bt(t),n.call(r,e)}function yt(t,e){if(t.Y)return!0;if(!X){if(!e)t:{e=["window","event"];for(var n=c,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return vt(t,e=new rt(e,this))}return vt(t,new rt(e,this))}function _t(t){return(t=t[ft])instanceof ut?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"==l(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function Et(){w.call(this),this.c=new ut(this),this.J=this,this.C=null}function Ct(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&lt(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}_(Et,w),Et.prototype[st]=!0,(s=Et.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},s.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=f(i)?!!i.capture:!!i,r=St(r),e&&e[st]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(o=e.a[n],r,i,s))&&(ct(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,s)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},s.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;P(t=new nt(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=Ct(o,r,!0,t)&&i}if(i=Ct(o=t.a=n,r,!0,t)&&i,i=Ct(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=Ct(o=t.a=e[s],r,!1,t)&&i;return i},s.G=function(){if(Et.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ct(n[r]);delete e.a[t],e.b--}}this.C=null},s.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},s.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ot=c.JSON.stringify;function It(){this.b=this.a=null}var Tt,At=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new kt}),(function(t){t.reset()}),100);function xt(){var t=Rt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function kt(){this.next=this.b=this.a=null}function Lt(t){c.setTimeout((function(){throw t}),0)}function jt(t,e){Tt||function(){var t=c.Promise.resolve(void 0);Tt=function(){t.then(Nt)}}(),Dt||(Tt(),Dt=!0),Rt.add(t,e)}It.prototype.add=function(t,e){var n=At.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},kt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},kt.prototype.reset=function(){this.next=this.b=this.a=null};var Dt=!1,Rt=new It;function Nt(){for(var t;t=xt();){try{t.a.call(t.b)}catch(n){Lt(n)}var e=At;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Dt=!1}function Pt(t,e){Et.call(this),this.b=t||1,this.a=e||c,this.f=m(this.Ya,this),this.g=y()}function Vt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ft(t,e,n){if("function"==l(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:c.setTimeout(t,e||0)}function Mt(t){t.a=Ft((function(){t.a=null,t.c&&(t.c=!1,Mt(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}_(Pt,Et),(s=Pt.prototype).aa=!1,s.M=null,s.Ya=function(){if(this.aa){var t=y()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Vt(this),this.start()))}},s.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=y())},s.G=function(){Pt.S.G.call(this),Vt(this),delete this.a};var Bt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Mt(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(c.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function zt(t){w.call(this),this.b=t,this.a={}}_(zt,w);var Ut=[];function Ht(t,e,n,r){Array.isArray(n)||(n&&(Ut[0]=n.toString()),n=Ut);for(var i=0;i<n.length;i++){var s=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Gt(t){D(t.a,(function(t,e){this.a.hasOwnProperty(e)&&bt(t)}),t),t.a={}}function qt(){this.a=!0}function Qt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ot(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}zt.prototype.G=function(){zt.S.G.call(this),Gt(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qt.prototype.info=function(){};var Wt=null;function $t(){return Wt=Wt||new Et}function Kt(t){nt.call(this,"serverreachability",t)}function Zt(t){var e=$t();e.dispatchEvent(new Kt(e,t))}function Jt(t){nt.call(this,"statevent",t)}function Yt(t){var e=$t();e.dispatchEvent(new Jt(e,t))}function Xt(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return c.setTimeout((function(){t()}),e)}_(Kt,nt),_(Jt,nt),_(Xt,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function ie(){}re.prototype.a=null;var se,oe={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ae(){nt.call(this,"d")}function ce(){nt.call(this,"c")}function ue(){}function le(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new zt(this),this.P=he,this.R=new Pt(t=H?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}_(ae,nt),_(ce,nt),_(ue,re),se=new ue;var he=45e3,fe={},de={};function pe(t,e,n){t.H=1,t.i=Pe(ke(e)),t.j=n,t.I=!0,ge(t,null)}function ge(t,e){t.u=y(),ve(t),t.l=ke(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Ke(n.b,"t",r),t.D=0,t.a=Gn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Bt(m(t.Ca,t,t.a),t.O)),Ht(t.J,t.a,"readystatechange",t.Wa),e=t.B?R(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Zt(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function be(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=me(t,n);if(i==de){4==e&&(t.h=4,Yt(14),r=!1),Qt(t.c,t.f,null,"[Incomplete Response]");break}if(i==fe){t.h=4,Yt(15),Qt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Qt(t.c,t.f,i,null),Ee(t,i)}4==e&&0==n.length&&(t.h=1,Yt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Pn(e),e.F=!0)):(Qt(t.c,t.f,n,"[Invalid Chunked Response]"),Se(t),we(t))}function me(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.D=r+n,e))}function ve(t){t.U=y()+t.P,ye(t,t.P)}function ye(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(m(t.Ua,t),e)}function _e(t){t.o&&(c.clearTimeout(t.o),t.o=null)}function we(t){0==t.g.v||t.A||Mn(t.g,t)}function Se(t){_e(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Vt(t.R),Gt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ee(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Fn(n),Tn(n)}Nn(n),Yt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(m(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(b){}n.ea=void 0}}else zn(n,11)}else if((t.C||n.a==t)&&Fn(n),!I(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(x(l,"spdy")||x(l,"quic")||x(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(c.A){var f=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(c.na=f,Ne(c.B,c.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=y()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((c=n).la=Hn(c,c.C?c.ga:null,c.fa),d.C){sn(c.b,d);var p=d,g=c.D;g&&p.setTimeout(g),p.o&&(_e(p),ve(p)),c.a=d}else Rn(c);0<n.g.length&&kn(n)}else"stop"!=i[0]&&"close"!=i[0]||zn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?zn(n,7):In(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Zt(4)}catch(b){}}function Ce(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)E(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Oe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Oe)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ie(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Te(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Te(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Te(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(s=le.prototype).setTimeout=function(t){this.P=t},s.Wa=function(t){t=t.target;var e=this.F;e&&3==Sn(t)?e.f():this.Ca(t)},s.Ca=function(t){try{if(t==this.a)t:{var e=Sn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!H&&!this.a.$())){this.A||4!=e||7==n||Zt(8==n||0>=r?3:2),_e(this);var i=this.a.X();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,Yt(12),Se(this),we(this);break t}Qt(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ee(this,c)}this.I?(be(this,e,s),H&&this.b&&3==e&&(Ht(this.J,this.R,"tick",this.Va),this.R.start())):(Qt(this.c,this.f,s,null),Ee(this,s)),4==e&&Se(this),this.b&&!this.A&&(4==e?Mn(this.g,this):(this.b=!1,ve(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Yt(12)):(this.h=0,Yt(13)),Se(this),we(this)}}}catch(u){}},s.Va=function(){if(this.a){var t=Sn(this.a),e=this.a.$();this.D<e.length&&(_e(this),be(this,t,e),this.b&&4!=t&&ve(this))}},s.cancel=function(){this.A=!0,Se(this)},s.Ua=function(){this.o=null;var t=y();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Zt(3),Yt(17)),Se(this),this.h=2,we(this)):ye(this,this.U-t)},(s=Oe.prototype).K=function(){Ie(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},s.L=function(){return Ie(this),this.a.concat()},s.get=function(t,e){return Te(this.b,t)?this.b[t]:e},s.set=function(t,e){Te(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},s.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Ae=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xe(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof xe){this.a=void 0!==e?e:t.a,Le(this,t.f),this.j=t.j,je(this,t.c),De(this,t.h),this.g=t.g,e=t.b;var n=new qe;n.c=e.c,e.a&&(n.a=new Oe(e.a),n.b=e.b),Re(this,n),this.i=t.i}else t&&(n=String(t).match(Ae))?(this.a=!!e,Le(this,n[1]||"",!0),this.j=Ve(n[2]||""),je(this,n[3]||"",!0),De(this,n[4]),this.g=Ve(n[5]||"",!0),Re(this,n[6]||"",!0),this.i=Ve(n[7]||"")):(this.a=!!e,this.b=new qe(null,this.a))}function ke(t){return new xe(t)}function Le(t,e,n){t.f=n?Ve(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function je(t,e,n){t.c=n?Ve(e,!0):e}function De(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Re(t,e,n){e instanceof qe?(t.b=e,function(t,e){e&&!t.f&&(Qe(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(We(this,e),Ke(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Fe(e,He)),t.b=new qe(e,t.a))}function Ne(t,e,n){t.b.set(e,n)}function Pe(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^y()).toString(36)),t}function Ve(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fe(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Me),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Me(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}xe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fe(e,Be,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Fe(e,Be,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fe(n,"/"==n.charAt(0)?Ue:ze,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fe(n,Ge)),t.join("")};var Be=/[#\/\?@]/g,ze=/[#\?:]/g,Ue=/[#\?]/g,He=/[#\?@]/g,Ge=/#/g;function qe(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qe(t){t.a||(t.a=new Oe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function We(t,e){Qe(t),e=Ze(t,e),Te(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Te((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ie(t)))}function $e(t,e){return Qe(t),e=Ze(t,e),Te(t.a.b,e)}function Ke(t,e,n){We(t,e),0<n.length&&(t.c=null,t.a.set(Ze(t,e),O(n)),t.b+=n.length)}function Ze(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Je(t,e){this.b=t,this.a=e}function Ye(t){this.g=t||Xe,t=c.PerformanceNavigationTiming?0<(t=c.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(c.ia&&c.ia.ya&&c.ia.ya()&&c.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(s=qe.prototype).add=function(t,e){Qe(this),this.c=null,t=Ze(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},s.forEach=function(t,e){Qe(this),this.a.forEach((function(n,r){E(n,(function(n){t.call(e,n,r,this)}),this)}),this)},s.L=function(){Qe(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},s.K=function(t){Qe(this);var e=[];if("string"==typeof t)$e(this,t)&&(e=C(e,this.a.get(Ze(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=C(e,t[n])}return e},s.set=function(t,e){return Qe(this),this.c=null,$e(this,t=Ze(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},s.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},s.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Xe=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function sn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function on(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var s=i(t.a.values()),o=s.next();!o.done;o=s.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}return O(t.c)}function an(){}function cn(){this.a=new an}function un(t,e,n){var r=n||"";try{Ce(t,(function(t,n){var i=t;f(t)&&(i=Ot(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Ye.prototype.cancel=function(){var t,e;if(this.c=on(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},an.prototype.stringify=function(t){return c.JSON.stringify(t,void 0)},an.prototype.parse=function(t){return c.JSON.parse(t,void 0)};var hn=c.JSON.parse;function fn(t){Et.call(this),this.headers=new Oe,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dn,this.D=this.F=!1}_(fn,Et);var dn="",pn=/^https?$/i,gn=["POST","PUT"];function bn(t){return"content-type"==t.toLowerCase()}function mn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,vn(t),_n(t)}function vn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function yn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=Sn(t)||2!=t.X()))if(t.l&&4==Sn(t))Ft(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Sn(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Ae)[1]||null;if(!s&&c.self&&c.self.location){var o=c.self.location.protocol;s=o.substr(0,o.length-1)}i=!pn.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<Sn(t)?t.a.statusText:""}catch(l){u=""}t.f=u+" ["+t.X()+"]",vn(t)}}finally{_n(t)}}}function _n(t,e){if(t.a){wn(t);var n=t.a,r=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function wn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(c.clearTimeout(t.m),t.m=null)}function Sn(t){return t.a?t.a.readyState:0}function En(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return D(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ne(t,e,n))}function Cn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function On(t){this.pa=0,this.g=[],this.c=new qt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Cn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Cn("baseRetryDelayMs",5e3,t),this.Ma=Cn("retryDelaySeedMs",1e4,t),this.Ja=Cn("forwardChannelMaxRetries",2,t),this.ma=Cn("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ye(t&&t.concurrentRequestLimit),this.ka=new cn,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function In(t){if(An(t),3==t.v){var e=t.R++,n=ke(t.B);Ne(n,"SID",t.J),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),jn(t,n),(e=new le(t,t.c,e,void 0)).H=2,e.i=Pe(ke(n)),n=!1,c.navigator&&c.navigator.sendBeacon&&(n=c.navigator.sendBeacon(e.i.toString(),"")),!n&&c.Image&&((new Image).src=e.i,n=!0),n||(e.a=Gn(e.g,null),e.a.ba(e.i)),e.u=y(),ve(e)}Un(t)}function Tn(t){t.a&&(Pn(t),t.a.cancel(),t.a=null)}function An(t){Tn(t),t.j&&(c.clearTimeout(t.j),t.j=null),Fn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&c.clearTimeout(t.h),t.h=null)}function xn(t,e){t.g.push(new Je(t.La++,e)),3==t.v&&kn(t)}function kn(t){tn(t.b)||t.h||(t.h=!0,jt(t.Ba,t),t.u=0)}function Ln(t,e){var n;n=e?e.f:t.R++;var r=ke(t.B);Ne(r,"SID",t.J),Ne(r,"RID",n),Ne(r,"AID",t.P),jn(t,r),t.i&&t.l&&En(r,t.i,t.l),n=new le(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Dn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,r,e)}function jn(t,e){t.f&&Ce({},(function(t,n){Ne(e,n,t)}))}function Dn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?m(t.f.Ha,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=s))s=Math.max(0,i[c].b-100),a=!1;else try{un(l,o,"req"+u+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Rn(t){t.a||t.j||(t.U=1,jt(t.Aa,t),t.o=0)}function Nn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(m(t.Aa,t),Bn(t,t.o)),t.o++,0))}function Pn(t){null!=t.s&&(c.clearTimeout(t.s),t.s=null)}function Vn(t){t.a=new le(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ke(t.la);Ne(e,"RID","rpc"),Ne(e,"SID",t.J),Ne(e,"CI",t.H?"0":"1"),Ne(e,"AID",t.P),jn(t,e),Ne(e,"TYPE","xmlhttp"),t.i&&t.l&&En(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Pe(ke(e)),n.j=null,n.I=!0,ge(n,t)}function Fn(t){null!=t.m&&(c.clearTimeout(t.m),t.m=null)}function Mn(t,e){var n=null;if(t.a==e){Fn(t),Pn(t),t.a=null;var r=2}else{if(!nn(t.b,e))return;n=e.s,sn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=y()-e.u;var i=t.u;(r=$t()).dispatchEvent(new Xt(r,n,e,i)),kn(t)}else Rn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(m(t.Ba,t,e),Bn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Nn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:zn(t,5);break;case 4:zn(t,10);break;case 3:zn(t,6);break;default:zn(t,2)}}function Bn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function zn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=m(t.Xa,t);n||(n=new xe("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||Le(n,"https"),Pe(n)),function(t,e){var n=new qt;if(c.Image){var r=new Image;r.onload=v(ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=v(ln,n,r,"TestLoadImage: error",!1,e),r.onabort=v(ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=v(ln,n,r,"TestLoadImage: timeout",!1,e),c.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Yt(2);t.v=0,t.f&&t.f.ra(e),Un(t),An(t)}function Un(t){t.v=0,t.I=-1,t.f&&(0==on(t.b).length&&0==t.g.length||(t.b.c.length=0,O(t.g),t.g.length=0),t.f.qa())}function Hn(t,e,n){var r=function(t){return t instanceof xe?ke(t):new xe(t,void 0)}(n);if(""!=r.c)e&&je(r,e+"."+r.c),De(r,r.h);else{var i=c.location;r=function(t,e,n,r){var i=new xe(null,void 0);return t&&Le(i,t),e&&je(i,e),n&&De(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&D(t.W,(function(t,e){Ne(r,e,t)})),n=t.na,(e=t.A)&&n&&Ne(r,e,n),Ne(r,"VER",t.ha),jn(t,r),r}function Gn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(t.Ka)).F=t.C,e}function qn(){}function Qn(){if(z&&!(10<=Number(Y)))throw Error("Environmental error: no available transport.")}function Wn(t,e){Et.call(this),this.a=new On(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!I(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!I(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Zn(this)}function $n(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Kn(){ce.call(this),this.status=1}function Zn(t){this.a=t}(s=fn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=m(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void mn(this,s)}t=n||"";var i=new Oe(this.headers);r&&Ce(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=bn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=c.FormData&&t instanceof c.FormData,!(0<=S(gn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wn(this),0<this.o&&((this.D=function(t){return z&&J(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=m(this.xa,this)):this.m=Ft(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){mn(this,s)}},s.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},s.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_n(this))},s.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),_n(this,!0)),fn.S.G.call(this)},s.za=function(){this.j||(this.A||this.l||this.g?yn(this):this.Ta())},s.Ta=function(){yn(this)},s.X=function(){try{return 2<Sn(this)?this.a.status:-1}catch(M){return-1}},s.$=function(){try{return this.a?this.a.responseText:""}catch(M){return""}},s.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},s.ua=function(){return this.h},s.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(s=On.prototype).ha=8,s.v=1,s.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new le(this,this.c,t,void 0),r=this.l;if(this.O&&(r?P(r=R(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Dn(this,n,e),Ne(i=ke(this.B),"RID",t),Ne(i,"CVER",22),this.A&&Ne(i,"X-HTTP-Session-Id",this.A),jn(this,i),this.i&&r&&En(i,this.i,r),rn(this.b,n),this.Ga&&Ne(i,"TYPE","init"),this.da?(Ne(i,"$req",e),Ne(i,"SID","null"),n.V=!0,pe(n,i,null)):pe(n,i,e),this.v=2}}else 3==this.v&&(t?Ln(this,t):0==this.g.length||tn(this.b)||Ln(this))},s.Aa=function(){if(this.j=null,Vn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(m(this.Sa,this),t)}},s.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Tn(this),Vn(this))},s.Ra=function(){null!=this.m&&(this.m=null,Tn(this),Nn(this),Yt(19))},s.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Yt(2)):(this.c.info("Failed to ping google.com"),Yt(1))},(s=qn.prototype).ta=function(){},s.sa=function(){},s.ra=function(){},s.qa=function(){},s.Ha=function(){},Qn.prototype.a=function(t,e){return new Wn(t,e)},_(Wn,Et),(s=Wn.prototype).addEventListener=function(t,e,n,r){Wn.S.addEventListener.call(this,t,e,n,r)},s.removeEventListener=function(t,e,n,r){Wn.S.removeEventListener.call(this,t,e,n,r)},s.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Yt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Hn(t,null,t.fa),kn(t)},s.close=function(){In(this.a)},s.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,xn(this.a,e)}else this.g?((e={}).__data__=Ot(t),xn(this.a,e)):xn(this.a,t)},s.G=function(){this.a.f=null,delete this.f,In(this.a),delete this.a,Wn.S.G.call(this)},_($n,ae),_(Kn,ce),_(Zn,qn),Zn.prototype.ta=function(){this.a.dispatchEvent("a")},Zn.prototype.sa=function(t){this.a.dispatchEvent(new $n(t))},Zn.prototype.ra=function(t){this.a.dispatchEvent(new Kn(t))},Zn.prototype.qa=function(){this.a.dispatchEvent("b")},Qn.prototype.createWebChannel=Qn.prototype.a,Wn.prototype.send=Wn.prototype.Pa,Wn.prototype.open=Wn.prototype.Oa,Wn.prototype.close=Wn.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",ie.EventType=oe,oe.OPEN="a",oe.CLOSE="b",oe.ERROR="c",oe.MESSAGE="d",Et.prototype.listen=Et.prototype.va,fn.prototype.listenOnce=fn.prototype.wa,fn.prototype.getLastError=fn.prototype.Qa,fn.prototype.getLastErrorCode=fn.prototype.ua,fn.prototype.getStatus=fn.prototype.X,fn.prototype.getResponseJson=fn.prototype.Na,fn.prototype.getResponseText=fn.prototype.$,fn.prototype.send=fn.prototype.ba;var Jn=function(){return new Qn},Yn=ee,Xn=ne,tr=ie,er=fn;e.default={createWebChannelTransport:Jn,ErrorCode:Yn,EventType:Xn,WebChannel:tr,XhrIo:er}},xbPD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},xgIS:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("DH7j"),s=n("n6bG"),o=n("lJxs");function a(t,e,n,c){return Object(s.a)(n)&&(c=n,n=void 0),c?a(t,e,n).pipe(Object(o.a)(t=>Object(i.a)(t)?c(...t):c(t))):new r.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}},xutz:function(t,e,n){"use strict";(function(t){var r=n("XqMk"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=s&&s.exports===i&&r.a.process,a=function(){try{return s&&s.require&&s.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();e.a=a}).call(this,n("3UD+")(t))},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},ylTp:function(t,e,n){"use strict";var r=n("Ju5/");e.a=r.a.Symbol},yvwu:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return g}));var r=n("fXoL"),i=n("3Pt+"),s=n("xgIS"),o=n("ofXK");const a=["editorContainer"];let c,u=!1,l=(()=>{class t{constructor(t){this.config=t,this.onInit=new r.n}ngAfterViewInit(){u?c.then(()=>{this.initMonaco(this._options)}):(u=!0,c=new Promise(t=>{const e=this.config.baseUrl||"./assets";if("object"==typeof window.monaco)return void t();const n=()=>{window.require.config({paths:{vs:e+"/monaco/vs"}}),window.require(["vs/editor/editor.main"],()=>{"function"==typeof this.config.onMonacoLoad&&this.config.onMonacoLoad(),this.initMonaco(this._options),t()})};if(window.require)n();else{const t=document.createElement("script");t.type="text/javascript",t.src=e+"/monaco/vs/loader.js",t.addEventListener("load",n),document.body.appendChild(t)}}))}ngOnDestroy(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)}}return t.\u0275fac=function(t){r.Yb()},t.\u0275dir=r.Gb({type:t,viewQuery:function(t,e){var n;1&t&&r.wc(a,!0),2&t&&r.mc(n=r.ac())&&(e._editorContainer=n.first)},outputs:{onInit:"onInit"}}),t})();const h=new r.q("NGX_MONACO_EDITOR_CONFIG");var f;let d=(()=>{let t=f=class extends l{constructor(t,e){super(e),this.zone=t,this.editorConfig=e,this._value="",this.propagateChange=t=>{},this.onTouched=()=>{}}set options(t){this._options=Object.assign({},this.config.defaultOptions,t),this._editor&&(this._editor.dispose(),this.initMonaco(t))}get options(){return this._options}set model(t){this.options.model=t,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))}writeValue(t){this._value=t||"",setTimeout(()=>{this._editor&&!this.options.model&&this._editor.setValue(this._value)})}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){this.onTouched=t}initMonaco(t){const e=!!t.model;if(e){const e=monaco.editor.getModel(t.model.uri||"");e?(t.model=e,t.model.setValue(this._value)):t.model=monaco.editor.createModel(t.model.value,t.model.language,t.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,t),e||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(t=>{const e=this._editor.getValue();this.zone.run(()=>{this.propagateChange(e),this._value=e})}),this._editor.onDidBlurEditorWidget(()=>{this.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=Object(s.a)(window,"resize").subscribe(()=>this._editor.layout()),this.onInit.emit(this._editor)}};return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.z),r.Lb(h))},t.\u0275cmp=r.Fb({type:t,selectors:[["ngx-monaco-editor"]],inputs:{options:"options",model:"model"},features:[r.yb([{provide:i.h,useExisting:Object(r.U)(()=>f),multi:!0}]),r.wb],decls:2,vars:0,consts:[[1,"editor-container"],["editorContainer",""]],template:function(t,e){1&t&&r.Mb(0,"div",0,1)},styles:["[_nghost-%COMP%] {\n      display: block;\n      height: 200px;\n    }\n\n    .editor-container[_ngcontent-%COMP%] {\n      width: 100%;\n      height: 98%;\n    }"]}),t})();var p;let g=(()=>{let t=p=class{static forRoot(t={}){return{ngModule:p,providers:[{provide:h,useValue:t}]}}};return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[o.c]]}),t})()},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i=n("AytR"),s=n("jhN1"),o=n("tk/3"),a=n("R0Ic");function c(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function u(t){switch(t.length){case 0:return new a.d;case 1:return t[0];default:return new a.l(t)}}function l(t,e,n,r,i={},s={}){const o=[],c=[];let u=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==u,h=r&&l||{};Object.keys(t).forEach(n=>{let r=n,c=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),c){case a.m:c=i[n];break;case a.a:c=s[n];break;default:c=e.normalizeStyleValue(n,r,c,o)}h[r]=c}),r||c.push(h),l=h,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return c}function h(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&f(n,"start",t)));break;case"done":t.onDone(()=>r(n&&f(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&f(n,"destroy",t)))}}function f(t,e,n){const r=n.totalTime,i=d(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function d(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function p(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function g(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let b=(t,e)=>!1,m=(t,e)=>!1,v=(t,e,n)=>[];const y=c();(y||"undefined"!=typeof Element)&&(b=(t,e)=>t.contains(e),m=(()=>{if(y||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):m}})(),v=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let _=null,w=!1;function S(t){_||(_=("undefined"!=typeof document?document.body:null)||{},w=!!_.style&&"WebkitAppearance"in _.style);let e=!0;return _.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in _.style,!e&&w)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in _.style),e}const E=m,C=b,O=v;function I(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let T=(()=>{class t{validateStyleProperty(t){return S(t)}matchesElement(t,e){return E(t,e)}containsElement(t,e){return C(t,e)}query(t,e,n){return O(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new a.d(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),A=(()=>{class t{}return t.NOOP=new T,t})();const x="ng-enter",k="ng-leave",L="ng-trigger",j=".ng-trigger",D="ng-animating",R=".ng-animating";function N(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:P(parseFloat(e[1]),e[2])}function P(t,e){switch(e){case"s":return 1e3*t;default:return t}}function V(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=P(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=P(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function F(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function M(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else F(t,n);return n}function B(t,e,n){return n?e+":"+n+";":""}function z(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=B(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=B(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function U(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Z(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),c()&&z(t))}function H(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Z(e);t.style[n]=""}),c()&&z(t))}function G(t){return Array.isArray(t)?1==t.length?t[0]:Object(a.g)(t):t}const q=new RegExp("{{\\s*(.+?)\\s*}}","g");function Q(t){let e=[];if("string"==typeof t){let n;for(;n=q.exec(t);)e.push(n[1]);q.lastIndex=0}return e}function W(t,e,n){const r=t.toString(),i=r.replace(q,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()});return i==r?t:i}function $(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const K=/-+([a-z0-9])/g;function Z(t){return t.replace(K,(...t)=>t[1].toUpperCase())}function J(t,e){return 0===t||0===e}function Y(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=tt(t,e)}))}}return e}function X(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function tt(t,e){return window.getComputedStyle(t)[e]}const et="*";function nt(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(st(i,o)),"<"!=s[0]||i==et&&o==et||e.push(st(o,i))}(t,n,e)):n.push(t),n}const rt=new Set(["true","1"]),it=new Set(["false","0"]);function st(t,e){const n=rt.has(t)||it.has(t),r=rt.has(e)||it.has(e);return(i,s)=>{let o=t==et||t==i,a=e==et||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?rt.has(t):it.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?rt.has(e):it.has(e)),o&&a}}const ot=new RegExp("s*:selfs*,?","g");function at(t,e,n){return new ct(t).build(e,n)}class ct{constructor(t){this._driver=t}build(t,e){const n=new ut(e);return this._resetContextStyleTimingState(n),X(this,G(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(lt(t)){const e=t;Object.keys(e).forEach(t=>{Q(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=$(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=X(this,G(t.animation),e);return{type:1,matchers:nt(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:ht(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>X(this,t,e)),options:ht(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=X(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:ht(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ft(V(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=ft(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||V(r,e),ft(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Object(a.i)({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Object(a.i)(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==a.a?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(lt(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=Q(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(lt(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(lt(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return c.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:X(this,G(t.animation),e),options:ht(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ht(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ht(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(ot,"")),[t=t.replace(/@\*/g,j).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,R),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,p(e.collectedStyles,e.currentQuerySelector,{});const o=X(this,G(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:ht(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:V(t.timings,e.errors,!0);return{type:12,animation:X(this,G(t.animation),e),timings:n,options:null}}}class ut{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function lt(t){return!Array.isArray(t)&&"object"==typeof t}function ht(t){var e;return t?(t=F(t)).params&&(t.params=(e=t.params)?F(e):null):t={},t}function ft(t,e,n){return{duration:t,delay:e,easing:n}}function dt(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class pt{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gt=new RegExp(":enter","g"),bt=new RegExp(":leave","g");function mt(t,e,n,r,i,s={},o={},a,c,u=[]){return(new vt).buildKeyframes(t,e,n,r,i,s,o,a,c,u)}class vt{buildKeyframes(t,e,n,r,i,s,o,a,c,u=[]){c=c||new pt;const l=new _t(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),X(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[dt(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?N(n.duration):null,s=null!=n.delay?N(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),X(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=yt);const t=N(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>X(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?N(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),X(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return V(e.params?W(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?N(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yt);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),X(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;X(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const yt={};class _t{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new wt(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=N(n.duration)),null!=n.delay&&(r.delay=N(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=W(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new _t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=yt,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new St(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(gt,"."+this._enterClassName)).replace(bt,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class wt{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new wt(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||a.a,this._currentKeyframe[t]=a.a}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=a.a})):M(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=W(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:a.a),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=M(i,!0);Object.keys(o).forEach(n=>{const r=o[n];r==a.m?t.add(n):r==a.a&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?$(t.values()):[],s=e.size?$(e.values()):[];if(n){const t=r[0],e=F(t);t.offset=0,e.offset=1,r=[t,e]}return dt(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class St extends wt{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=M(t[0],!1);a.offset=0,i.push(a);const c=M(t[0],!1);c.offset=Et(o),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let o=M(t[r],!1);o.offset=Et((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return dt(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Et(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Ct{}class Ot extends Ct{normalizePropertyName(t,e){return Z(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(It[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const It=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Tt(t,e,n,r,i,s,o,a,c,u,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:f}}const At={};class xt{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||At,f=this.buildStyles(n,o&&o.params||At,l),d=a&&a.params||At,g=this.buildStyles(r,d,l),b=new Set,m=new Map,v=new Map,y="void"===r,_={params:Object.assign(Object.assign({},h),d)},w=u?[]:mt(t,e,this.ast.animation,i,s,f,g,_,c,l);let S=0;if(w.forEach(t=>{S=Math.max(t.duration+t.delay,S)}),l.length)return Tt(e,this._triggerName,n,r,y,f,g,[],[],m,v,S,l);w.forEach(t=>{const n=t.element,r=p(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=p(v,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&b.add(n)});const E=$(b.values());return Tt(e,this._triggerName,n,r,y,f,g,w,E,m,v,S)}}class kt{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=F(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=W(s,r,e)),n[t]=s})}}),n}}class Lt{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new kt(t.style,t.options&&t.options.params||{})}),jt(this.states,"true","1"),jt(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new xt(t,e,this.states))}),this.fallbackTransition=new xt(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function jt(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Dt=new pt;class Rt{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=at(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=l(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=mt(this._driver,e,i,x,k,{},{},n,Dt,r),s.forEach(t=>{const e=p(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error("Unable to create the animation due to the following errors: "+r.join("\n"));o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,a.a)})});const c=u(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}listen(t,e,n,r){const i=d(e,"","","");return h(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Nt="ng-animate-queued",Pt="ng-animate-disabled",Vt=".ng-animate-disabled",Ft=[],Mt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class zt{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=F(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Ut="void",Ht=new zt(Ut);class Gt{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Jt(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=p(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=p(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Jt(t,L),Jt(t,"ng-trigger-"+e),a[e]=Ht),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Qt(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Jt(t,L),Jt(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new zt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=Ht),c.value!==Ut&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{H(t,n),U(t,r)})}return}const u=p(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(Jt(t,Nt),s.onStart(()=>{Yt(t,Nt)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,j,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Ut,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&u(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Ht,o=new zt(Ut),a=new Qt(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Mt||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Jt(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=d(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,h(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class qt{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Gt(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Wt(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Wt(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Jt(t,Pt)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Yt(t,Pt))}removeNode(t,e,n,r){if(Wt(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Wt(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,j,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,R,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return u(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Mt,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Vt)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Vt,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Jt(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?u(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}_flushAnimations(t,e){const n=new pt,r=[],i=new Map,s=[],o=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(t=>{h.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)h.add(e[n])});const f=this.bodyNode,d=Array.from(this.statesByElement.keys()),g=Zt(d,this.collectedEnterElements),b=new Map;let m=0;g.forEach((t,e)=>{const n=x+m++;b.set(e,n),t.forEach(t=>Jt(t,n))});const v=[],y=new Set,_=new Set;for(let a=0;a<this.collectedLeaveElements.length;a++){const t=this.collectedLeaveElements[a],e=t.__ng_removed;e&&e.setForRemoval&&(v.push(t),y.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>y.add(t)):_.add(t))}const w=new Map,S=Zt(d,Array.from(y));S.forEach((t,e)=>{const n=k+m++;w.set(e,n),t.forEach(t=>Jt(t,n))}),t.push(()=>{g.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>Yt(t,n))}),S.forEach((t,e)=>{const n=w.get(e);t.forEach(t=>Yt(t,n))}),v.forEach(t=>{this.processLeaveNode(t)})});const E=[],C=[];for(let a=this._namespaceList.length-1;a>=0;a--)this._namespaceList[a].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(E.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const a=!f||!this.driver.containsElement(f,i),u=w.get(i),h=b.get(i),d=this._buildInstruction(t,n,h,u,a);if(d.errors&&d.errors.length)C.push(d);else{if(a)return e.onStart(()=>H(i,d.fromStyles)),e.onDestroy(()=>U(i,d.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>H(i,d.fromStyles)),e.onDestroy(()=>U(i,d.toStyles)),void r.push(e);d.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,d.timelines),s.push({instruction:d,player:e,element:i}),d.queriedElements.forEach(t=>p(o,t,[]).push(e)),d.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=c.get(e);t||c.set(e,t=new Set),n.forEach(e=>t.add(e))}}),d.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(C.length){const t=[];C.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),E.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,I=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(I.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{p(O,e,[]).push(t),t.destroy()})});const T=v.filter(t=>te(t,c,l)),A=new Map;Kt(A,this.driver,_,l,a.a).forEach(t=>{te(t,c,l)&&T.push(t)});const L=new Map;g.forEach((t,e)=>{Kt(L,this.driver,new Set(t),c,a.m)}),T.forEach(t=>{const e=A.get(t),n=L.get(t);A.set(t,Object.assign(Object.assign({},e),n))});const j=[],D=[],N={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(h.has(e))return s.onDestroy(()=>U(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=N;if(I.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=I.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>I.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,O,i,L,A);if(s.setRealPlayer(n),t===N)j.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=u(e)),r.push(s)}}else H(e,o.fromStyles),s.onDestroy(()=>U(e,o.toStyles)),D.push(s),h.has(e)&&r.push(s)}),D.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=u(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let a=0;a<v.length;a++){const t=v[a],e=t.__ng_removed;if(Yt(t,k),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,R,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Xt(this,t,r):this.processLeaveNode(t)}return v.length=0,j.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),j}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Ut;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=p(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}H(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,c=e.element,h=[],f=new Set,d=new Set,g=e.timelines.map(e=>{const u=e.element;f.add(u);const p=u.__ng_removed;if(p&&p.removedBeforeQueried)return new a.d(e.duration,e.delay);const g=u!==c,b=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof a.l?t(i.players,n):n.push(i)}}(t,e),e}((n.get(u)||Ft).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===u),m=i.get(u),v=s.get(u),y=l(0,this._normalizer,0,e.keyframes,m,v),_=this._buildPlayer(e,y,b);if(e.subTimeline&&r&&d.add(u),g){const e=new Qt(t,o,u);e.setRealPlayer(_),h.push(e)}return _});h.forEach(t=>{p(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),f.forEach(t=>Jt(t,D));const b=u(g);return b.onDestroy(()=>{f.forEach(t=>Yt(t,D)),U(c,e.toStyles)}),d.forEach(t=>{p(r,t,[]).push(b)}),b}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new a.d(t.duration,t.delay)}}class Qt{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new a.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>h(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){p(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Wt(t){return t&&1===t.nodeType}function $t(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Kt(t,e,n,r,i){const s=[];n.forEach(t=>s.push($t(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Bt,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>$t(t,s[a++])),o}function Zt(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Jt(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Yt(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Xt(t,e,n){u(n).onDone(()=>t.processLeaveNode(e))}function te(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class ee{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new qt(t,e,n),this._timelineEngine=new Rt(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=at(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Lt(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=g(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=g(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ne(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ie(e[0]),e.length>1&&(r=ie(e[e.length-1]))):e&&(n=ie(e)),n||r?new re(t,n,r):null}let re=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&U(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(U(this._element,this._initialStyles),this._endStyles&&(U(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(H(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(H(this._element,this._endStyles),this._endStyles=null),U(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ie(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];se(i)&&(e=e||{},e[i]=t[i])}return e}function se(t){return"display"===t||"position"===t}const oe="animation",ae="animationend";class ce{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=pe(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),de(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),fe(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ue(this._element,this._name,"paused")}resume(){ue(this._element,this._name,"running")}setPosition(t){const e=le(this._element,this._name);this._position=t*this._duration,de(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),fe(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=pe(t,"").split(","),r=he(n,e);r>=0&&(n.splice(r,1),de(t,"",n.join(",")))}(this._element,this._name))}}function ue(t,e,n){de(t,"PlayState",n,le(t,e))}function le(t,e){const n=pe(t,"");return n.indexOf(",")>0?he(n.split(","),e):he([n],e)}function he(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function fe(t,e,n){n?t.removeEventListener(ae,e):t.addEventListener(ae,e)}function de(t,e,n,r){const i=oe+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function pe(t,e){return t.style[oe+e]}class ge{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ce(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:tt(this.element,n))})}this.currentSnapshot=t}}class be extends a.d{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=I(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class me{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return S(t)}matchesElement(t,e){return E(t,e)}containsElement(t,e){return C(t,e)}query(t,e,n){return O(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>I(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=i+"}\n"}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof ge),c={};J(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Y(t,e,c));if(0==n)return new be(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=ne(t,e),d=new ge(t,e,l,n,r,i,u,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class ve{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:tt(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ye{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_e().toString()),this._cssKeyframesDriver=new me}validateStyleProperty(t){return S(t)}matchesElement(t,e){return E(t,e)}containsElement(t,e){return C(t,e)}query(t,e,n){return O(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof ve);J(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=ne(t,e=Y(t,e=e.map(t=>M(t,!1)),c));return new ve(t,e,a,l)}}function _e(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var we=n("ofXK");let Se=(()=>{class t extends a.b{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Object(a.g)(t):t;return Oe(this._renderer,null,e,"register",[n]),new Ee(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.F),r.Vb(we.d))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class Ee extends a.c{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Ce(this._id,t,e||{},this._renderer)}}class Ce{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Oe(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Oe(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Ie="@",Te="@.disabled";let Ae=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new xe("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new ke(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.F),r.Vb(ee),r.Vb(r.z))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class xe{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Ie&&e==Te?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ke extends xe{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Ie?"."==e.charAt(1)&&e==Te?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Ie){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=Ie&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Le=(()=>{class t extends ee{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(we.d),r.Vb(A),r.Vb(Ct))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const je=[{provide:A,useFactory:function(){return"function"==typeof _e()?new ye:new me}},{provide:new r.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:a.b,useClass:Se},{provide:Ct,useFactory:function(){return new Ot}},{provide:ee,useClass:Le},{provide:r.F,useFactory:function(t,e,n){return new Ae(t,e,n)},deps:[s.d,ee,r.z]}];let De=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:je,imports:[s.a]}),t})();var Re=n("8MG2"),Ne=n("spgP"),Pe=n("h+eY"),Ve=n("yvwu"),Fe=n("tyNb"),Me=n("WZmd"),Be=n("ws30");const ze=function(t){return["/","t",t]};function Ue(t,e){if(1&t&&(r.Rb(0,"a",17),r.Dc(1),r.Rb(2,"span",10),r.Dc(3),r.Qb(),r.Qb()),2&t){const t=r.bc();r.hc("routerLink",r.lc(3,ze,t.activeTrack.id)),r.zb(1),r.Fc(" ",t.activeTrack.name.length>40?t.activeTrack.name.slice(0,37)+"...":t.activeTrack.name," "),r.zb(2),r.Fc("Track: ",t.activeTrack.name,"")}}function He(t,e){if(1&t&&(r.Rb(0,"clr-dropdown-menu",18),r.Rb(1,"a",19),r.Dc(2,"Settings"),r.Qb(),r.Rb(3,"a",20),r.Dc(4,"Login"),r.Qb(),r.Rb(5,"a",20),r.Dc(6),r.Qb(),r.Qb()),2&t){const t=r.bc();r.zb(3),r.hc("disabled",!0),r.zb(2),r.hc("disabled",!0),r.zb(1),r.Fc("Version ",t.version,"")}}let Ge=(()=>{class t{constructor(t,e){this.settings=t,this.exerciseService=e,this.backendConnected=!1,this.version=i.a.version}ngOnInit(){this.backendConnectSubscription=this.settings.isConnected.subscribe({next:t=>this.backendConnected=t}),this.activeTrackSubscription=this.exerciseService.activeTrack.subscribe({next:t=>this.activeTrack=t})}onConnect(){this.settings.requestBackendConnect()}ngOnDestroy(){this.backendConnectSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Me.a),r.Lb(Be.a))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-header"]],decls:24,vars:4,consts:[[1,"header-6"],[1,"branding"],["routerLink","/",1,"nav-link"],["src","assets/logo.png"],[1,"title"],[1,"header-nav",3,"clr-nav-level"],["routerLink","/tracks","routerLinkActive","active",1,"nav-link","nav-text"],["class","nav-link nav-text tooltip tooltip-lg tooltip-bottom-right","routerLinkActive","active",3,"routerLink",4,"ngIf"],[1,"header-actions"],["href","javascript://","aria-label","connection status",1,"nav-link","nav-icon","tooltip","tooltip-md","tooltip-bottom-left",3,"click"],[1,"tooltip-content"],["routerLink","/console","routerLinkActive","active","aria-label","console",1,"nav-link","nav-icon"],["shape","terminal"],["clrDropdownTrigger","","aria-label","toggle settings menu",1,"nav-icon"],["shape","cog"],["shape","caret down"],["clrPosition","bottom-right",4,"clrIfOpen"],["routerLinkActive","active",1,"nav-link","nav-text","tooltip","tooltip-lg","tooltip-bottom-right",3,"routerLink"],["clrPosition","bottom-right"],["routerLink","/settings","clrDropdownItem",""],["clrDropdownItem","",3,"disabled"]],template:function(t,e){1&t&&(r.Rb(0,"clr-header",0),r.Rb(1,"div",1),r.Rb(2,"a",2),r.Mb(3,"img",3),r.Rb(4,"span",4),r.Dc(5,"hydrocode"),r.Qb(),r.Qb(),r.Qb(),r.Rb(6,"div",5),r.Rb(7,"a",6),r.Dc(8,"Tracks"),r.Qb(),r.Bc(9,Ue,4,5,"a",7),r.Qb(),r.Rb(10,"div",8),r.Rb(11,"a",9),r.Zb("click",(function(){return e.onConnect()})),r.Mb(12,"clr-icon"),r.Rb(13,"span",10),r.Dc(14,"The backend server is: "),r.Rb(15,"code"),r.Dc(16),r.Qb(),r.Qb(),r.Qb(),r.Rb(17,"a",11),r.Mb(18,"clr-icon",12),r.Qb(),r.Rb(19,"clr-dropdown"),r.Rb(20,"button",13),r.Mb(21,"clr-icon",14),r.Mb(22,"clr-icon",15),r.Qb(),r.Bc(23,He,7,3,"clr-dropdown-menu",16),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.zb(6),r.hc("clr-nav-level",1),r.zb(3),r.hc("ngIf",e.activeTrack),r.zb(3),r.Ab("shape",e.backendConnected?"link":"unlink"),r.zb(4),r.Fc("'",e.backendConnected?"online":"offline","'"))},directives:[Re.w,Re.X,Fe.f,Re.J,Fe.e,we.o,Re.x,Re.s,Re.v,Re.A,Re.u,Re.t],styles:[".branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:50px;height:auto;width:auto}.branding[_ngcontent-%COMP%]   span.title[_ngcontent-%COMP%]{margin-left:.6rem}"]}),t})(),qe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-page-layout"]],decls:6,vars:0,consts:[[1,"content-container"],[1,"content-area","main"],[1,"wrapper"]],template:function(t,e){1&t&&(r.Rb(0,"clr-main-container"),r.Mb(1,"app-header"),r.Rb(2,"div",0),r.Rb(3,"div",1),r.Rb(4,"div",2),r.Mb(5,"router-outlet"),r.Qb(),r.Qb(),r.Qb(),r.Qb())},directives:[Re.G,Re.W,Ge,Fe.h],styles:[".content-area.main[_ngcontent-%COMP%]{padding:0;overflow-y:auto}.content-area.main[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{max-width:992px;margin:auto}@media (max-width:991px){.content-area.main[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{padding:1rem}}"]}),t})(),Qe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Fb({type:t,selectors:[["app-full-width-layout"]],decls:5,vars:0,consts:[[1,"content-container",2,"height","calc(100vh - 60px)"],[1,"content-area",2,"padding","0px"]],template:function(t,e){1&t&&(r.Rb(0,"clr-main-container"),r.Mb(1,"app-header"),r.Rb(2,"div",0),r.Rb(3,"div",1),r.Mb(4,"router-outlet"),r.Qb(),r.Qb(),r.Qb())},directives:[Re.G,Re.W,Ge,Fe.h],styles:[""]}),t})();const We=[{path:"home",component:Qe,loadChildren:()=>Promise.all([n.e(2),n.e(8)]).then(n.bind(null,"ry1Y")).then(t=>t.HomePageModule)},{path:"console",component:Qe,loadChildren:()=>Promise.all([n.e(2),n.e(3),n.e(11)]).then(n.bind(null,"gMlY")).then(t=>t.ConsolePageModule)},{path:"settings",component:qe,loadChildren:()=>n.e(7).then(n.bind(null,"qnT9")).then(t=>t.SettingsPageModule)},{path:"e",component:Qe,loadChildren:()=>Promise.all([n.e(2),n.e(3),n.e(0),n.e(12)]).then(n.bind(null,"wJ9R")).then(t=>t.ExercisePageModule)},{path:"tracks",component:Qe,loadChildren:()=>Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"A8Rt")).then(t=>t.TracksPageModule)},{path:"t",component:qe,loadChildren:()=>Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"LDmJ")).then(t=>t.TrackPageModule)},{path:"",redirectTo:"home",pathMatch:"full"}];let $e=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[Fe.g.forRoot(We)],Fe.g]}),t})();var Ke=n("3Pt+");function Ze(t,e){1&t&&r.Mb(0,"span",8)}function Je(t,e){1&t&&(r.Rb(0,"div",9),r.Mb(1,"clr-icon",10),r.Rb(2,"span"),r.Dc(3,"Success! Backend found - we start is a second."),r.Qb(),r.Qb())}function Ye(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div"),r.Rb(1,"clr-tabs"),r.Rb(2,"clr-tab"),r.Rb(3,"button",11),r.Dc(4,"Local"),r.Qb(),r.Rb(5,"clr-tab-content"),r.Rb(6,"p"),r.Dc(7,"No backend was found. You need the "),r.Rb(8,"i"),r.Dc(9,"hydenv"),r.Qb(),r.Dc(10," CLI running."),r.Qb(),r.Rb(11,"p"),r.Dc(12," The CLI will issue all SQL queries to the PostgreSQL server connected in the CLI. This way, you can solve exercises locally or connect to a cloud instance if any was provided to you. "),r.Qb(),r.Rb(13,"p"),r.Dc(14,"Open a command prompt. If you have saved a connection before:"),r.Qb(),r.Rb(15,"code"),r.Rb(16,"pre"),r.Dc(17,"python -m hydenv exercises start"),r.Qb(),r.Qb(),r.Rb(18,"p"),r.Dc(19,"In case you need to specify the PostgreSQL server, run:"),r.Qb(),r.Rb(20,"code"),r.Rb(21,"pre"),r.Dc(22,"python -m hydenv exercises start --connection=postgresql://user:password@host:port/dbname"),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Rb(23,"clr-tab"),r.Rb(24,"button",12),r.Dc(25,"Remote"),r.Qb(),r.Rb(26,"clr-tab-content"),r.Rb(27,"clr-alert",13),r.Rb(28,"clr-alert-item"),r.Rb(29,"span",14),r.Dc(30," This feature is experimental and be used at your own risk. It can cause costs. "),r.Qb(),r.Qb(),r.Qb(),r.Rb(31,"p"),r.Dc(32," To directly connct to a remote backend, you need that hosted. Hosting causes costs and has to be paid. If you didn't set this up yourself, you need to run the backend locally. "),r.Qb(),r.Rb(33,"p"),r.Dc(34,"Otherwise type the backend url in below"),r.Qb(),r.Rb(35,"input",15),r.Zb("ngModelChange",(function(e){return r.rc(t),r.bc(2).backendUrl=e})),r.Qb(),r.Qb(),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.bc(2);r.zb(27),r.hc("clrAlertClosable",!1),r.zb(8),r.hc("ngModel",t.backendUrl)}}function Xe(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",16),r.Zb("click",(function(){r.rc(t);const e=r.bc(2);return e.onChangeBackend(e.backendUrl),e.retry()})),r.Dc(1,"Connect"),r.Qb()}}function tn(t,e){if(1&t){const t=r.Sb();r.Rb(0,"button",16),r.Zb("click",(function(){r.rc(t);const e=r.bc(2);return e.onChangeBackend(),e.retry()})),r.Dc(1,"Retry"),r.Qb()}}function en(t,e){if(1&t){const t=r.Sb();r.Rb(0,"clr-modal",1),r.Zb("clrModalOpenChange",(function(e){return r.rc(t),r.bc().active=e})),r.Rb(1,"div",2),r.Rb(2,"p"),r.Bc(3,Ze,1,0,"span",3),r.Qb(),r.Bc(4,Je,4,0,"div",4),r.Bc(5,Ye,36,2,"div",5),r.Qb(),r.Rb(6,"div",6),r.Bc(7,Xe,2,0,"button",7),r.Bc(8,tn,2,0,"button",7),r.Qb(),r.Qb()}if(2&t){const t=r.bc();r.hc("clrModalOpen",t.active)("clrModalSize","lg"),r.zb(3),r.hc("ngIf",t.pending),r.zb(1),r.hc("ngIf",t.triggerFinished),r.zb(1),r.hc("ngIf",t.triggerOptions),r.zb(2),r.hc("ngIf",t.backendUrl&&""!==t.backendUrl),r.zb(1),r.hc("ngIf",!t.backendUrl||""==t.backendUrl)}}let nn=(()=>{class t{constructor(t){this.settings=t,this.active=!1,this.pending=!0,this.triggerFinished=!1,this.triggerOptions=!1}ngOnInit(){this.settings.connectRequested.subscribe({next:()=>{this.stopCollapsing(),this.resetComponent(),this.findBackend()}})}resetComponent(){this.active=!0,this.pending=!0,this.triggerFinished=!1,this.triggerOptions=!1}onChangeBackend(t){this.settings.changeBackend(t||"http://localhost:5000/")}findBackend(){this.settings.checkBackendConnection().then(t=>{this.pending=!1,t?this.startCollapsing():this.triggerOptions=!0})}retry(){this.pending=!0,this.triggerOptions=!1,this.findBackend()}startCollapsing(){this.pending=!1,this.triggerOptions=!1,this.triggerFinished=!0,this.collapseTimeoutId=window.setTimeout(()=>this.active=!1,800)}stopCollapsing(){this.collapseTimeoutId&&(clearTimeout(this.collapseTimeoutId),this.collapseTimeoutId=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Me.a))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-startup"]],decls:1,vars:1,consts:[[3,"clrModalOpen","clrModalSize","clrModalOpenChange",4,"ngIf"],[3,"clrModalOpen","clrModalSize","clrModalOpenChange"],[1,"modal-body"],["class","spinner spinner-inverse",4,"ngIf"],["class","success",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"spinner","spinner-inverse"],[1,"success"],["shape","check","size","72"],["clrTabLink","","id","local"],["clrTabLink",""],["clrAlertType","warning",3,"clrAlertClosable"],[1,"alert-text"],["clrInput","","type","text",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&r.Bc(0,en,9,7,"clr-modal",0),2&t&&r.hc("ngIf",e.active)},directives:[we.o,Re.H,Re.I,Re.x,Re.R,Re.gb,Re.O,Re.Q,Re.Z,Re.P,Re.b,Re.c,Re.d,Ke.b,Re.B,Ke.j,Ke.l],styles:[".modal-body[_ngcontent-%COMP%]{text-align:center}.modal-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]}),t})(),rn=(()=>{class t{constructor(t){this.settings=t}ngOnInit(){this.settings.checkGoogleAnalyticsEnabled(),this.settings.checkQueryHistoryEnabled()}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(Me.a))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Mb(0,"app-startup"),r.Mb(1,"router-outlet"))},directives:[nn,Fe.h],styles:[""]}),t})(),sn=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[we.c,Re.a,Fe.g]]}),t})(),on=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},imports:[[we.c,Re.a,Ke.g]]}),t})(),an=(()=>{class t{}return t.\u0275mod=r.Jb({type:t,bootstrap:[rn]}),t.\u0275inj=r.Ib({factory:function(e){return new(e||t)},providers:[Pe.h,{provide:Pe.f,useValue:{anonymize_ip:!0}},{provide:Pe.e,useValue:!0},{provide:Pe.g,useValue:!0},{provide:Pe.a,useValue:i.a.firebase.projectId},{provide:Pe.b,useValue:i.a.version}],imports:[[s.a,$e,o.b,Re.a,Ne.a.initializeApp(i.a.firebase),Pe.d,De,Ve.b.forRoot(),sn,on]]}),t})();i.a.production&&Object(r.T)(),s.c().bootstrapModule(an).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("UBlB"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==c)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new p(i,a),u=0,l=Object.keys(r);u<l.length;u++){var h=l[u];"_"!==h.slice(-1)&&(h in c&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),c[h]=r[h])}return c},t}();function b(t,e){return t.replace(m,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var y=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=v(u(s[0])||""),n=v(u(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(c^u),s=1518500249):(i=a^c^u,s=1859775393):r<60?(i=a&c|u&(a|c),s=2400959708):(i=a^c^u,s=3395469782);var h=(o<<5|o>>>27)+i+l+s+n[r]&4294967295;l=u,u=c,c=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function S(){}function E(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}var C=144e5;e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=p,e.MAX_VALUE_MILLIS=C,e.RANDOM_FACTOR=.5,e.Sha1=_,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=c,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return c.encodeByteArray(e,!0)},e.calculateBackoffMillis=function(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(C,r+i)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=E,e.getUA=f,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!=indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r];n(s[0],s[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(E(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(E(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,1]]]);