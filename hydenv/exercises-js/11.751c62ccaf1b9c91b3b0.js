(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{A8Rt:function(c,t,e){"use strict";e.r(t),e.d(t,"TracksPageModule",(function(){return E}));var i=e("ofXK"),s=e("fXoL"),n=e("ws30"),r=e("aLtf"),a=e("tyNb"),o=e("8MG2"),b=e("pgGW");function f(c,t){1&c&&s.Mb(0,"clr-icon",15)}function l(c,t){if(1&c&&s.Mb(0,"clr-icon",18),2&c){const c=s.ac(3);s.Ab("shape",c.track.options.image.src)}}function p(c,t){if(1&c&&s.Mb(0,"img",19),2&c){const c=s.ac(3);s.fc("src",c.track.options.image.src,s.rc)}}function u(c,t){if(1&c&&(s.Pb(0),s.zc(1,l,1,1,"clr-icon",16),s.zc(2,p,1,1,"img",17),s.Ob()),2&c){const c=s.ac(2);s.zb(1),s.fc("ngIf","icon"===c.track.options.image.type),s.zb(1),s.fc("ngIf","icon"!==c.track.options.image.type)}}function g(c,t){if(1&c&&(s.Pb(0),s.Rb(1,"div",10),s.zc(2,f,1,0,"clr-icon",11),s.zc(3,u,3,2,"ng-container",12),s.Qb(),s.Rb(4,"div",13),s.Mb(5,"p",14),s.Qb(),s.Ob()),2&c){const c=s.ac();s.zb(2),s.fc("ngIf",!c.track.options.image),s.zb(1),s.fc("ngIf",c.track.options.image),s.zb(2),s.fc("innerHTML",c.track.description,s.qc)}}function k(c,t){if(1&c){const c=s.Sb();s.Rb(0,"button",20),s.Yb("click",(function(){return s.pc(c),s.ac().showExercises=!0})),s.Bc(1,"Exercises"),s.Qb()}}function d(c,t){if(1&c){const c=s.Sb();s.Rb(0,"button",20),s.Yb("click",(function(){return s.pc(c),s.ac().showExercises=!1})),s.Bc(1,"Hide"),s.Qb()}}function h(c,t){if(1&c&&(s.Rb(0,"div",13),s.Mb(1,"app-exercise-list",21),s.Qb()),2&c){const c=s.ac();s.zb(1),s.fc("exercises",c.allExercises)}}let x=(()=>{class c{constructor(c,t,e){this.exerciseService=c,this.progress=t,this.router=e,this.allExercises=[],this.showExercises=!1}ngOnInit(){this.activeTrackSubscription=this.exerciseService.activeTrack.subscribe({next:c=>this.activeTrackId=c?c.id:null}),this.allExercises=this.track.sessions.flatMap(c=>c.exercises),this.finishedExercises=this.allExercises.map(c=>Number(this.progress.isSolved(c.id))).reduce((c,t)=>c+t)}onStartTrack(){this.exerciseService.activeTrack.next(Object.assign({},this.track)),this.router.navigate(["/","t",this.track.id])}ngOnDestroy(){this.activeTrackSubscription.unsubscribe()}}return c.\u0275fac=function(t){return new(t||c)(s.Lb(n.a),s.Lb(r.a),s.Lb(a.b))},c.\u0275cmp=s.Fb({type:c,selectors:[["app-track-card"]],inputs:{track:"track"},decls:20,vars:14,consts:[[1,"card"],[1,"card-header"],[4,"ngIf","ngIfElse"],[1,"card-footer"],[1,"progress","tooltip","tooltip-lg","tooltip-top"],[3,"max","value"],[1,"tooltip-content"],["type","button","class","btn btn-sm btn-link",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-link",3,"disabled","click"],["exercises",""],[1,"card-img"],["shape","bank","size","72",4,"ngIf"],[4,"ngIf"],[1,"card-block"],[1,"card-text",3,"innerHTML"],["shape","bank","size","72"],["size","72",4,"ngIf"],[3,"src",4,"ngIf"],["size","72"],[3,"src"],["type","button",1,"btn","btn-sm","btn-link",3,"click"],[3,"exercises"]],template:function(c,t){if(1&c&&(s.Rb(0,"div",0),s.Rb(1,"div",1),s.Bc(2),s.Qb(),s.zc(3,g,6,3,"ng-container",2),s.Rb(4,"div",3),s.Rb(5,"div",4),s.Mb(6,"progress",5),s.Rb(7,"span",6),s.Bc(8," You progress on "),s.Rb(9,"code"),s.Bc(10),s.Qb(),s.Mb(11,"br"),s.Bc(12),s.bc(13,"number"),s.Qb(),s.Qb(),s.zc(14,k,2,0,"button",7),s.zc(15,d,2,0,"button",7),s.Rb(16,"button",8),s.Yb("click",(function(){return t.onStartTrack()})),s.Bc(17,"Start"),s.Qb(),s.Qb(),s.Qb(),s.zc(18,h,2,1,"ng-template",null,9,s.Ac)),2&c){const c=s.lc(19);s.zb(2),s.Cc(t.track.name),s.zb(1),s.fc("ngIf",!t.showExercises)("ngIfElse",c),s.zb(3),s.fc("max",t.allExercises.length)("value",t.finishedExercises),s.zb(4),s.Cc(t.track.name.length>25?t.track.name.slice(0,22)+"...":t.track.name),s.zb(2),s.Fc(" ",t.finishedExercises," of ",t.allExercises.length," (",s.cc(13,12,t.finishedExercises/t.allExercises.length*100)," %) "),s.zb(2),s.fc("ngIf",!t.showExercises),s.zb(1),s.fc("ngIf",t.showExercises),s.zb(1),s.fc("disabled",t.activeTrackId&&t.activeTrackId===t.track.id)}},directives:[i.o,o.w,b.a],pipes:[i.e],styles:[""]}),c})();function m(c,t){if(1&c&&(s.Pb(0),s.Rb(1,"div",2),s.Mb(2,"app-track-card",3),s.Qb(),s.Ob()),2&c){const c=t.$implicit;s.zb(2),s.fc("track",c)}}let v=(()=>{class c{constructor(c){this.exerciseService=c,this.tracks=[]}ngOnInit(){this.tracksSubscription=this.exerciseService.tracks.subscribe({next:c=>this.tracks=c})}ngOnDestroy(){this.tracksSubscription.unsubscribe()}}return c.\u0275fac=function(t){return new(t||c)(s.Lb(n.a))},c.\u0275cmp=s.Fb({type:c,selectors:[["app-tracks-page"]],decls:2,vars:1,consts:[[1,"clr-row"],[4,"ngFor","ngForOf"],[1,"clr-col-4"],[3,"track"]],template:function(c,t){1&c&&(s.Rb(0,"div",0),s.zc(1,m,3,1,"ng-container",1),s.Qb()),2&c&&(s.zb(1),s.fc("ngForOf",t.tracks))},directives:[i.n,x],styles:[".card-img[_ngcontent-%COMP%]{text-align:center}.card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:300px}"]}),c})();var z=e("Yv6K");let I=(()=>{class c{}return c.\u0275mod=s.Jb({type:c}),c.\u0275inj=s.Ib({factory:function(t){return new(t||c)},imports:[[i.c,a.f,o.a,z.a]]}),c})(),E=(()=>{class c{}return c.\u0275mod=s.Jb({type:c}),c.\u0275inj=s.Ib({factory:function(t){return new(t||c)},imports:[[i.c,a.f.forChild([{path:"",component:v,pathMatch:"full"}]),o.a,I]]}),c})()}}]);