(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{LDmJ:function(s,e,t){"use strict";t.r(e),t.d(e,"TrackPageModule",(function(){return D}));var c=t("ofXK"),i=t("tyNb"),r=t("8MG2"),n=t("fXoL"),a=t("ws30"),o=t("aLtf");function l(s,e){if(1&s&&(n.Pb(0,"div",2),n.Kb(1,"progress",3),n.Ob()),2&s){const s=n.Yb();n.yb(1),n.dc("max",s.total)("value",s.solved)}}function b(s,e){if(1&s&&(n.Nb(0),n.Kb(1,"clr-progress-bar",4),n.Mb()),2&s){const s=n.Yb();n.yb(1),n.dc("clrMax",s.total)("clrValue",s.solved)("clrDisplayval",s.solved/s.total*100+"%")}}function d(s,e){if(1&s&&(n.Nb(0),n.Pb(1,"div",5),n.Pb(2,"label",6),n.yc(3,"All"),n.Ob(),n.Kb(4,"clr-progress-bar",7),n.Ob(),n.Pb(5,"div",5),n.Pb(6,"label",8),n.yc(7,"Mandatory"),n.Ob(),n.Kb(8,"clr-progress-bar",9),n.Ob(),n.Mb()),2&s){const s=n.Yb();n.yb(4),n.dc("clrMax",s.total)("clrValue",s.solved)("clrDisplayval",(s.solved/s.total*100).toFixed(0)+" %"),n.yb(4),n.dc("clrMax",s.mandatoryTotal)("clrValue",s.mandatorySolved)("clrDisplayval",(s.mandatorySolved/s.mandatoryTotal*100).toFixed(0)+" %")}}let g=(()=>{class s{constructor(s){this.progress=s,this.sessions="all",this.mode="simple",this.exercises=[],this.assignments=[]}set track(s){this.trackCache=s,this.getExercises(),this.update()}ngOnInit(){this.assignmentSubscription=this.progress.progress.subscribe({next:s=>{this.assignments=s,this.update()}})}getExercises(){this.exercises="all"===this.sessions?this.trackCache.sessions.flatMap(s=>s.exercises):this.trackCache.sessions.filter(s=>this.sessions.includes(s.name)).flatMap(s=>s.exercises)}update(){this.total=this.exercises.length,this.mandatoryTotal=this.exercises.filter(s=>s.mandatory).length;const s=this.assignments.filter(s=>s.correct).map(s=>s.exerciseId);this.solved=this.exercises.filter(e=>s.includes(e.id)).length,this.mandatorySolved=this.exercises.filter(e=>e.mandatory&&s.includes(e.id)).length}ngOnDestroy(){this.assignmentSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(n.Jb(o.a))},s.\u0275cmp=n.Db({type:s,selectors:[["app-session-progress-bar"]],inputs:{track:"track",sessions:"sessions",mode:"mode"},decls:3,vars:3,consts:[["class","progress",4,"ngIf"],[4,"ngIf"],[1,"progress"],[3,"max","value"],["clrLabeled","",3,"clrMax","clrValue","clrDisplayval"],[1,"progress-block"],["for","all"],["id","all","clrLabeled","",3,"clrMax","clrValue","clrDisplayval"],["for","mand"],["id","mand","clrLabeled","",3,"clrMax","clrValue","clrDisplayval"]],template:function(s,e){1&s&&(n.wc(0,l,2,2,"div",0),n.wc(1,b,2,3,"ng-container",1),n.wc(2,d,9,6,"ng-container",1)),2&s&&(n.dc("ngIf","card"===e.mode),n.yb(1),n.dc("ngIf","simple"===e.mode),n.yb(1),n.dc("ngIf","full"===e.mode))},directives:[c.o,r.C,r.x],styles:[""]}),s})();var p=t("pgGW");function h(s,e){1&s&&(n.Nb(0),n.Kb(1,"clr-icon",6),n.Mb())}function f(s,e){if(1&s&&n.yc(0),2&s){const s=n.Yb(2).$implicit,e=n.Yb();n.Bc(" ",e.sessionProgress[s.name]," / ",s.exercises.length," ")}}function y(s,e){if(1&s&&(n.Nb(0),n.wc(1,h,2,0,"ng-container",4),n.wc(2,f,1,2,"ng-template",null,5,n.xc),n.Mb()),2&s){const s=n.jc(3),e=n.Yb().$implicit,t=n.Yb();n.yb(1),n.dc("ngIf",t.sessionProgress[e.name]===e.exercises.length)("ngIfElse",s)}}function u(s,e){if(1&s&&(n.Nb(0),n.yc(1),n.Mb()),2&s){const s=n.Yb().$implicit;n.yb(1),n.Ac(" 0 / ",s.exercises.length," ")}}function m(s,e){if(1&s&&(n.Pb(0,"clr-dg-row",2),n.Pb(1,"clr-dg-cell"),n.yc(2),n.Ob(),n.Pb(3,"clr-dg-cell"),n.yc(4),n.Ob(),n.Pb(5,"clr-dg-cell"),n.wc(6,y,4,2,"ng-container",3),n.wc(7,u,2,1,"ng-container",3),n.Ob(),n.Ob()),2&s){const s=e.$implicit,t=n.Yb();n.dc("clrDgItem",s),n.yb(2),n.zc(s.name),n.yb(2),n.zc(s.exercises.length),n.yb(2),n.dc("ngIf",t.sessionProgress[s.name]),n.yb(1),n.dc("ngIf",!t.sessionProgress[s.name])}}function v(s,e){if(1&s&&(n.Pb(0,"clr-dg-detail"),n.Pb(1,"clr-dg-detail-header"),n.yc(2),n.Ob(),n.Pb(3,"clr-dg-detail-body"),n.Kb(4,"p",7),n.Kb(5,"app-exercise-list",8),n.Ob(),n.Ob()),2&s){const s=e.$implicit;n.yb(2),n.zc(s.name),n.yb(2),n.dc("innerHTML",s.description,n.oc),n.yb(1),n.dc("exercises",s.exercises)}}let O=(()=>{class s{constructor(s){this.progress=s,this.exercisesOnly=!1,this.sessionProgress={}}ngOnInit(){this.track.sessions.forEach(s=>{this.sessionProgress[s.name]=s.exercises.map(s=>this.progress.isSolved(s.id)).filter(s=>s).length})}}return s.\u0275fac=function(e){return new(e||s)(n.Jb(o.a))},s.\u0275cmp=n.Db({type:s,selectors:[["app-session-list"]],inputs:{track:"track",exercisesOnly:"exercisesOnly"},decls:9,vars:1,consts:[[3,"clrDgItem",4,"ngFor","ngForOf"],[4,"clrIfDetail"],[3,"clrDgItem"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["notFinished",""],["shape","check"],[3,"innerHTML"],[3,"exercises"]],template:function(s,e){1&s&&(n.Pb(0,"clr-datagrid"),n.Pb(1,"clr-dg-column"),n.yc(2,"Session"),n.Ob(),n.Pb(3,"clr-dg-column"),n.yc(4,"Exercises"),n.Ob(),n.Pb(5,"clr-dg-column"),n.yc(6,"Progress"),n.Ob(),n.wc(7,m,8,5,"clr-dg-row",0),n.wc(8,v,6,3,"clr-dg-detail",1),n.Ob()),2&s&&(n.yb(7),n.dc("ngForOf",e.track.sessions))},directives:[r.h,r.N,r.P,r.J,r.Q,r.j,r.M,c.n,r.u,r.n,r.O,r.i,r.L,c.o,r.t,r.k,r.m,r.l,p.a],styles:[""]}),s})();function k(s,e){if(1&s&&(n.Pb(0,"a",15),n.Pb(1,"span",16),n.yc(2),n.Ob(),n.Pb(3,"span",17),n.yc(4),n.Ob(),n.Ob()),2&s){const s=e.$implicit;n.fc("href","https://github.com/",s,"",n.pc),n.yb(2),n.Ac(" ",s," "),n.yb(2),n.Ac("Visit ",s," on Github.")}}function x(s,e){if(1&s&&(n.Pb(0,"div"),n.yc(1," Lecturers: "),n.wc(2,k,5,3,"a",14),n.Ob()),2&s){const s=n.Yb(2);n.yb(2),n.dc("ngForOf",s.track.admins)}}function P(s,e){if(1&s&&(n.Nb(0),n.Pb(1,"div",2),n.Pb(2,"clr-dropdown"),n.Pb(3,"button",3),n.Kb(4,"clr-icon",4),n.Ob(),n.Pb(5,"clr-dropdown-menu",5),n.Pb(6,"a",6),n.yc(7,"Edit"),n.Ob(),n.Pb(8,"a",6),n.yc(9,"Login"),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(10,"h1"),n.yc(11),n.Ob(),n.Pb(12,"div"),n.wc(13,x,3,1,"div",7),n.Ob(),n.Pb(14,"div",8),n.Pb(15,"div",9),n.yc(16," Description "),n.Ob(),n.Pb(17,"div",10),n.Kb(18,"div",11),n.Ob(),n.Ob(),n.Pb(19,"div",8),n.Pb(20,"div",9),n.yc(21," Progress "),n.Ob(),n.Pb(22,"div",10),n.Kb(23,"app-session-progress-bar",12),n.Ob(),n.Ob(),n.Pb(24,"div",8),n.Pb(25,"div",9),n.yc(26," Exercises "),n.Ob(),n.Pb(27,"div",10),n.Kb(28,"app-session-list",13),n.Ob(),n.Ob(),n.Mb()),2&s){const s=n.Yb();n.yb(6),n.dc("disabled",!0),n.yb(2),n.dc("disabled",!0),n.yb(3),n.zc(s.track.name),n.yb(2),n.dc("ngIf",s.track.admins),n.yb(5),n.dc("innerHTML",s.track.description,n.oc),n.yb(5),n.dc("track",s.track),n.yb(5),n.dc("track",s.track)}}function I(s,e){1&s&&(n.Pb(0,"i"),n.yc(1,"No track info found."),n.Ob())}let w=(()=>{class s{constructor(s,e){this.route=s,this.exerciseService=e,this.isSynced=!1}ngOnInit(){this.syncSubscription=this.exerciseService.syncFinished.subscribe({next:s=>{this.isSynced=s,this.isSynced&&this.trackId&&(this.track=this.exerciseService.getTrackById(this.trackId),this.isActive())}}),this.route.paramMap.subscribe({next:s=>{this.trackId=s.get("trackId"),this.isSynced&&(this.track=this.exerciseService.getTrackById(this.trackId),this.isActive())}})}isActive(){const s=this.exerciseService.activeTrack.getValue();!this.track||s&&this.track.id===s.id||this.exerciseService.activeTrack.next(this.track)}}return s.\u0275fac=function(e){return new(e||s)(n.Jb(i.a),n.Jb(a.a))},s.\u0275cmp=n.Db({type:s,selectors:[["app-track-page"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noTrack",""],[2,"float","right"],["clrDropdownTrigger",""],["shape","menu"],["clrPosition","bottom-right"],["clrDropdownItem","",3,"disabled"],[4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-block"],[1,"card-text",3,"innerHTML"],["mode","full",3,"track"],[3,"track"],["target","_blank","class","tooltip tooltip-md tooltip-bottom-right",3,"href",4,"ngFor","ngForOf"],["target","_blank",1,"tooltip","tooltip-md","tooltip-bottom-right",3,"href"],[1,"label","label-light-blue","clickable"],[1,"tooltip-content"]],template:function(s,e){if(1&s&&(n.wc(0,P,29,7,"ng-container",0),n.wc(1,I,2,0,"ng-template",null,1,n.xc)),2&s){const s=n.jc(2);n.dc("ngIf",e.track)("ngIfElse",s)}},directives:[c.o,r.o,r.r,r.t,r.q,r.p,g,O,c.n],styles:[""]}),s})();var M=t("Yv6K");let D=(()=>{class s{}return s.\u0275mod=n.Hb({type:s}),s.\u0275inj=n.Gb({factory:function(e){return new(e||s)},imports:[[c.c,r.a,i.f.forChild([{path:":trackId",component:w}]),M.a]]}),s})()}}]);