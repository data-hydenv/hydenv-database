(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{qnT9:function(t,e,n){"use strict";n.r(e),n.d(e,"SettingsPageModule",(function(){return D}));var s=n("ofXK"),i=n("tyNb"),o=n("8MG2"),c=n("fXoL");const r=new c.q("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:()=>window}:void 0);var b=n("XNiG");let a=(()=>{class t{constructor(t,e){this.document=t,this.window=e,this.copySubject=new b.a,this.copyResponse$=this.copySubject.asObservable(),this.config={}}configure(t){this.config=t}copy(t){if(!this.isSupported||!t)return this.pushCopyResponse({isSuccess:!1,content:t});const e=this.copyFromContent(t);return this.pushCopyResponse(e?{content:t,isSuccess:e}:{isSuccess:!1,content:t})}get isSupported(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window}isTargetValid(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")}copyFromInputElement(t,e=!0){try{this.selectTarget(t);const n=this.copyText();return this.clearSelection(e?t:void 0,this.window),n&&this.isCopySuccessInIE11()}catch(n){return!1}}isCopySuccessInIE11(){const t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))}copyFromContent(t,e=this.document.body){if(this.tempTextArea&&!e.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{e.appendChild(this.tempTextArea)}catch(s){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=t;const n=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),n}destroy(t=this.document.body){this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=void 0)}selectTarget(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length}copyText(){return this.document.execCommand("copy")}clearSelection(t,e){var n;t&&t.focus(),null===(n=e.getSelection())||void 0===n||n.removeAllRanges()}createTempTextArea(t,e){const n="rtl"===t.documentElement.getAttribute("dir");let s;return s=t.createElement("textarea"),s.style.fontSize="12pt",s.style.border="0",s.style.padding="0",s.style.margin="0",s.style.position="absolute",s.style[n?"right":"left"]="-9999px",s.style.top=(e.pageYOffset||t.documentElement.scrollTop)+"px",s.setAttribute("readonly",""),s}pushCopyResponse(t){this.copySubject.next(t)}pushCopyReponse(t){this.pushCopyResponse(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Vb(s.d),c.Vb(r,8))},t.\u0275prov=Object(c.Hb)({factory:function(){return new t(Object(c.Vb)(s.d),Object(c.Vb)(r,8))},token:t,providedIn:"root"}),t})(),l=(()=>{class t{constructor(t){this.clipboardSrv=t,this.cbOnSuccess=new c.n,this.cbOnError=new c.n}ngOnInit(){}ngOnDestroy(){this.clipboardSrv.destroy(this.container)}onClick(t){this.clipboardSrv.isSupported?this.targetElm&&this.clipboardSrv.isTargetValid(this.targetElm)?this.handleResult(this.clipboardSrv.copyFromInputElement(this.targetElm),this.targetElm.value,t):this.cbContent&&this.handleResult(this.clipboardSrv.copyFromContent(this.cbContent,this.container),this.cbContent,t):this.handleResult(!1,void 0,t)}handleResult(t,e,n){let s={isSuccess:t,event:n};t?(s=Object.assign(s,{content:e,successMessage:this.cbSuccessMsg}),this.cbOnSuccess.emit(s)):this.cbOnError.emit(s),this.clipboardSrv.pushCopyResponse(s)}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(a))},t.\u0275dir=c.Gb({type:t,selectors:[["","ngxClipboard",""]],hostBindings:function(t,e){1&t&&c.Zb("click",(function(t){return e.onClick(t.target)}))},inputs:{targetElm:["ngxClipboard","targetElm"],container:"container",cbContent:"cbContent",cbSuccessMsg:"cbSuccessMsg"},outputs:{cbOnSuccess:"cbOnSuccess",cbOnError:"cbOnError"}}),t})(),h=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[s.c]]}),t})();var u=n("WZmd"),d=n("rGdz");let p=(()=>{class t{constructor(t){this.settings=t,this.versions={}}ngOnInit(){this.versionSubscription=this.settings.versions.subscribe({next:t=>this.versions=t})}ngOnDestroy(){this.versionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-version"]],decls:53,vars:5,consts:[[1,"table","table-noborder"],[1,"left"],["role","tooltip","aria-haspopup","true",1,"tooltip","tooltip-lg"],["shape","help","size","14"],[1,"tooltip-content"]],template:function(t,e){1&t&&(c.Rb(0,"table",0),c.Rb(1,"thead"),c.Rb(2,"tr"),c.Rb(3,"th",1),c.Dc(4,"Module"),c.Qb(),c.Rb(5,"th"),c.Dc(6,"Version"),c.Qb(),c.Qb(),c.Qb(),c.Rb(7,"tbody"),c.Rb(8,"tr"),c.Rb(9,"td",1),c.Dc(10,"Hydenv Exercise Application "),c.Rb(11,"a",2),c.Mb(12,"clr-icon",3),c.Rb(13,"span",4),c.Dc(14," This is the version of the Exercises GUI application. Reference it if you experience issues with the user interface. "),c.Qb(),c.Qb(),c.Qb(),c.Rb(15,"td"),c.Dc(16),c.Qb(),c.Qb(),c.Rb(17,"tr"),c.Rb(18,"td",1),c.Dc(19,"Tracks Sync Status "),c.Rb(20,"a",2),c.Mb(21,"clr-icon",3),c.Rb(22,"span",4),c.Dc(23," This is the last version, that has been synced from our database to your device. Reference this version in issues with exercises that might not be up to date. "),c.Qb(),c.Qb(),c.Qb(),c.Rb(24,"td"),c.Dc(25),c.Qb(),c.Qb(),c.Rb(26,"tr"),c.Rb(27,"td",1),c.Dc(28,"Exercises Sync Status "),c.Rb(29,"a",2),c.Mb(30,"clr-icon",3),c.Rb(31,"span",4),c.Dc(32," This is the last version, that has been synced from our database to your device. Reference this version in issues with tracks that might not be up to date. "),c.Qb(),c.Qb(),c.Qb(),c.Rb(33,"td"),c.Dc(34),c.Qb(),c.Qb(),c.Rb(35,"tr"),c.Rb(36,"td",1),c.Dc(37,"Backend CLI Version "),c.Rb(38,"a",2),c.Mb(39,"clr-icon",3),c.Rb(40,"span",4),c.Dc(41," The backend is a local webserver started by the hydenv CLI. Check this version against the latest version on PyPI: https://pypi.org/project/hydenv/ "),c.Qb(),c.Qb(),c.Qb(),c.Rb(42,"td"),c.Dc(43),c.Qb(),c.Qb(),c.Rb(44,"tr"),c.Rb(45,"td",1),c.Dc(46,"Backend Python Version "),c.Rb(47,"a",2),c.Mb(48,"clr-icon",3),c.Rb(49,"span",4),c.Dc(50," The Backend is written in Python. Your Python version should be 3.7 or later. Reference this version if you experience general problems with a non-starting CLI. "),c.Qb(),c.Qb(),c.Qb(),c.Rb(51,"td"),c.Dc(52),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t&&(c.zb(16),c.Ec(e.versions.app),c.zb(9),c.Ec(e.versions.tracks?e.versions.tracks:"not in sync"),c.zb(9),c.Ec(e.versions.exercises?e.versions.exercises:"not in sync"),c.zb(9),c.Ec(e.versions.backend?e.versions.backend:"not connected"),c.zb(9),c.Ec(e.versions.python?e.versions.python:"not connected"))},directives:[o.x],styles:[""]}),t})();function y(t,e){if(1&t&&(c.Rb(0,"clr-dg-cell"),c.Dc(1),c.Qb()),2&t){const t=c.bc().$implicit;c.zb(1),c.Fc("",t.result.data.length," rows returned")}}function g(t,e){1&t&&(c.Rb(0,"clr-dg-cell"),c.Rb(1,"i"),c.Dc(2,"no result"),c.Qb(),c.Qb())}function m(t,e){if(1&t&&(c.Rb(0,"clr-dg-row"),c.Rb(1,"clr-dg-cell"),c.Dc(2),c.cc(3,"date"),c.Qb(),c.Rb(4,"clr-dg-cell"),c.Dc(5),c.Qb(),c.Bc(6,y,2,1,"clr-dg-cell",5),c.Bc(7,g,3,0,"clr-dg-cell",5),c.Rb(8,"clr-dg-cell"),c.Rb(9,"button",6),c.Mb(10,"clr-icon",7),c.Rb(11,"span",8),c.Dc(12,"Copy SQL to clipboard"),c.Qb(),c.Qb(),c.Qb(),c.Qb()),2&t){const t=e.$implicit;c.zb(2),c.Ec(c.ec(3,5,t.date,"d. MMM yyyy HH:mm")),c.zb(3),c.Ec(t.body.content.length>37?t.body.content.slice(0,37)+"...":t.body.content),c.zb(1),c.hc("ngIf",t.result),c.zb(1),c.hc("ngIf",!t.result),c.zb(2),c.hc("cbContent",t.body.content)}}const f=function(){return[10,25,50,100]};let R=(()=>{class t{constructor(t){this.history=t,this.queries=[]}ngOnInit(){this.queriesSubcription=this.history.history.subscribe({next:t=>this.queries=t})}ngOnDestroy(){this.queriesSubcription.unsubscribe()}onDeleteHistory(){this.history.deleteHistory()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(d.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-history"]],decls:20,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"clrDgPageSize"],["pagination",""],[3,"clrPageSizeOptions"],[1,"btn","btn-link",3,"click"],[4,"ngIf"],["ngxClipboard","","role","tooltip",1,"btn","btn-icon","tooltip","tooltip-md",3,"cbContent"],["shape","copy-to-clipboard"],[1,"tooltip-content"]],template:function(t,e){if(1&t&&(c.Rb(0,"h4"),c.Dc(1,"Stored Data"),c.Qb(),c.Rb(2,"clr-datagrid"),c.Rb(3,"clr-dg-column"),c.Dc(4,"Date"),c.Qb(),c.Rb(5,"clr-dg-column"),c.Dc(6,"Query"),c.Qb(),c.Rb(7,"clr-dg-column"),c.Dc(8,"Result"),c.Qb(),c.Rb(9,"clr-dg-column"),c.Dc(10,"Actions"),c.Qb(),c.Bc(11,m,13,8,"clr-dg-row",0),c.Rb(12,"clr-dg-footer"),c.Rb(13,"clr-dg-pagination",1,2),c.Rb(15,"clr-dg-page-size",3),c.Dc(16,"Show"),c.Qb(),c.Dc(17),c.Qb(),c.Rb(18,"button",4),c.Zb("click",(function(){return e.onDeleteHistory()})),c.Dc(19,"DELETE ALL"),c.Qb(),c.Qb(),c.Qb()),2&t){const t=c.nc(14);c.zb(11),c.hc("ngForOf",e.queries),c.zb(2),c.hc("clrDgPageSize",25),c.zb(2),c.hc("clrPageSizeOptions",c.kc(6,f)),c.zb(2),c.Hc(" ",t.firstItem+1," - ",t.lastItem+1," of ",t.totalItems," queries ")}},directives:[o.h,o.cb,o.eb,o.Y,o.fb,o.j,o.bb,s.n,o.n,o.q,o.p,o.r,o.db,o.i,o.ab,s.o,l,o.x],pipes:[s.e],styles:[""]}),t})();function Q(t,e){1&t&&(c.Rb(0,"div"),c.Mb(1,"app-history"),c.Qb())}let v=(()=>{class t{constructor(t,e){this.settings=t,this.history=e,this.backendStatus="offline",this.analyticsEnabled=!1,this.historyEnabled=!1}ngOnInit(){this.backendUrlSubscription=this.settings.backend.subscribe({next:t=>this.backendUrl=t}),this.backendStatusSubscription=this.settings.isConnected.subscribe({next:t=>this.backendStatus=t?"online":"offline"}),this.analyticsSubscription=this.settings.analyticsAllowed.subscribe({next:t=>this.analyticsEnabled=t}),this.historySubscription=this.history.enabled.subscribe({next:t=>this.historyEnabled=t})}ngOnDestroy(){this.backendUrlSubscription.unsubscribe(),this.backendStatusSubscription.unsubscribe(),this.analyticsSubscription.unsubscribe(),this.historySubscription.unsubscribe()}toggleAnalytics(){this.analyticsEnabled?this.settings.rejectGoogleAnalytics():this.settings.enableGoogleAnalytics()}toggleHistory(){this.historyEnabled?this.settings.rejectQueryHistory():this.settings.enabledQueryHistory()}}return t.\u0275fac=function(e){return new(e||t)(c.Lb(u.a),c.Lb(d.a))},t.\u0275cmp=c.Fb({type:t,selectors:[["app-settings-page"]],decls:52,vars:7,consts:[["href","https://github.com/data-hydenv/hydenv-database/issues/new","target","_blank",1,"btn","btn-primary"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"]],template:function(t,e){1&t&&(c.Rb(0,"h3"),c.Dc(1,"Used Versions"),c.Qb(),c.Mb(2,"app-version"),c.Rb(3,"h3"),c.Dc(4,"Backend"),c.Qb(),c.Rb(5,"p"),c.Dc(6," The connected API endpint is: "),c.Rb(7,"code"),c.Dc(8),c.Qb(),c.Dc(9,"."),c.Mb(10,"br"),c.Dc(11),c.Qb(),c.Rb(12,"h3"),c.Dc(13,"Problems?"),c.Qb(),c.Rb(14,"p"),c.Dc(15," This is an experimental application. Bug reports and feature requests are highly appreciated. "),c.Mb(16,"br"),c.Dc(17," Please use the Button below:\n"),c.Qb(),c.Rb(18,"a",0),c.Dc(19,"OPEN ISSUE ON GITHUB"),c.Qb(),c.Rb(20,"h3"),c.Dc(21,"Google Analytics"),c.Qb(),c.Rb(22,"p"),c.Dc(23," Google Analytics is currently "),c.Rb(24,"code"),c.Dc(25),c.Qb(),c.Dc(26," for this application.\n"),c.Qb(),c.Rb(27,"button",1),c.Zb("click",(function(){return e.toggleAnalytics()})),c.Dc(28),c.Qb(),c.Rb(29,"p"),c.Dc(30," You can enable Google Analytics on this page to send anonymous usage data."),c.Mb(31,"br"),c.Rb(32,"strong"),c.Dc(33,"This is completely optional and the application will work without it."),c.Qb(),c.Dc(34," We anonymize the IP before sending the data and don't track user profiles. Our main aim is to understand how the application is used and how it could be improved. We also log, without personal information or IP addresses, which exercises are solved on first tries and how often students fail on a specific exercise. "),c.Rb(35,"strong"),c.Dc(36,"We are not using usage data to provide personalized ads or any other service than the afforementioned and we won't do that in the future. "),c.Qb(),c.Qb(),c.Rb(37,"h3"),c.Dc(38,"Query History"),c.Qb(),c.Rb(39,"p"),c.Dc(40," The Query History is currently "),c.Rb(41,"code"),c.Dc(42),c.Qb(),c.Dc(43,".\n"),c.Qb(),c.Rb(44,"button",1),c.Zb("click",(function(){return e.toggleHistory()})),c.Dc(45),c.Qb(),c.Rb(46,"p"),c.Dc(47," You can enable query history for this application. If enabled, the application will store the queries you run and the results of these queries into the local storage of your browser. If there are too many queries, this might slow the application down. You can empty the query history below.\n"),c.Qb(),c.Bc(48,Q,2,0,"div",2),c.Mb(49,"p"),c.Mb(50,"p"),c.Mb(51,"p")),2&t&&(c.zb(8),c.Ec(e.backendUrl),c.zb(3),c.Fc(" The backend is ",e.backendStatus,"\n"),c.zb(14),c.Ec(e.analyticsEnabled?"enabled":"disabled"),c.zb(3),c.Fc(" ",e.analyticsEnabled?"REJECT":"ALLOW"," ANONYMOUS ANALYTICS\n"),c.zb(14),c.Ec(e.historyEnabled?"enabled":"disabled"),c.zb(3),c.Fc(" ",e.historyEnabled?"DISABLE":"ENABLE"," QUERY HISTORY\n"),c.zb(3),c.hc("ngIf",e.historyEnabled))},directives:[p,s.o,R],styles:[""]}),t})(),D=(()=>{class t{}return t.\u0275mod=c.Jb({type:t}),t.\u0275inj=c.Ib({factory:function(e){return new(e||t)},imports:[[s.c,i.g.forChild([{path:"",component:v,pathMatch:"full"}]),o.a,h]]}),t})()}}]);