(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{A8Rt:function(c,t,e){"use strict";e.r(t),e.d(t,"TracksPageModule",(function(){return z}));var i=e("ofXK"),n=e("fXoL"),s=e("ws30"),r=e("aLtf"),a=e("tyNb"),o=e("8MG2"),b=e("pgGW");function l(c,t){1&c&&n.Mb(0,"clr-icon",15)}function p(c,t){if(1&c&&n.Mb(0,"clr-icon",18),2&c){const c=n.bc(3);n.Ab("shape",c.track.options.image.src)}}function u(c,t){if(1&c&&n.Mb(0,"img",19),2&c){const c=n.bc(3);n.hc("src",c.track.options.image.src,n.tc)}}function g(c,t){if(1&c&&(n.Pb(0),n.Bc(1,p,1,1,"clr-icon",16),n.Bc(2,u,1,1,"img",17),n.Ob()),2&c){const c=n.bc(2);n.zb(1),n.hc("ngIf","icon"===c.track.options.image.type),n.zb(1),n.hc("ngIf","icon"!==c.track.options.image.type)}}function h(c,t){if(1&c&&(n.Pb(0),n.Rb(1,"div",10),n.Bc(2,l,1,0,"clr-icon",11),n.Bc(3,g,3,2,"ng-container",12),n.Qb(),n.Rb(4,"div",13),n.Mb(5,"p",14),n.Qb(),n.Ob()),2&c){const c=n.bc();n.zb(2),n.hc("ngIf",!c.track.options.image),n.zb(1),n.hc("ngIf",c.track.options.image),n.zb(2),n.hc("innerHTML",c.track.description,n.sc)}}function f(c,t){if(1&c){const c=n.Sb();n.Rb(0,"button",20),n.Zb("click",(function(){return n.rc(c),n.bc().showExercises=!0})),n.Dc(1,"Exercises"),n.Qb()}}function k(c,t){if(1&c){const c=n.Sb();n.Rb(0,"button",20),n.Zb("click",(function(){return n.rc(c),n.bc().showExercises=!1})),n.Dc(1,"Hide"),n.Qb()}}function d(c,t){if(1&c&&(n.Rb(0,"div",13),n.Mb(1,"app-exercise-list",21),n.Qb()),2&c){const c=n.bc();n.zb(1),n.hc("exercises",c.allExercises)}}let m=(()=>{class c{constructor(c,t,e){this.exerciseService=c,this.progress=t,this.router=e,this.allExercises=[],this.showExercises=!1}ngOnInit(){this.activeTrackSubscription=this.exerciseService.activeTrack.subscribe({next:c=>this.activeTrackId=c?c.id:null}),this.allExercises=this.track.sessions.flatMap(c=>c.exercises),this.finishedExercises=this.allExercises.map(c=>Number(this.progress.isSolved(c.id))).reduce((c,t)=>c+t)}onStartTrack(){this.exerciseService.activeTrack.next(Object.assign({},this.track)),this.router.navigate(["/","t",this.track.id])}ngOnDestroy(){this.activeTrackSubscription.unsubscribe()}}return c.\u0275fac=function(t){return new(t||c)(n.Lb(s.a),n.Lb(r.a),n.Lb(a.c))},c.\u0275cmp=n.Fb({type:c,selectors:[["app-track-card"]],inputs:{track:"track"},decls:20,vars:14,consts:[[1,"card"],[1,"card-header"],[4,"ngIf","ngIfElse"],[1,"card-footer"],[1,"progress","tooltip","tooltip-lg","tooltip-top"],[3,"max","value"],[1,"tooltip-content"],["type","button","class","btn btn-sm btn-link",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-link",3,"disabled","click"],["exercises",""],[1,"card-img"],["shape","bank","size","72",4,"ngIf"],[4,"ngIf"],[1,"card-block"],[1,"card-text",3,"innerHTML"],["shape","bank","size","72"],["size","72",4,"ngIf"],["class","main-track-image",3,"src",4,"ngIf"],["size","72"],[1,"main-track-image",3,"src"],["type","button",1,"btn","btn-sm","btn-link",3,"click"],[3,"exercises"]],template:function(c,t){if(1&c&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Dc(2),n.Qb(),n.Bc(3,h,6,3,"ng-container",2),n.Rb(4,"div",3),n.Rb(5,"div",4),n.Mb(6,"progress",5),n.Rb(7,"span",6),n.Dc(8," You progress on "),n.Rb(9,"code"),n.Dc(10),n.Qb(),n.Mb(11,"br"),n.Dc(12),n.cc(13,"number"),n.Qb(),n.Qb(),n.Bc(14,f,2,0,"button",7),n.Bc(15,k,2,0,"button",7),n.Rb(16,"button",8),n.Zb("click",(function(){return t.onStartTrack()})),n.Dc(17,"Start"),n.Qb(),n.Qb(),n.Qb(),n.Bc(18,d,2,1,"ng-template",null,9,n.Cc)),2&c){const c=n.nc(19);n.zb(2),n.Ec(t.track.name),n.zb(1),n.hc("ngIf",!t.showExercises)("ngIfElse",c),n.zb(3),n.hc("max",t.allExercises.length)("value",t.finishedExercises),n.zb(4),n.Ec(t.track.name.length>25?t.track.name.slice(0,22)+"...":t.track.name),n.zb(2),n.Hc(" ",t.finishedExercises," of ",t.allExercises.length," (",n.dc(13,12,t.finishedExercises/t.allExercises.length*100)," %) "),n.zb(2),n.hc("ngIf",!t.showExercises),n.zb(1),n.hc("ngIf",t.showExercises),n.zb(1),n.hc("disabled",t.activeTrackId&&t.activeTrackId===t.track.id)}},directives:[i.p,o.x,b.a],pipes:[i.f],styles:[".main-track-image[_ngcontent-%COMP%]{max-height:350px}"]}),c})();function x(c,t){if(1&c&&(n.Pb(0),n.Rb(1,"div",3),n.Mb(2,"app-track-card",4),n.Qb(),n.Ob()),2&c){const c=t.$implicit;n.zb(2),n.hc("track",c)}}let v=(()=>{class c{constructor(c){this.exerciseService=c,this.tracks=[]}ngOnInit(){this.tracksSubscription=this.exerciseService.tracks.subscribe({next:c=>this.tracks=c})}ngOnDestroy(){this.tracksSubscription.unsubscribe()}}return c.\u0275fac=function(t){return new(t||c)(n.Lb(s.a))},c.\u0275cmp=n.Fb({type:c,selectors:[["app-tracks-page"]],decls:3,vars:1,consts:[[1,"content-area"],[1,"clr-row"],[4,"ngFor","ngForOf"],[1,"clr-col-lg-3","clr-col-md-4","clr-col-sm-12"],[3,"track"]],template:function(c,t){1&c&&(n.Rb(0,"div",0),n.Rb(1,"div",1),n.Bc(2,x,3,1,"ng-container",2),n.Qb(),n.Qb()),2&c&&(n.zb(2),n.hc("ngForOf",t.tracks))},directives:[i.o,m],styles:[".card-img[_ngcontent-%COMP%]{text-align:center}.card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:300px}"]}),c})();var E=e("Yv6K");let I=(()=>{class c{}return c.\u0275mod=n.Jb({type:c}),c.\u0275inj=n.Ib({factory:function(t){return new(t||c)},imports:[[i.c,a.g,o.a,E.a]]}),c})(),z=(()=>{class c{}return c.\u0275mod=n.Jb({type:c}),c.\u0275inj=n.Ib({factory:function(t){return new(t||c)},imports:[[i.c,a.g.forChild([{path:"",component:v,pathMatch:"full"}]),o.a,I]]}),c})()}}]);