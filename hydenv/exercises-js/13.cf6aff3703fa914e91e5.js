(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{wJ9R:function(e,t,s){"use strict";s.r(t),s.d(t,"ExercisePageModule",(function(){return ke}));var n=s("ofXK"),c=s("fXoL"),i=s("ws30"),r=s("tyNb"),o=s("rGdz"),b=s("+3VT"),l=s("8MG2"),a=s("aLtf");function u(e,t){if(1&e&&(c.Rb(0,"clr-timeline-step",6),c.Rb(1,"clr-timeline-step-header"),c.Dc(2,"Not correct"),c.Qb(),c.Rb(3,"clr-timeline-step-description"),c.Dc(4),c.cc(5,"date"),c.Qb(),c.Qb()),2&e){const e=t.$implicit;c.zb(4),c.Ec(c.ec(5,1,e,"dd.MM.yy HH:mm"))}}function h(e,t){if(1&e&&(c.Pb(0),c.Bc(1,u,6,4,"clr-timeline-step",5),c.Ob()),2&e){const e=c.bc(2);c.zb(1),c.hc("ngForOf",e.progress.tries)}}function f(e,t){1&e&&(c.Rb(0,"clr-timeline-step",7),c.Rb(1,"clr-timeline-step-header"),c.Dc(2,"Correct!"),c.Qb(),c.Rb(3,"clr-timeline-step-description"),c.Dc(4,"Well done!"),c.Qb(),c.Qb())}function p(e,t){if(1&e&&(c.Pb(0),c.Rb(1,"clr-timeline",2),c.Bc(2,h,2,1,"ng-container",3),c.Bc(3,f,5,0,"clr-timeline-step",4),c.Qb(),c.Ob()),2&e){const e=c.bc();c.zb(1),c.hc("clrLayout",e.layout),c.zb(1),c.hc("ngIf",e.progress.tries),c.zb(1),c.hc("ngIf",e.progress.correct)}}function d(e,t){if(1&e&&(c.Rb(0,"clr-timeline",2),c.Rb(1,"clr-timeline-step",8),c.Rb(2,"clr-timeline-step-header"),c.Dc(3,"not started"),c.Qb(),c.Rb(4,"clr-timeline-step-description"),c.Dc(5,"No progress data found in the storage of this device"),c.Qb(),c.Qb(),c.Qb()),2&e){const e=c.bc();c.hc("clrLayout",e.layout)}}let g=(()=>{class e{constructor(e){this.progressService=e,this.layout="horizontal"}set exerciseId(e){this.currExerciseId=e,this.extractProgressInfo(this.progressService.progress.getValue())}ngOnInit(){this.progressSubscription=this.progressService.progress.subscribe({next:e=>this.extractProgressInfo(e)})}extractProgressInfo(e){this.progress=e.find(e=>e.exerciseId===this.currExerciseId)}ngOnDestroy(){this.progressSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(a.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-exercise-progress-detail"]],inputs:{exerciseId:"exerciseId",layout:"layout"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noProgress",""],[3,"clrLayout"],[4,"ngIf"],["clrState","success",4,"ngIf"],["clrState","error",4,"ngFor","ngForOf"],["clrState","error"],["clrState","success"],["clrState","not-started"]],template:function(e,t){if(1&e&&(c.Bc(0,p,4,3,"ng-container",0),c.Bc(1,d,6,1,"ng-template",null,1,c.Cc)),2&e){const e=c.nc(2);c.hc("ngIf",t.progress)("ngIfElse",e)}},directives:[n.o,l.S,n.n,l.T,l.V,l.U],pipes:[n.e],styles:[""]}),e})();const x=function(e){return["/","e",e]};function v(e,t){if(1&e&&(c.Pb(0),c.Rb(1,"button",3),c.Dc(2," Back "),c.Rb(3,"span",4),c.Dc(4),c.Qb(),c.Qb(),c.Ob()),2&e){const e=c.bc(2);c.zb(1),c.hc("routerLink",c.lc(3,x,e.previousExercise.id))("ngClass",e.btnClasses),c.zb(3),c.Fc(" Previous: ",e.previousExercise.name," ")}}function y(e,t){if(1&e&&(c.Rb(0,"button",5),c.Dc(1," Back "),c.Rb(2,"span",4),c.Dc(3,"This was the first exercise in the active track."),c.Qb(),c.Qb()),2&e){const e=c.bc(2);c.hc("disabled",!0)("ngClass",e.btnClasses)}}function R(e,t){if(1&e&&(c.Pb(0),c.Bc(1,v,5,5,"ng-container",0),c.Bc(2,y,4,2,"ng-template",null,2,c.Cc),c.Ob()),2&e){const e=c.nc(3),t=c.bc();c.zb(1),c.hc("ngIf",t.previousExercise)("ngIfElse",e)}}function m(e,t){if(1&e&&(c.Rb(0,"button",5),c.Dc(1," Back "),c.Rb(2,"span",4),c.Dc(3,"There is no active Track."),c.Qb(),c.Qb()),2&e){const e=c.bc();c.hc("disabled",!0)("ngClass",e.btnClasses)}}let I=(()=>{class e{constructor(e){this.exerciseService=e,this.btnClasses=["btn-primary"],this.isSynced=!1,this.hasActiveTrack=!1}set exerciseId(e){this.currentId=e,this.isSynced&&this.getPrevious()}ngOnInit(){this.syncSubscription=this.exerciseService.syncFinished.subscribe({next:e=>{this.isSynced=e,this.previousExercise||this.getPrevious()}})}getPrevious(){if(this.hasActiveTrack=null!==this.exerciseService.activeTrack.getValue(),this.hasActiveTrack){const e=this.exerciseService.getPreviousExercise(this.currentId,"all");this.previousExercise=e&&-1!==e?e:null}}ngOnDestroy(){this.syncSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(i.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-previous-exercise-button"]],inputs:{exerciseId:"exerciseId",btnClasses:"btnClasses"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noTrack",""],["noExercise",""],[1,"btn","tooltip","tooltip-bottom-left",3,"routerLink","ngClass"],[1,"tooltip-content"],[1,"btn","tooltip","tooltip-bottom-right",3,"disabled","ngClass"]],template:function(e,t){if(1&e&&(c.Bc(0,R,4,2,"ng-container",0),c.Bc(1,m,4,2,"ng-template",null,1,c.Cc)),2&e){const e=c.nc(2);c.hc("ngIf",t.hasActiveTrack)("ngIfElse",e)}},directives:[n.o,r.d,n.m],styles:[""]}),e})();const Q=function(e){return["/","e",e]};function S(e,t){if(1&e&&(c.Pb(0),c.Rb(1,"button",3),c.Dc(2," Next "),c.Rb(3,"span",4),c.Dc(4),c.Qb(),c.Qb(),c.Ob()),2&e){const e=c.bc(2);c.zb(1),c.hc("routerLink",c.lc(3,Q,e.nextExericse.id))("ngClass",e.btnClasses),c.zb(3),c.Fc(" Next up: ",e.nextExericse.name," ")}}function w(e,t){if(1&e&&(c.Rb(0,"button",5),c.Dc(1," Next "),c.Rb(2,"span",4),c.Dc(3),c.Qb(),c.Qb()),2&e){const e=c.bc(2);c.hc("disabled",!0)("ngClass",e.btnClasses),c.zb(3),c.Gc(" This was the last ",e.onlyUnsolved?"unsolved ":""," exercise ","all"===e.session?"on this track":"in this session",".")}}function O(e,t){if(1&e&&(c.Pb(0),c.Bc(1,S,5,5,"ng-container",0),c.Bc(2,w,4,4,"ng-template",null,2,c.Cc),c.Ob()),2&e){const e=c.nc(3),t=c.bc();c.zb(1),c.hc("ngIf",t.nextExericse)("ngIfElse",e)}}function C(e,t){if(1&e&&(c.Rb(0,"button",5),c.Dc(1," Next "),c.Rb(2,"span",4),c.Dc(3,"There is no active Track."),c.Qb(),c.Qb()),2&e){const e=c.bc();c.hc("disabled",!0)("ngClass",e.btnClasses)}}let z=(()=>{class e{constructor(e){this.exerciseService=e,this.session="all",this.onlyUnsolved=!1,this.btnClasses=["btn-primary"],this.isSynced=!1,this.hasActiveTrack=!1}set exerciseId(e){this.currId=e,this.isSynced&&this.getNext()}ngOnInit(){this.syncSubscription=this.exerciseService.syncFinished.subscribe({next:e=>{this.isSynced=e,this.nextExericse||this.getNext()}})}getNext(){if(this.hasActiveTrack=null!==this.exerciseService.activeTrack.getValue(),this.hasActiveTrack){let e;this.onlyUnsolved?e=this.exerciseService.getNextUnsolvedExercise(this.currId,this.session):(e=this.exerciseService.getNextExercise(this.currId,this.session),console.log(e)),this.nextExericse=e&&-1!==e?e:null}}ngOnDestroy(){this.syncSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(i.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-next-exercise-button"]],inputs:{exerciseId:"exerciseId",session:"session",onlyUnsolved:"onlyUnsolved",btnClasses:"btnClasses"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noTrack",""],["noExercise",""],[1,"btn","tooltip","tooltip-bottom-left",3,"routerLink","ngClass"],[1,"tooltip-content"],[1,"btn","tooltip","tooltip-bottom-left",3,"disabled","ngClass"]],template:function(e,t){if(1&e&&(c.Bc(0,O,4,2,"ng-container",0),c.Bc(1,C,4,2,"ng-template",null,1,c.Cc)),2&e){const e=c.nc(2);c.hc("ngIf",t.hasActiveTrack)("ngIfElse",e)}},directives:[n.o,r.d,n.m],styles:[""]}),e})();var M=s("tk/3");function E(e,t){if(1&e&&(c.Pb(0),c.Mb(1,"div",1),c.Ob()),2&e){const e=c.bc(2);c.zb(1),c.hc("innerHTML",e.contentText,c.sc)}}function D(e,t){if(1&e&&(c.Pb(0),c.Rb(1,"p"),c.Dc(2),c.Qb(),c.Ob()),2&e){const e=c.bc(2);c.zb(2),c.Ec(e.contentText)}}function k(e,t){if(1&e&&(c.Pb(0),c.Bc(1,E,2,1,"ng-container",0),c.Bc(2,D,3,1,"ng-container",0),c.Ob()),2&e){const e=c.bc();c.zb(1),c.hc("ngIf","html"===e.content.type),c.zb(1),c.hc("ngIf","text"===e.content.type)}}let T=(()=>{class e{constructor(e){this.http=e}set body(e){this.content=e,this.setContentText()}ngOnInit(){this.setContentText()}setContentText(){this.content&&(this.content.content?this.contentText=this.content.content:this.loadFromUrl())}loadFromUrl(){this.http.get(this.content.url).subscribe({next:e=>console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(M.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-exercise-body"]],inputs:{content:"content",body:"body"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"innerHTML"]],template:function(e,t){1&e&&c.Bc(0,k,3,2,"ng-container",0),2&e&&c.hc("ngIf",t.content)},directives:[n.o],styles:[""]}),e})();var P=s("8M4i"),L=s("EUcb"),j=s("oSzE"),B=s("DlmY");function _(e){var t=-1,s=null==e?0:e.length;for(this.__data__=new B.a;++t<s;)this.add(e[t])}_.prototype.add=_.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},_.prototype.has=function(e){return this.__data__.has(e)};var F=_,U=function(e,t){for(var s=-1,n=null==e?0:e.length;++s<n;)if(t(e[s],s,e))return!0;return!1},H=function(e,t,s,n,c,i){var r=1&s,o=e.length,b=t.length;if(o!=b&&!(r&&b>o))return!1;var l=i.get(e),a=i.get(t);if(l&&a)return l==t&&a==e;var u=-1,h=!0,f=2&s?new F:void 0;for(i.set(e,t),i.set(t,e);++u<o;){var p=e[u],d=t[u];if(n)var g=r?n(d,p,u,t,e,i):n(p,d,u,e,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!U(t,(function(e,t){if(!f.has(t)&&(p===e||c(p,e,s,n,i)))return f.push(t)}))){h=!1;break}}else if(p!==d&&!c(p,d,s,n,i)){h=!1;break}}return i.delete(e),i.delete(t),h},A=s("ylTp"),N=s("Ce4a"),q=s("YHEm"),Y=function(e){var t=-1,s=Array(e.size);return e.forEach((function(e,n){s[++t]=[n,e]})),s},V=function(e){var t=-1,s=Array(e.size);return e.forEach((function(e){s[++t]=e})),s},Z=A.a?A.a.prototype:void 0,J=Z?Z.valueOf:void 0,G=s("TFwu"),W=Object.prototype.hasOwnProperty,$=s("YM6B"),K=s("/1FC"),X=s("WOAq"),ee=s("oYcn"),te="[object Arguments]",se="[object Array]",ne="[object Object]",ce=Object.prototype.hasOwnProperty,ie=function(e,t,s){var n=(s="function"==typeof s?s:void 0)?s(e,t):void 0;return void 0===n?function e(t,s,n,c,i){return t===s||(null==t||null==s||!Object(L.a)(t)&&!Object(L.a)(s)?t!=t&&s!=s:function(e,t,s,n,c,i){var r=Object(K.a)(e),o=Object(K.a)(t),b=r?se:Object($.a)(e),l=o?se:Object($.a)(t),a=(b=b==te?ne:b)==ne,u=(l=l==te?ne:l)==ne,h=b==l;if(h&&Object(X.a)(e)){if(!Object(X.a)(t))return!1;r=!0,a=!1}if(h&&!a)return i||(i=new j.a),r||Object(ee.a)(e)?H(e,t,s,n,c,i):function(e,t,s,n,c,i,r){switch(s){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new N.a(e),new N.a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Object(q.a)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=Y;case"[object Set]":if(o||(o=V),e.size!=t.size&&!(1&n))return!1;var b=r.get(e);if(b)return b==t;n|=2,r.set(e,t);var l=H(o(e),o(t),n,c,i,r);return r.delete(e),l;case"[object Symbol]":if(J)return J.call(e)==J.call(t)}return!1}(e,t,b,s,n,c,i);if(!(1&s)){var f=a&&ce.call(e,"__wrapped__"),p=u&&ce.call(t,"__wrapped__");if(f||p){var d=f?e.value():e,g=p?t.value():t;return i||(i=new j.a),c(d,g,s,n,i)}}return!!h&&(i||(i=new j.a),function(e,t,s,n,c,i){var r=1&s,o=Object(G.a)(e),b=o.length;if(b!=Object(G.a)(t).length&&!r)return!1;for(var l=b;l--;){var a=o[l];if(!(r?a in t:W.call(t,a)))return!1}var u=i.get(e),h=i.get(t);if(u&&h)return u==t&&h==e;var f=!0;i.set(e,t),i.set(t,e);for(var p=r;++l<b;){var d=e[a=o[l]],g=t[a];if(n)var x=r?n(g,d,a,t,e,i):n(d,g,a,e,t,i);if(!(void 0===x?d===g||c(d,g,s,n,i):x)){f=!1;break}p||(p="constructor"==a)}if(f&&!p){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,s,n,c,i))}(t,s,n,c,e,i))}(e,t,void 0,s):!!n},re=s("h+eY"),oe=s("3Pt+"),be=s("SS/w");function le(e,t){1&e&&(c.Pb(0),c.Rb(1,"p",1),c.Rb(2,"i"),c.Dc(3,"Run your query to view the results here"),c.Qb(),c.Qb(),c.Ob())}function ae(e,t){1&e&&(c.Pb(0),c.Rb(1,"div",2),c.Rb(2,"div",3),c.Mb(3,"clr-icon",4),c.Qb(),c.Rb(4,"div",5),c.Rb(5,"p"),c.Dc(6,"Your solution is correct."),c.Qb(),c.Qb(),c.Qb(),c.Ob())}function ue(e,t){if(1&e){const e=c.Sb();c.Rb(0,"clr-toggle-container"),c.Rb(1,"clr-toggle-wrapper"),c.Rb(2,"input",9),c.Zb("ngModelChange",(function(t){return c.rc(e),c.bc(2).showHint=t})),c.Qb(),c.Rb(3,"label"),c.Dc(4,"show hint"),c.Qb(),c.Qb(),c.Qb()}if(2&e){const e=c.bc(2);c.zb(2),c.hc("ngModel",e.showHint)}}function he(e,t){if(1&e){const e=c.Sb();c.Pb(0),c.Rb(1,"div",2),c.Rb(2,"div",3),c.Mb(3,"clr-icon",6),c.Qb(),c.Rb(4,"div",5),c.Rb(5,"div",2),c.Rb(6,"div",7),c.Rb(7,"p"),c.Dc(8,"Your solution is not yet quite correct"),c.Qb(),c.Qb(),c.Rb(9,"div",8),c.Rb(10,"clr-toggle-container"),c.Rb(11,"clr-toggle-wrapper"),c.Rb(12,"input",9),c.Zb("ngModelChange",(function(t){return c.rc(e),c.bc().showSolution=t})),c.Qb(),c.Rb(13,"label"),c.Dc(14,"show solution"),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(15,"div",8),c.Bc(16,ue,5,1,"clr-toggle-container",0),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Ob()}if(2&e){const e=c.bc();c.zb(12),c.hc("ngModel",e.showSolution),c.zb(4),c.hc("ngIf",e.exercise.hint)}}function fe(e,t){if(1&e&&(c.Pb(0),c.Rb(1,"h3"),c.Dc(2,"Hint"),c.Qb(),c.Mb(3,"p",10),c.Ob()),2&e){const e=c.bc();c.zb(3),c.hc("innerHTML",e.exercise.hint,c.sc)}}function pe(e,t){if(1&e&&(c.Pb(0),c.Rb(1,"h3"),c.Dc(2,"Solution query"),c.Qb(),c.Rb(3,"pre"),c.Mb(4,"code",10),c.Qb(),c.Ob()),2&e){const e=c.bc();c.zb(4),c.hc("innerHTML",e.exercise.solution.code?e.exercise.solution.code:e.exercise.solution.content,c.sc)}}function de(e,t){if(1&e&&(c.Pb(0),c.Rb(1,"h3"),c.Dc(2,"Your Solution"),c.Qb(),c.Mb(3,"app-sql-result",11),c.Ob()),2&e){const e=c.bc();c.zb(3),c.hc("result",e.userResult)}}function ge(e,t){if(1&e&&(c.Pb(0),c.Rb(1,"h3"),c.Dc(2,"Sample Solution"),c.Qb(),c.Mb(3,"app-sql-result",11),c.Ob()),2&e){const e=c.bc();c.zb(3),c.hc("result",e.solution)}}function xe(e,t){if("number"==typeof(s=e)||Object(L.a)(s)&&"[object Number]"==Object(P.a)(s))return Math.abs(e-t)<.01;var s}let ve=(()=>{class e{constructor(e,t,s){this.exerciseService=e,this.progress=t,this.analytics=s,this.checked=new c.n,this.explain=!1,this.safeMode=!0,this.solutionCorrect=!1,this.showSolution=!1,this.showHint=!1}set result(e){e&&this.onUserInput(e)}ngOnInit(){}onUserInput(e){if(this.userResult=e,this.solution)this.compare();else{const e=this.explain?"text":null;console.log(`Explain: ${e} Safe Mode: ${this.safeMode}`),this.exerciseService.executeSql(this.exercise.solution.content,e,!this.safeMode).then(e=>this.solution=e).then(()=>this.compare()).catch(e=>console.log(e))}}compare(){ie(this.userResult.data,this.solution.data,xe)?(this.solutionCorrect=!0,this.showSolution=!0):this.solutionCorrect=!1,this.progress.update(this.exercise.id,this.solutionCorrect).then(()=>{this.checked.emit(this.solutionCorrect)})}onHintToggle(){this.showHint&&this.analytics.logEvent("exercise_showHint",{exerciseId:this.exercise.id})}onSolutionToggle(){this.showSolution&&this.analytics.logEvent("exercise_showSolution",{exerciseId:this.exercise.id})}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(i.a),c.Lb(a.a),c.Lb(re.c))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-exercise-compare"]],inputs:{exercise:"exercise",result:"result",explain:"explain",safeMode:"safeMode"},outputs:{checked:"checked"},decls:7,vars:7,consts:[[4,"ngIf"],[2,"text-align","center","display","flex","flex-direction","column","justify-content","center","height","90%"],[1,"clr-row"],[1,"clr-col-4"],["shape","check","size","72"],[1,"clr-col-8"],["shape","times","size","72"],[1,"clr-col-12"],[1,"clr-col-6"],["type","checkbox","clrToggle","",3,"ngModel","ngModelChange"],[3,"innerHTML"],[3,"result"]],template:function(e,t){1&e&&(c.Bc(0,le,4,0,"ng-container",0),c.Bc(1,ae,7,0,"ng-container",0),c.Bc(2,he,17,2,"ng-container",0),c.Bc(3,fe,4,1,"ng-container",0),c.Bc(4,pe,5,1,"ng-container",0),c.Bc(5,de,4,1,"ng-container",0),c.Bc(6,ge,4,1,"ng-container",0)),2&e&&(c.hc("ngIf",!t.solution),c.zb(1),c.hc("ngIf",t.solution&&t.solutionCorrect),c.zb(1),c.hc("ngIf",t.solution&&!t.solutionCorrect),c.zb(1),c.hc("ngIf",t.showHint),c.zb(1),c.hc("ngIf",t.showSolution),c.zb(1),c.hc("ngIf",t.userResult),c.zb(1),c.hc("ngIf",t.solution&&t.solutionCorrect))},directives:[n.o,l.x,l.f,l.g,oe.a,l.e,oe.j,oe.l,l.C,be.a],styles:[""]}),e})();var ye=s("MffP"),Re=s("52BL");function me(e,t){if(1&e&&(c.Rb(0,"clr-tab-content"),c.Mb(1,"app-exercise-compare",22),c.Qb()),2&e){const e=c.bc(2);c.zb(1),c.hc("exercise",e.exercise)("explain",e.explain)("safeMode",e.safeMode)("result",e.result)}}function Ie(e,t){1&e&&(c.Pb(0),c.Mb(1,"app-history-list"),c.Ob())}const Qe=function(){return[3,5,10,25]};function Se(e,t){1&e&&(c.Pb(0),c.Mb(1,"app-history-table",23),c.Ob()),2&e&&(c.zb(1),c.hc("pageSize",10)("pageSizeOptions",c.kc(2,Qe)))}const we=function(){return["btn-sm","btn-primary"]};function Oe(e,t){if(1&e){const e=c.Sb();c.Pb(0),c.Rb(1,"div",2),c.Rb(2,"div",3),c.Rb(3,"app-sql-input",4),c.Zb("result",(function(t){return c.rc(e),c.bc().onSqlExecuted(t)}))("addExplainChange",(function(t){return c.rc(e),c.bc().explain=t}))("safeModeChange",(function(t){return c.rc(e),c.bc().safeMode=t})),c.Qb(),c.Qb(),c.Rb(4,"div",5),c.Rb(5,"clr-tabs"),c.Rb(6,"clr-tab"),c.Rb(7,"button",6),c.Dc(8,"Task Description"),c.Qb(),c.Rb(9,"clr-tab-content"),c.Rb(10,"div",7),c.Rb(11,"div",8),c.Mb(12,"app-exercise-progress-detail",9),c.Qb(),c.Rb(13,"div",10),c.Rb(14,"div",11),c.Mb(15,"app-previous-exercise-button",12),c.Mb(16,"app-next-exercise-button",12),c.Qb(),c.Qb(),c.Rb(17,"div",13),c.Rb(18,"h2"),c.Dc(19),c.Qb(),c.Mb(20,"app-exercise-body",14),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Rb(21,"clr-tab"),c.Rb(22,"button",6),c.Dc(23,"Results"),c.Qb(),c.Bc(24,me,2,4,"clr-tab-content",15),c.Qb(),c.Rb(25,"clr-tab"),c.Rb(26,"button",6),c.Dc(27,"Query History"),c.Qb(),c.Rb(28,"clr-tab-content"),c.Rb(29,"h2",16),c.Rb(30,"span"),c.Dc(31,"Query History"),c.Qb(),c.Rb(32,"div",17),c.Rb(33,"button",18),c.Zb("click",(function(){return c.rc(e),c.bc().historyUseList=!0})),c.Mb(34,"clr-icon",19),c.Qb(),c.Rb(35,"button",18),c.Zb("click",(function(){return c.rc(e),c.bc().historyUseList=!1})),c.Mb(36,"clr-icon",20),c.Qb(),c.Qb(),c.Qb(),c.Bc(37,Ie,2,0,"ng-container",21),c.Bc(38,Se,2,3,"ng-container",21),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Qb(),c.Ob()}if(2&e){const e=c.bc();c.zb(3),c.hc("sql",e.prefill)("safeMode",!e.exercise.disableSafeMode),c.zb(9),c.hc("exerciseId",e.exerciseId),c.zb(3),c.hc("exerciseId",e.exerciseId)("btnClasses",c.kc(14,we)),c.zb(1),c.hc("exerciseId",e.exerciseId)("btnClasses",c.kc(15,we)),c.zb(3),c.Ec(e.exercise.name),c.zb(1),c.hc("body",e.exercise.body),c.zb(4),c.hc("clrIfActive",e.forceResultTab),c.zb(9),c.hc("disabled",e.historyUseList),c.zb(2),c.hc("disabled",!e.historyUseList),c.zb(2),c.hc("ngIf",e.historyUseList),c.zb(1),c.hc("ngIf",!e.historyUseList)}}function Ce(e,t){1&e&&(c.Rb(0,"p"),c.Rb(1,"i"),c.Dc(2,"The requested resource could not be loaded. No idea why."),c.Qb(),c.Qb())}let ze=(()=>{class e{constructor(e,t,s){this.exerciseService=e,this.route=t,this.history=s,this.isSynced=!1,this.explain=!1,this.safeMode=!0,this.historyUseList=!1,this.forceResultTab=!1}onSqlExecuted(e){this.result=e,this.forceResultTab=!0}ngOnInit(){this.syncSubscription=this.exerciseService.syncFinished.subscribe({next:e=>{this.isSynced=e,this.isSynced&&this.exerciseId&&this.fetchExerciseDoc(this.exerciseId)}}),this.route.paramMap.subscribe({next:e=>{this.exerciseId=e.get("id"),this.isSynced&&this.fetchExerciseDoc(this.exerciseId)}}),this.clipboardSubscription=this.history.clipboard.subscribe({next:e=>{e&&(this.prefill=e.body.content,e.result&&(this.result=e.result))}})}fetchExerciseDoc(e){this.exerciseService.getExerciseById(e).then(e=>{this.exercise=e,this.setPrefill()})}setPrefill(){this.prefill=this.exercise&&this.exercise.solution.prefill?this.exercise.solution.prefill:"-- Put your SQL code here.\n-- If you use semicolons, multiple commands or other Queries than SELECT, you have to disable save Mode"}ngOnDestroy(){this.syncSubscription.unsubscribe(),this.clipboardSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Lb(i.a),c.Lb(r.a),c.Lb(o.a))},e.\u0275cmp=c.Fb({type:e,selectors:[["app-exercise-page"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notFound",""],[1,"clr-row","wrap-row"],[1,"clr-col-lg-5","clr-col-md-12"],[3,"sql","safeMode","result","addExplainChange","safeModeChange"],[1,"clr-col-lg-7","clr-col-md-12"],["clrTabLink",""],[1,"clr-row",2,"margin","0","padding","0px","max-width","98%"],[1,"clr-col-9",2,"overflow-x","auto"],[3,"exerciseId"],[1,"clr-col-3",2,"display","flex","flex-direction","column","justify-content","center"],[2,"display","flex","flex-direction","row","justify-content","center"],[3,"exerciseId","btnClasses"],[1,"clr-col-12",2,"max-width","992px"],[3,"body"],[4,"clrIfActive"],[2,"display","flex","flex-direction","row","justify-content","space-between","margin-bottom","1.2rem"],[1,"btn-group","btn-icon","btn-default"],[1,"btn",3,"disabled","click"],["shape","view-list"],["shape","table"],[4,"ngIf"],[3,"exercise","explain","safeMode","result"],[3,"pageSize","pageSizeOptions"]],template:function(e,t){if(1&e&&(c.Bc(0,Oe,39,16,"ng-container",0),c.Bc(1,Ce,3,0,"ng-template",null,1,c.Cc)),2&e){const e=c.nc(2);c.hc("ngIf",t.exercise)("ngIfElse",e)}},directives:[n.o,b.a,l.R,l.gb,l.O,l.Q,l.Z,l.P,g,I,z,T,l.y,l.x,ve,ye.a,Re.a],styles:[".wrap-row[_ngcontent-%COMP%]{height:calc(100vh - 60px);width:98%;padding:.6rem;margin:0}"]}),e})();var Me=s("sWoP"),Ee=s("Yv6K"),De=s("aPRB");let ke=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(t){return new(t||e)},imports:[[n.c,r.g.forChild([{path:":id",component:ze}]),l.a,Me.a,Ee.a,De.a]]}),e})()}}]);