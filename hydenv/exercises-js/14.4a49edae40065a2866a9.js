(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{LDmJ:function(s,e,c){"use strict";c.r(e),c.d(e,"TrackPageModule",(function(){return M}));var t=c("ofXK"),i=c("tyNb"),r=c("8MG2"),n=c("fXoL"),a=c("ws30"),o=c("aLtf");function l(s,e){if(1&s&&(n.Rb(0,"div",2),n.Mb(1,"progress",3),n.Qb()),2&s){const s=n.bc();n.zb(1),n.hc("max",s.total)("value",s.solved)}}function b(s,e){if(1&s&&(n.Pb(0),n.Mb(1,"clr-progress-bar",4),n.Ob()),2&s){const s=n.bc();n.zb(1),n.hc("clrMax",s.total)("clrValue",s.solved)("clrDisplayval",s.solved/s.total*100+"%")}}function d(s,e){if(1&s&&(n.Pb(0),n.Rb(1,"div",5),n.Rb(2,"label",6),n.Dc(3,"All"),n.Qb(),n.Mb(4,"clr-progress-bar",7),n.Qb(),n.Rb(5,"div",5),n.Rb(6,"label",8),n.Dc(7,"Mandatory"),n.Qb(),n.Mb(8,"clr-progress-bar",9),n.Qb(),n.Ob()),2&s){const s=n.bc();n.zb(4),n.hc("clrMax",s.total)("clrValue",s.solved)("clrDisplayval",(s.solved/s.total*100).toFixed(0)+" %"),n.zb(4),n.hc("clrMax",s.mandatoryTotal)("clrValue",s.mandatorySolved)("clrDisplayval",(s.mandatorySolved/s.mandatoryTotal*100).toFixed(0)+" %")}}let h=(()=>{class s{constructor(s){this.progress=s,this.sessions="all",this.mode="simple",this.exercises=[],this.assignments=[]}set track(s){this.trackCache=s,this.getExercises(),this.update()}ngOnInit(){this.assignmentSubscription=this.progress.progress.subscribe({next:s=>{this.assignments=s,this.update()}})}getExercises(){this.exercises="all"===this.sessions?this.trackCache.sessions.flatMap(s=>s.exercises):this.trackCache.sessions.filter(s=>this.sessions.includes(s.name)).flatMap(s=>s.exercises)}update(){this.total=this.exercises.length,this.mandatoryTotal=this.exercises.filter(s=>s.mandatory).length;const s=this.assignments.filter(s=>s.correct).map(s=>s.exerciseId);this.solved=this.exercises.filter(e=>s.includes(e.id)).length,this.mandatorySolved=this.exercises.filter(e=>e.mandatory&&s.includes(e.id)).length}ngOnDestroy(){this.assignmentSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(n.Lb(o.a))},s.\u0275cmp=n.Fb({type:s,selectors:[["app-session-progress-bar"]],inputs:{track:"track",sessions:"sessions",mode:"mode"},decls:3,vars:3,consts:[["class","progress",4,"ngIf"],[4,"ngIf"],[1,"progress"],[3,"max","value"],["clrLabeled","",3,"clrMax","clrValue","clrDisplayval"],[1,"progress-block"],["for","all"],["id","all","clrLabeled","",3,"clrMax","clrValue","clrDisplayval"],["for","mand"],["id","mand","clrLabeled","",3,"clrMax","clrValue","clrDisplayval"]],template:function(s,e){1&s&&(n.Bc(0,l,2,2,"div",0),n.Bc(1,b,2,3,"ng-container",1),n.Bc(2,d,9,6,"ng-container",1)),2&s&&(n.hc("ngIf","card"===e.mode),n.zb(1),n.hc("ngIf","simple"===e.mode),n.zb(1),n.hc("ngIf","full"===e.mode))},directives:[t.p,r.K,r.C],styles:[""]}),s})();var g=c("pgGW");function p(s,e){1&s&&(n.Pb(0),n.Mb(1,"clr-icon",6),n.Ob())}function f(s,e){if(1&s&&n.Dc(0),2&s){const s=n.bc(2).$implicit,e=n.bc();n.Gc(" ",e.sessionProgress[s.name]," / ",s.exercises.length," ")}}function u(s,e){if(1&s&&(n.Pb(0),n.Bc(1,p,2,0,"ng-container",4),n.Bc(2,f,1,2,"ng-template",null,5,n.Cc),n.Ob()),2&s){const s=n.nc(3),e=n.bc().$implicit,c=n.bc();n.zb(1),n.hc("ngIf",c.sessionProgress[e.name]===e.exercises.length)("ngIfElse",s)}}function m(s,e){if(1&s&&(n.Pb(0),n.Dc(1),n.Ob()),2&s){const s=n.bc().$implicit;n.zb(1),n.Fc(" 0 / ",s.exercises.length," ")}}function v(s,e){if(1&s&&(n.Rb(0,"clr-dg-row",2),n.Rb(1,"clr-dg-cell"),n.Dc(2),n.Qb(),n.Rb(3,"clr-dg-cell"),n.Dc(4),n.Qb(),n.Rb(5,"clr-dg-cell"),n.Bc(6,u,4,2,"ng-container",3),n.Bc(7,m,2,1,"ng-container",3),n.Qb(),n.Qb()),2&s){const s=e.$implicit,c=n.bc();n.hc("clrDgItem",s),n.zb(2),n.Ec(s.name),n.zb(2),n.Ec(s.exercises.length),n.zb(2),n.hc("ngIf",c.sessionProgress[s.name]),n.zb(1),n.hc("ngIf",!c.sessionProgress[s.name])}}function k(s,e){if(1&s&&(n.Rb(0,"clr-dg-detail"),n.Rb(1,"clr-dg-detail-header"),n.Dc(2),n.Qb(),n.Rb(3,"clr-dg-detail-body"),n.Mb(4,"p",7),n.Mb(5,"app-exercise-list",8),n.Qb(),n.Qb()),2&s){const s=e.$implicit;n.zb(2),n.Ec(s.name),n.zb(2),n.hc("innerHTML",s.description,n.sc),n.zb(1),n.hc("exercises",s.exercises)}}let x=(()=>{class s{constructor(s){this.progress=s,this.exercisesOnly=!1,this.sessionProgress={}}ngOnInit(){this.track.sessions.forEach(s=>{this.sessionProgress[s.name]=s.exercises.map(s=>this.progress.isSolved(s.id)).filter(s=>s).length})}}return s.\u0275fac=function(e){return new(e||s)(n.Lb(o.a))},s.\u0275cmp=n.Fb({type:s,selectors:[["app-session-list"]],inputs:{track:"track",exercisesOnly:"exercisesOnly"},decls:9,vars:1,consts:[[3,"clrDgItem",4,"ngFor","ngForOf"],[4,"clrIfDetail"],[3,"clrDgItem"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["notFinished",""],["shape","check"],[3,"innerHTML"],[3,"exercises"]],template:function(s,e){1&s&&(n.Rb(0,"clr-datagrid"),n.Rb(1,"clr-dg-column"),n.Dc(2,"Session"),n.Qb(),n.Rb(3,"clr-dg-column"),n.Dc(4,"Exercises"),n.Qb(),n.Rb(5,"clr-dg-column"),n.Dc(6,"Progress"),n.Qb(),n.Bc(7,v,8,5,"clr-dg-row",0),n.Bc(8,k,6,3,"clr-dg-detail",1),n.Qb()),2&s&&(n.zb(7),n.hc("ngForOf",e.track.sessions))},directives:[r.h,r.eb,r.gb,r.ab,r.hb,r.j,r.db,t.o,r.z,r.r,r.fb,r.i,r.cb,t.p,r.x,r.k,r.m,r.l,g.a],styles:[""]}),s})();function Q(s,e){if(1&s&&(n.Rb(0,"a",15),n.Rb(1,"span",16),n.Dc(2),n.Qb(),n.Rb(3,"span",17),n.Dc(4),n.Qb(),n.Qb()),2&s){const s=e.$implicit;n.jc("href","https://github.com/",s,"",n.tc),n.zb(2),n.Fc(" ",s," "),n.zb(2),n.Fc("Visit ",s," on Github.")}}function R(s,e){if(1&s&&(n.Rb(0,"div"),n.Dc(1," Lecturers: "),n.Bc(2,Q,5,3,"a",14),n.Qb()),2&s){const s=n.bc(2);n.zb(2),n.hc("ngForOf",s.track.admins)}}function y(s,e){if(1&s&&(n.Pb(0),n.Rb(1,"div",2),n.Rb(2,"clr-dropdown"),n.Rb(3,"button",3),n.Mb(4,"clr-icon",4),n.Qb(),n.Rb(5,"clr-dropdown-menu",5),n.Rb(6,"a",6),n.Dc(7,"Edit"),n.Qb(),n.Rb(8,"a",6),n.Dc(9,"Login"),n.Qb(),n.Qb(),n.Qb(),n.Qb(),n.Rb(10,"h1"),n.Dc(11),n.Qb(),n.Rb(12,"div"),n.Bc(13,R,3,1,"div",7),n.Qb(),n.Rb(14,"div",8),n.Rb(15,"div",9),n.Dc(16," Description "),n.Qb(),n.Rb(17,"div",10),n.Mb(18,"div",11),n.Qb(),n.Qb(),n.Rb(19,"div",8),n.Rb(20,"div",9),n.Dc(21," Progress "),n.Qb(),n.Rb(22,"div",10),n.Mb(23,"app-session-progress-bar",12),n.Qb(),n.Qb(),n.Rb(24,"div",8),n.Rb(25,"div",9),n.Dc(26," Exercises "),n.Qb(),n.Rb(27,"div",10),n.Mb(28,"app-session-list",13),n.Qb(),n.Qb(),n.Ob()),2&s){const s=n.bc();n.zb(6),n.hc("disabled",!0),n.zb(2),n.hc("disabled",!0),n.zb(3),n.Ec(s.track.name),n.zb(2),n.hc("ngIf",s.track.admins),n.zb(5),n.hc("innerHTML",s.track.description,n.sc),n.zb(5),n.hc("track",s.track),n.zb(5),n.hc("track",s.track)}}function I(s,e){1&s&&(n.Rb(0,"i"),n.Dc(1,"No track info found."),n.Qb())}let D=(()=>{class s{constructor(s,e){this.route=s,this.exerciseService=e,this.isSynced=!1}ngOnInit(){this.syncSubscription=this.exerciseService.syncFinished.subscribe({next:s=>{this.isSynced=s,this.isSynced&&this.trackId&&(this.track=this.exerciseService.getTrackById(this.trackId),this.isActive())}}),this.route.paramMap.subscribe({next:s=>{this.trackId=s.get("trackId"),this.isSynced&&(this.track=this.exerciseService.getTrackById(this.trackId),this.isActive())}})}isActive(){const s=this.exerciseService.activeTrack.getValue();!this.track||s&&this.track.id===s.id||this.exerciseService.activeTrack.next(this.track)}}return s.\u0275fac=function(e){return new(e||s)(n.Lb(i.a),n.Lb(a.a))},s.\u0275cmp=n.Fb({type:s,selectors:[["app-track-page"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noTrack",""],[2,"float","right"],["clrDropdownTrigger",""],["shape","menu"],["clrPosition","bottom-right"],["clrDropdownItem","",3,"disabled"],[4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-block"],[1,"card-text",3,"innerHTML"],["mode","full",3,"track"],[3,"track"],["target","_blank","class","tooltip tooltip-md tooltip-bottom-right",3,"href",4,"ngFor","ngForOf"],["target","_blank",1,"tooltip","tooltip-md","tooltip-bottom-right",3,"href"],[1,"label","label-light-blue","clickable"],[1,"tooltip-content"]],template:function(s,e){if(1&s&&(n.Bc(0,y,29,7,"ng-container",0),n.Bc(1,I,2,0,"ng-template",null,1,n.Cc)),2&s){const s=n.nc(2);n.hc("ngIf",e.track)("ngIfElse",s)}},directives:[t.p,r.s,r.v,r.x,r.u,r.t,h,x,t.o],styles:[""]}),s})();var z=c("Yv6K");let M=(()=>{class s{}return s.\u0275mod=n.Jb({type:s}),s.\u0275inj=n.Ib({factory:function(e){return new(e||s)},imports:[[t.c,r.a,i.g.forChild([{path:":trackId",component:D}]),z.a]]}),s})()}}]);